[I 2024-05-22 13:01:30,068 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:30,072 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:30,072 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:30,073 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:30,074 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx881b6d478deb81b0" --auto-port 9420
[I 2024-05-22 13:01:39,078 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 42771, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx881b6d478deb81b0) permissions
✖ Fetching AppID (wx881b6d478deb81b0) permissions

[I 2024-05-22 13:01:39,078 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:39][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:39][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:39,546 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:39,548 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:39,548 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:39,548 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:39,549 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9f612fdcc555956c" --auto-port 9420
[I 2024-05-22 13:01:40,577 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9f612fdcc555956c) permissions
✖ Fetching AppID (wx9f612fdcc555956c) permissions

[I 2024-05-22 13:01:40,577 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:40][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:40][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:40,949 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:40,951 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:40,952 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:40,952 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:40,953 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx759c45a8c54a72b7" --auto-port 9420
[I 2024-05-22 13:01:41,786 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx759c45a8c54a72b7) permissions
✖ Fetching AppID (wx759c45a8c54a72b7) permissions

[I 2024-05-22 13:01:41,787 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:41][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:41][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:42,299 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:42,302 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:42,302 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:42,304 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:42,304 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7a4e7d465ac09eea" --auto-port 9420
[I 2024-05-22 13:01:43,324 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx7a4e7d465ac09eea) permissions
✖ Fetching AppID (wx7a4e7d465ac09eea) permissions

[I 2024-05-22 13:01:43,325 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:43][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:43][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:43,638 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:43,640 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:43,640 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:43,641 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:43,641 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8e0042c9f465cb08" --auto-port 9420
[I 2024-05-22 13:01:44,436 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx8e0042c9f465cb08) permissions
✖ Fetching AppID (wx8e0042c9f465cb08) permissions

[I 2024-05-22 13:01:44,436 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:44][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:44][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:44,927 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:44,929 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:44,929 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:44,930 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:44,930 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9efc1a3df6998c64" --auto-port 9420
[I 2024-05-22 13:01:45,805 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9efc1a3df6998c64) permissions
✖ Fetching AppID (wx9efc1a3df6998c64) permissions

[I 2024-05-22 13:01:45,806 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:45][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:45][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:46,166 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:46,170 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:46,170 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:46,171 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:46,172 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxad2e9789b5076244" --auto-port 9420
[I 2024-05-22 13:01:47,018 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxad2e9789b5076244) permissions
✖ Fetching AppID (wxad2e9789b5076244) permissions

[I 2024-05-22 13:01:47,018 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:46][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:46][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:47,420 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:47,422 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:47,422 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:47,423 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:47,423 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9c3ad8a7aaffe2c6" --auto-port 9420
[I 2024-05-22 13:01:48,363 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9c3ad8a7aaffe2c6) permissions
✖ Fetching AppID (wx9c3ad8a7aaffe2c6) permissions

[I 2024-05-22 13:01:48,363 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:48][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:48][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:48,779 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:48,781 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:48,781 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:48,782 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:48,782 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7a60f5dde3ebf0e0" --auto-port 9420
[I 2024-05-22 13:01:49,611 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx7a60f5dde3ebf0e0) permissions
✖ Fetching AppID (wx7a60f5dde3ebf0e0) permissions

[I 2024-05-22 13:01:49,611 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:49][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:49][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:49,947 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:49,949 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:49,950 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:49,950 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:49,951 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7fbb70a732424777" --auto-port 9420
[I 2024-05-22 13:01:50,792 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx7fbb70a732424777) permissions
✖ Fetching AppID (wx7fbb70a732424777) permissions

[I 2024-05-22 13:01:50,793 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:50][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:50][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:51,205 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:51,208 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:51,208 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:51,209 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:51,209 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx44f5fe051e87eb7c" --auto-port 9420
[I 2024-05-22 13:01:52,125 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx44f5fe051e87eb7c) permissions
✖ Fetching AppID (wx44f5fe051e87eb7c) permissions

[I 2024-05-22 13:01:52,126 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:52][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:52][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:52,473 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:52,476 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:52,476 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:52,478 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:52,478 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx88703a7be7f52af6" --auto-port 9420
[I 2024-05-22 13:01:53,325 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx88703a7be7f52af6) permissions
✖ Fetching AppID (wx88703a7be7f52af6) permissions

[I 2024-05-22 13:01:53,326 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:53][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:53][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:53,674 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:53,676 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:53,677 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:53,678 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:53,679 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4886c79f1a844634" --auto-port 9420
[I 2024-05-22 13:01:54,572 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx4886c79f1a844634) permissions
✖ Fetching AppID (wx4886c79f1a844634) permissions

[I 2024-05-22 13:01:54,573 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:54][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:54][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:54,908 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:54,910 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:54,911 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:54,911 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:54,912 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9cce87b6fe589396" --auto-port 9420
[I 2024-05-22 13:01:55,723 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9cce87b6fe589396) permissions
✖ Fetching AppID (wx9cce87b6fe589396) permissions

[I 2024-05-22 13:01:55,723 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:55][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:55][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:56,121 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:56,124 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:56,124 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:56,125 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:56,125 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9390c46f3a5a833a" --auto-port 9420
[I 2024-05-22 13:01:56,973 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9390c46f3a5a833a) permissions
✖ Fetching AppID (wx9390c46f3a5a833a) permissions

[I 2024-05-22 13:01:56,974 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:56][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:56][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:57,336 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:57,338 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:57,339 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:57,340 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:57,340 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9b970bb9a32363a3" --auto-port 9420
[I 2024-05-22 13:01:58,115 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx9b970bb9a32363a3) permissions
✖ Fetching AppID (wx9b970bb9a32363a3) permissions

[I 2024-05-22 13:01:58,115 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:58][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:58][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:58,531 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:58,534 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:58,534 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:58,536 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:58,539 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4ce9c3cff6c3c610" --auto-port 9420
[I 2024-05-22 13:01:59,458 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx4ce9c3cff6c3c610) permissions
✖ Fetching AppID (wx4ce9c3cff6c3c610) permissions

[I 2024-05-22 13:01:59,459 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:59][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:01:59][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:01:59,814 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:01:59,816 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:01:59,816 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:01:59,818 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:01:59,818 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx99717e68e6fc4244" --auto-port 9420
[I 2024-05-22 13:02:00,726 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx99717e68e6fc4244) permissions
✖ Fetching AppID (wx99717e68e6fc4244) permissions

[I 2024-05-22 13:02:00,726 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:00][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:00][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:02:01,128 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:02:01,146 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:02:01,146 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:02:01,148 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:02:01,148 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8e6f17f98fc26e26" --auto-port 9420
[I 2024-05-22 13:02:02,007 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx8e6f17f98fc26e26) permissions
✖ Fetching AppID (wx8e6f17f98fc26e26) permissions

[I 2024-05-22 13:02:02,008 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:01][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:01][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:02:02,411 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:02:02,415 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:02:02,415 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:02:02,416 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:02:02,417 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7e8d07681898656b" --auto-port 9420
[I 2024-05-22 13:02:03,271 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wx7e8d07681898656b) permissions
✖ Fetching AppID (wx7e8d07681898656b) permissions

[I 2024-05-22 13:02:03,272 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:03][] (code 10)Error: 错误 Error: 登录用户不是该小程序的开发者, [20240522 13:02:03][] (code 10)\n' +
    '    at Object.GENERIC_ERROR (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:04:15,154 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:04:15,156 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:04:15,156 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:04:15,157 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:04:15,157 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7a3db22c7de906d0" --auto-port 9420
[I 2024-05-22 13:04:20,558 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:04:20,559 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:04:25,565 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:04:26,252 minium.Conn8176 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:04:26,255 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"be0a502e-5859-4f5d-ba60-230fa8f43f36","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:04:26,264 minium.Conn8176 connection#653 __on_message] RECV < {"id":"be0a502e-5859-4f5d-ba60-230fa8f43f36","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:04:26,265 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"cbc5b50b-a200-4b0f-a9c8-5aa2860893ba","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:04:45,869 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:04:45,874 minium.Conn8176 connection#651 __on_message] RECV < {"id":"cbc5b50b-a200-4b0f-a9c8-5aa2860893ba","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[D 2024-05-22 13:04:45,876 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:04:45,879 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"ff4acb7c-6aae-4c76-b2a7-373df9b807a2","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:04:45,893 minium.Conn8176 connection#653 __on_message] RECV < {"id":"ff4acb7c-6aae-4c76-b2a7-373df9b807a2","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:04:45,893 minium.Conn8176 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:04:45,894 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"50b1063c-5f52-4674-a22d-0e4a219cd97a","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:04:45,899 minium.Conn8176 connection#653 __on_message] RECV < {"id":"50b1063c-5f52-4674-a22d-0e4a219cd97a","result":{}}
[D 2024-05-22 13:04:45,900 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d886974c-86dd-4738-a3af-a068c4899fa0","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:04:45,913 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d886974c-86dd-4738-a3af-a068c4899fa0","result":{}}
[D 2024-05-22 13:04:45,914 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:04:45,919 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"00befc48-fd9c-4152-a893-0beed2a6956e","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:04:45,927 minium.Conn8176 connection#653 __on_message] RECV < {"id":"00befc48-fd9c-4152-a893-0beed2a6956e","result":{}}
[D 2024-05-22 13:04:45,928 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:04:45,931 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"e42449db-512d-4a99-91e6-ca558bf62204","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:04:45,943 minium.Conn8176 connection#653 __on_message] RECV < {"id":"e42449db-512d-4a99-91e6-ca558bf62204","result":{}}
[D 2024-05-22 13:04:45,944 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:04:45,946 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"63c24c80-0016-45f0-9f83-9faa420bcba9","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:04:45,954 minium.Conn8176 connection#653 __on_message] RECV < {"id":"63c24c80-0016-45f0-9f83-9faa420bcba9","result":{"result":true}}
[D 2024-05-22 13:04:45,955 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"ee6db899-711c-45ad-a7e0-124392d30030","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:04:45,962 minium.Conn8176 connection#651 __on_message] RECV < {"id":"ee6db899-711c-45ad-a7e0-124392d30030","result":{"result":{"pages":["pages/scanqrCode/index","pages/batteryCharge/index","pages/soluteProblem/index","pages/replenishment/replenishment","pages/openLock/openLock","pages/index/index","pages/login/login","pages/music/music","pages/lamplight/lamplight","pages/bluetoothHelp/index","pages/replenishment/out/out","pages/complaint/complaint","pages/commonProblem/index","pages/serviceHelp/index","pages/jumpWeb/index","pages/airConditioning/index","pages/authP...
[D 2024-05-22 13:04:45,964 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"cf410b7c-b63f-4bba-b7c2-bc47a5357cf2","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:04:45,970 minium.Conn8176 connection#653 __on_message] RECV < {"id":"cf410b7c-b63f-4bba-b7c2-bc47a5357cf2","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:04:45,971 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"6f029b81-6bc4-4b5e-b664-642939caad67","method":"App.addBinding","params":{"name":"showModal_before_1716397485971"}}
[D 2024-05-22 13:04:45,983 minium.Conn8176 connection#653 __on_message] RECV < {"id":"6f029b81-6bc4-4b5e-b664-642939caad67","result":{}}
[D 2024-05-22 13:04:45,985 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2ffcb6ef-1f7d-44cc-ae87-aa36ce7cb995","method":"App.addBinding","params":{"name":"showModal_callback_1716397485971"}}
[D 2024-05-22 13:04:45,991 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2ffcb6ef-1f7d-44cc-ae87-aa36ce7cb995","result":{}}
[D 2024-05-22 13:04:45,992 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:04:45,996 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"fbeb27aa-a73f-41a8-af97-9a1979fd374b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716397485971,after:undefined,callback:showModal_callback_1716397485971},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716397485971,true]}}
[D 2024-05-22 13:04:46,003 minium.Conn8176 connection#653 __on_message] RECV < {"id":"fbeb27aa-a73f-41a8-af97-9a1979fd374b","result":{}}
[D 2024-05-22 13:04:46,004 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"3588ce7d-7d4e-4f7d-9d82-904059390507","method":"App.addBinding","params":{"name":"showToast_before_1716397486004"}}
[D 2024-05-22 13:04:46,008 minium.Conn8176 connection#653 __on_message] RECV < {"id":"3588ce7d-7d4e-4f7d-9d82-904059390507","result":{}}
[D 2024-05-22 13:04:46,010 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4ab2de4d-ee51-4a65-9dc0-602137d41c0c","method":"App.addBinding","params":{"name":"showToast_callback_1716397486004"}}
[D 2024-05-22 13:04:46,016 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4ab2de4d-ee51-4a65-9dc0-602137d41c0c","result":{}}
[D 2024-05-22 13:04:46,017 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:04:46,017 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"0524c4d8-518c-42d8-b8ce-0360d8f43f99","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716397486004,after:undefined,callback:showToast_callback_1716397486004},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716397486004,true]}}
[D 2024-05-22 13:04:46,022 minium.Conn8176 connection#653 __on_message] RECV < {"id":"0524c4d8-518c-42d8-b8ce-0360d8f43f99","result":{}}
[D 2024-05-22 13:04:46,024 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4fe5e546-e548-4c3d-bc9e-d12e2d5cb856","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:04:46,035 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4fe5e546-e548-4c3d-bc9e-d12e2d5cb856","result":{"result":{"path":"pages/scanqrCode/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:04:46,036 minium app#731 relaunch] ReLaunch: /pages/scanqrCode/index
[D 2024-05-22 13:04:46,037 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"7b5fc75b-1582-437f-ad97-26f7a0a86024","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:04:46,044 minium.Conn8176 connection#653 __on_message] RECV < {"id":"7b5fc75b-1582-437f-ad97-26f7a0a86024","result":{"pageId":1,"path":"pages/scanqrCode/index","query":{}}}
[D 2024-05-22 13:04:46,045 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"f81f6c57-2cbb-4363-9604-89fe536145e7","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanqrCode/index"}]}}
[D 2024-05-22 13:04:46,192 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f81f6c57-2cbb-4363-9604-89fe536145e7","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:04:46,193 minium.Conn8176 connection#697 _handle_async_msg] received async msg: f81f6c57-2cbb-4363-9604-89fe536145e7
[D 2024-05-22 13:04:46,958 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/scanqrCode/index","query":{},"openType":"reLaunch","__ts__":1716397486938},1716397486940]}}
[I 2024-05-22 13:04:46,959 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716397486938}, 1716397486940]}
[D 2024-05-22 13:04:46,963 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"babb9420-ed8d-4f32-aef9-814377105c87","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:04:46,970 minium.Conn8176 connection#653 __on_message] RECV < {"id":"babb9420-ed8d-4f32-aef9-814377105c87","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:04:46,974 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"a80879f4-8b7b-401c-a2bc-5d7af9f0a748","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:04:46,988 minium.Conn8176 connection#653 __on_message] RECV < {"id":"a80879f4-8b7b-401c-a2bc-5d7af9f0a748","result":{"result":false}}
[D 2024-05-22 13:04:46,991 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:04:46,995 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"31cb9b96-8f61-41ed-a455-8c0810268af4","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:04:47,009 minium.Conn8176 connection#653 __on_message] RECV < {"id":"31cb9b96-8f61-41ed-a455-8c0810268af4","result":{}}
[D 2024-05-22 13:04:47,011 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"69aa107a-fc41-4ea7-a89e-c7d7d345ca68","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:04:47,778 minium.Conn8176 connection#653 __on_message] RECV < {"id":"69aa107a-fc41-4ea7-a89e-c7d7d345ca68","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:04:47,782 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"9da6a7f1-89a0-42a1-accc-feea43b47e21","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:04:47,789 minium.Conn8176 connection#653 __on_message] RECV < {"id":"9da6a7f1-89a0-42a1-accc-feea43b47e21","result":{}}
[D 2024-05-22 13:04:47,792 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"01dd8a2b-664c-4fd4-9122-0a8168f4a989","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:04:47,797 minium.Conn8176 connection#653 __on_message] RECV < {"id":"01dd8a2b-664c-4fd4-9122-0a8168f4a989","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:04:47,798 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"902f97a8-e2b8-4a10-b382-411f6bca0c3e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:04:47,804 minium.Conn8176 connection#651 __on_message] RECV < {"id":"902f97a8-e2b8-4a10-b382-411f6bca0c3e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[I 2024-05-22 13:04:47,805 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:04:47,806 minium minitest#370 _miniSetUp] =========Current case: test_forms=========
[I 2024-05-22 13:04:47,807 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test5_find_pages_and_inputs.test.test_minium, case info: Minium_Query.test_forms
[I 2024-05-22 13:04:47,807 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:04:47,807 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:04:47,808 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:04:47,808 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:04:47,808 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 13:04:47,809 minium app#731 relaunch] ReLaunch: /pages/scanqrCode/index
[D 2024-05-22 13:04:47,809 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"1bc07d20-8dc8-4386-b29d-52152c823c63","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanqrCode/index"}]}}
[D 2024-05-22 13:04:47,968 minium.Conn8176 connection#653 __on_message] RECV < {"id":"1bc07d20-8dc8-4386-b29d-52152c823c63","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:04:47,969 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 1bc07d20-8dc8-4386-b29d-52152c823c63
[D 2024-05-22 13:04:48,490 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"reLaunch","__ts__":1716397488463},1716397488466]}}
[I 2024-05-22 13:04:48,492 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716397488463}, 1716397488466]}
[I 2024-05-22 13:04:48,494 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:04:48,495 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:04:48,496 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"331b58a0-857f-481c-92c7-15222889954d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:04:48,797 minium.Conn8176 connection#651 __on_message] RECV < {"id":"331b58a0-857f-481c-92c7-15222889954d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXecHcWVNvyce+9ETZRGmlEaBUACSYCMhAiyyUnGBmds4wCvcVzb33rXu/Z+Xqd919hevMabAK/jsjaOGLwY1mAwYDAgEFkChABJKDEaSaPRzGji7fP+Ud3V1VXVffveyZp6fjDq212pq+upc+rUqSo6c/6X4ODgMDmRGe8CODg4lA5HYAeHSQxH4CkDBni8yzApUFJFMY9P5ebGJVcHh4kLGu8CFIOoBHadtIODxGSgQyCBRUEnUd8z0gUWKhARyQtE9SJxZ+wQvCCP1FuWloqZfaGaVytwoiO5cot5A/99S22WxVaaDB9IYJoc7A0ZNSYFlhU6Ds0xeEFrxsw8RoMuI3ue+FIpPUb8q445j3Ij18OXiO...
[I 2024-05-22 13:04:48,799 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:04:48,800 minium minitest#424 _miniSetUp] =========case: test_forms start=========
[D 2024-05-22 13:04:48,801 minium app#433 _evaluate_js] evaluate js file getAllPagesPath [ALL]
[D 2024-05-22 13:04:48,801 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"e667fa60-e8df-45ae-a296-479d6edec4b6","method":"App.callFunction","params":{"functionDeclaration":"function(){return __wxConfig.pages}","args":[]}}
[D 2024-05-22 13:04:48,807 minium.Conn8176 connection#651 __on_message] RECV < {"id":"e667fa60-e8df-45ae-a296-479d6edec4b6","result":{"result":["pages/scanqrCode/index","pages/batteryCharge/index","pages/soluteProblem/index","pages/replenishment/replenishment","pages/openLock/openLock","pages/index/index","pages/login/login","pages/music/music","pages/lamplight/lamplight","pages/bluetoothHelp/index","pages/replenishment/out/out","pages/complaint/complaint","pages/commonProblem/index","pages/serviceHelp/index","pages/jumpWeb/index","pages/airConditioning/index","pages/authPage/index...
[I 2024-05-22 13:04:48,808 minium app#689 navigate_to] NavigateTo: /pages/scanqrCode/index
[D 2024-05-22 13:04:48,809 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"f943a72a-c7bf-4a8e-8883-257728c340c9","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/scanqrCode/index"}]}}
[D 2024-05-22 13:04:48,870 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f943a72a-c7bf-4a8e-8883-257728c340c9","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:04:48,871 minium.Conn8176 connection#697 _handle_async_msg] received async msg: f943a72a-c7bf-4a8e-8883-257728c340c9
[D 2024-05-22 13:04:49,648 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":5,"path":"pages/scanqrCode/index","query":{},"openType":"navigateTo","__ts__":1716397489624},1716397489626]}}
[I 2024-05-22 13:04:49,650 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 5, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397489624}, 1716397489626]}
[D 2024-05-22 13:04:54,657 minium page#321 wait_for] waitFor: 5.005108833312988 s
[I 2024-05-22 13:04:54,658 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:04:54,658 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d4b7e913-6121-4a53-94bf-697487686cc0","method":"Page.getElements","params":{"selector":"form","pageId":5}}
[D 2024-05-22 13:04:54,680 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d4b7e913-6121-4a53-94bf-697487686cc0","result":{"elements":[]}}
[W 2024-05-22 13:04:54,681 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:04:54,682 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"c9c0f487-9c60-4578-95ff-c6d786b5fbe6","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:04:54,687 minium.Conn8176 connection#653 __on_message] RECV < {"id":"c9c0f487-9c60-4578-95ff-c6d786b5fbe6","result":{"pageStack":[{"pageId":4,"path":"pages/scanqrCode/index","query":{}},{"pageId":5,"path":"pages/scanqrCode/index","query":{}}]}}
[I 2024-05-22 13:04:54,694 minium app#749 navigate_back] NavigateBack from:/pages/scanqrCode/index
[D 2024-05-22 13:04:54,695 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"739ccc89-74a5-4192-860f-9acfee9e42f8","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:04:54,800 minium.Conn8176 connection#653 __on_message] RECV < {"id":"739ccc89-74a5-4192-860f-9acfee9e42f8","result":{"result":{}}}
[D 2024-05-22 13:04:55,122 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"navigateBack","__ts__":1716397495099},1716397495101]}}
[I 2024-05-22 13:04:55,126 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397495099}, 1716397495101]}
[I 2024-05-22 13:04:55,126 minium app#689 navigate_to] NavigateTo: /pages/batteryCharge/index
[D 2024-05-22 13:04:55,129 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"2122b40b-f10e-4d27-8132-e012c573001e","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/batteryCharge/index"}]}}
[D 2024-05-22 13:04:55,271 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2122b40b-f10e-4d27-8132-e012c573001e","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:04:55,283 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 2122b40b-f10e-4d27-8132-e012c573001e
[D 2024-05-22 13:04:55,879 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":6,"path":"pages/batteryCharge/index","query":{},"openType":"navigateTo","__ts__":1716397495857},1716397495860]}}
[I 2024-05-22 13:04:55,881 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 6, 'path': 'pages/batteryCharge/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397495857}, 1716397495860]}
[D 2024-05-22 13:04:56,684 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716397486004","args":[{"title":"wxc26bf025c84ef3b7 小程序信息不存在","icon":"none","duration":3000,"mask":true},0.07346715594372344]}}
[D 2024-05-22 13:04:56,686 minium app#1074 super_before] showToast before hook result: [{'title': 'wxc26bf025c84ef3b7 小程序信息不存在', 'icon': 'none', 'duration': 3000, 'mask': True}, 0.07346715594372344]
[D 2024-05-22 13:04:56,711 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716397486004","args":[{"errMsg":"showToast:ok"},0.07346715594372344]}}
[D 2024-05-22 13:04:56,713 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.07346715594372344]
[D 2024-05-22 13:05:00,887 minium page#321 wait_for] waitFor: 5.0053746700286865 s
[I 2024-05-22 13:05:00,889 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:00,890 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f0db777a-552d-4e74-a119-d023ef06410a","method":"Page.getElements","params":{"selector":"form","pageId":6}}
[D 2024-05-22 13:05:00,904 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f0db777a-552d-4e74-a119-d023ef06410a","result":{"elements":[]}}
[W 2024-05-22 13:05:00,906 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:00,906 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4f1930c6-c0bb-4e00-a622-5532dbe20ed4","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:00,911 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4f1930c6-c0bb-4e00-a622-5532dbe20ed4","result":{"pageStack":[{"pageId":4,"path":"pages/scanqrCode/index","query":{}},{"pageId":6,"path":"pages/batteryCharge/index","query":{}}]}}
[I 2024-05-22 13:05:00,913 minium app#749 navigate_back] NavigateBack from:/pages/batteryCharge/index
[D 2024-05-22 13:05:00,914 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f47528fb-8194-4d98-ae5c-86e2c060fb6c","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:05:00,980 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f47528fb-8194-4d98-ae5c-86e2c060fb6c","result":{"result":{}}}
[D 2024-05-22 13:05:01,349 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"navigateBack","__ts__":1716397501331},1716397501333]}}
[I 2024-05-22 13:05:01,352 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397501331}, 1716397501333]}
[I 2024-05-22 13:05:01,352 minium app#689 navigate_to] NavigateTo: /pages/soluteProblem/index
[D 2024-05-22 13:05:01,354 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"05769482-a5e0-4f72-8d5c-10067c71f297","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/soluteProblem/index"}]}}
[D 2024-05-22 13:05:01,465 minium.Conn8176 connection#653 __on_message] RECV < {"id":"05769482-a5e0-4f72-8d5c-10067c71f297","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:05:01,466 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 05769482-a5e0-4f72-8d5c-10067c71f297
[D 2024-05-22 13:05:01,741 minium.Conn8176 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'includes' of undefined","stack":"TypeError: Cannot read property 'includes' of undefined\n    at yi.onLoad (http://127.0.0.1:34147/appservice/pages/soluteProblem/index.js?t=wechat&s=1716397461700&v=4bf609dd41e9baf63967f9cb1d130b53:18:35)\n    at yi.<anonymous> (http://127.0.0.1:34147/appservice/__dev__/WASubContext.js?t=wechat&s=1716397461700&v=3.4.3:1:478511)\n    at yi.c.__callPageLifeTime__ (http://127.0.0.1:34147/appservice/__...
[D 2024-05-22 13:05:02,089 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":7,"path":"pages/soluteProblem/index","query":{},"openType":"navigateTo","__ts__":1716397502069},1716397502071]}}
[I 2024-05-22 13:05:02,090 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 7, 'path': 'pages/soluteProblem/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397502069}, 1716397502071]}
[D 2024-05-22 13:05:07,096 minium page#321 wait_for] waitFor: 5.005290269851685 s
[I 2024-05-22 13:05:07,097 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:07,098 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"502b938b-af5b-4411-be86-996dcdaf68d7","method":"Page.getElements","params":{"selector":"form","pageId":7}}
[D 2024-05-22 13:05:07,109 minium.Conn8176 connection#653 __on_message] RECV < {"id":"502b938b-af5b-4411-be86-996dcdaf68d7","result":{"elements":[]}}
[W 2024-05-22 13:05:07,110 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:07,111 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"81397e00-dbf4-4bea-b992-593ae8d3d100","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:07,115 minium.Conn8176 connection#653 __on_message] RECV < {"id":"81397e00-dbf4-4bea-b992-593ae8d3d100","result":{"pageStack":[{"pageId":4,"path":"pages/scanqrCode/index","query":{}},{"pageId":7,"path":"pages/soluteProblem/index","query":{}}]}}
[I 2024-05-22 13:05:07,117 minium app#749 navigate_back] NavigateBack from:/pages/soluteProblem/index
[D 2024-05-22 13:05:07,117 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"548ece6b-ea0a-4f7f-8eb4-68fa35ad7a5d","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:05:07,192 minium.Conn8176 connection#653 __on_message] RECV < {"id":"548ece6b-ea0a-4f7f-8eb4-68fa35ad7a5d","result":{"result":{}}}
[D 2024-05-22 13:05:07,490 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"navigateBack","__ts__":1716397507464},1716397507467]}}
[I 2024-05-22 13:05:07,492 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397507464}, 1716397507467]}
[I 2024-05-22 13:05:07,493 minium app#689 navigate_to] NavigateTo: /pages/replenishment/replenishment
[D 2024-05-22 13:05:07,494 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"872eb93a-3d68-4bca-b1bc-f157fd4aa9f6","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/replenishment/replenishment"}]}}
[D 2024-05-22 13:05:07,640 minium.Conn8176 connection#653 __on_message] RECV < {"id":"872eb93a-3d68-4bca-b1bc-f157fd4aa9f6","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:05:07,641 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 872eb93a-3d68-4bca-b1bc-f157fd4aa9f6
[D 2024-05-22 13:05:07,891 minium.Conn8176 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'includes' of undefined","stack":"TypeError: Cannot read property 'includes' of undefined\n    at yi.onLoad (http://127.0.0.1:34147/appservice/pages/replenishment/replenishment.js?t=wechat&s=1716397461700&v=5d8638f3c3ff286b61c1fd9d37853bbf:66:43)\n    at yi.<anonymous> (http://127.0.0.1:34147/appservice/__dev__/WASubContext.js?t=wechat&s=1716397461700&v=3.4.3:1:478511)\n    at yi.c.__callPageLifeTime__ (http://127.0.0.1:34147/appse...
[D 2024-05-22 13:05:08,212 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":8,"path":"pages/replenishment/replenishment","query":{},"openType":"navigateTo","__ts__":1716397508190},1716397508193]}}
[I 2024-05-22 13:05:08,215 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 8, 'path': 'pages/replenishment/replenishment', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397508190}, 1716397508193]}
[D 2024-05-22 13:05:13,222 minium page#321 wait_for] waitFor: 5.005354166030884 s
[I 2024-05-22 13:05:13,223 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:13,223 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"1915b8d7-78b9-4ef2-9481-e145a1b82faf","method":"Page.getElements","params":{"selector":"form","pageId":8}}
[D 2024-05-22 13:05:13,234 minium.Conn8176 connection#653 __on_message] RECV < {"id":"1915b8d7-78b9-4ef2-9481-e145a1b82faf","result":{"elements":[]}}
[W 2024-05-22 13:05:13,236 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:13,237 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4ba5a923-3582-4719-a967-cc7af0d26e41","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:13,245 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4ba5a923-3582-4719-a967-cc7af0d26e41","result":{"pageStack":[{"pageId":4,"path":"pages/scanqrCode/index","query":{}},{"pageId":8,"path":"pages/replenishment/replenishment","query":{}}]}}
[I 2024-05-22 13:05:13,247 minium app#749 navigate_back] NavigateBack from:/pages/replenishment/replenishment
[D 2024-05-22 13:05:13,249 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"51e4bd89-59dc-45c3-a85b-373efa95e4db","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:05:13,315 minium.Conn8176 connection#653 __on_message] RECV < {"id":"51e4bd89-59dc-45c3-a85b-373efa95e4db","result":{"result":{}}}
[D 2024-05-22 13:05:13,584 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"navigateBack","__ts__":1716397513564},1716397513565]}}
[I 2024-05-22 13:05:13,585 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397513564}, 1716397513565]}
[I 2024-05-22 13:05:13,586 minium app#689 navigate_to] NavigateTo: /pages/openLock/openLock
[D 2024-05-22 13:05:13,586 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"96163d5a-8ca3-48fb-8376-949e82ea3dae","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/openLock/openLock"}]}}
[D 2024-05-22 13:05:13,689 minium.Conn8176 connection#653 __on_message] RECV < {"id":"96163d5a-8ca3-48fb-8376-949e82ea3dae","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:05:13,690 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 96163d5a-8ca3-48fb-8376-949e82ea3dae
[D 2024-05-22 13:05:14,022 minium.Conn8176 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'includes' of undefined","stack":"TypeError: Cannot read property 'includes' of undefined\n    at yi.onLoad (http://127.0.0.1:34147/appservice/pages/openLock/openLock.js?t=wechat&s=1716397461700&v=1e6f96068bd94cd4a5ec02b84eb52277:45:39)\n    at yi.<anonymous> (http://127.0.0.1:34147/appservice/__dev__/WASubContext.js?t=wechat&s=1716397461700&v=3.4.3:1:478511)\n    at yi.c.__callPageLifeTime__ (http://127.0.0.1:34147/appservice/__de...
[D 2024-05-22 13:05:14,390 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":9,"path":"pages/openLock/openLock","query":{},"openType":"navigateTo","__ts__":1716397514372},1716397514374]}}
[I 2024-05-22 13:05:14,391 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 9, 'path': 'pages/openLock/openLock', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397514372}, 1716397514374]}
[D 2024-05-22 13:05:19,399 minium page#321 wait_for] waitFor: 5.005113840103149 s
[I 2024-05-22 13:05:19,399 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:19,400 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"e1b64f55-1509-45ac-b881-6b0add37211a","method":"Page.getElements","params":{"selector":"form","pageId":9}}
[D 2024-05-22 13:05:19,411 minium.Conn8176 connection#653 __on_message] RECV < {"id":"e1b64f55-1509-45ac-b881-6b0add37211a","result":{"elements":[]}}
[W 2024-05-22 13:05:19,412 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:19,413 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"b44780b9-667e-41ca-8796-48e01bf025fe","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:19,421 minium.Conn8176 connection#653 __on_message] RECV < {"id":"b44780b9-667e-41ca-8796-48e01bf025fe","result":{"pageStack":[{"pageId":4,"path":"pages/scanqrCode/index","query":{}},{"pageId":9,"path":"pages/openLock/openLock","query":{}}]}}
[I 2024-05-22 13:05:19,423 minium app#749 navigate_back] NavigateBack from:/pages/openLock/openLock
[D 2024-05-22 13:05:19,424 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"85325ca0-6134-4f67-a337-4bbd4f640f15","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:05:19,531 minium.Conn8176 connection#653 __on_message] RECV < {"id":"85325ca0-6134-4f67-a337-4bbd4f640f15","result":{"result":{}}}
[D 2024-05-22 13:05:19,845 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/scanqrCode/index","query":{},"openType":"navigateBack","__ts__":1716397519822},1716397519829]}}
[I 2024-05-22 13:05:19,847 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397519822}, 1716397519829]}
[I 2024-05-22 13:05:19,848 minium app#689 navigate_to] NavigateTo: /pages/index/index
[D 2024-05-22 13:05:19,851 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"31f828f8-9a78-4b84-90e9-9df4203a19f1","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:05:19,875 minium.Conn8176 connection#653 __on_message] RECV < {"id":"31f828f8-9a78-4b84-90e9-9df4203a19f1","error":{"message":"can not navigateTo a tabbar page"}}
[E 2024-05-22 13:05:19,876 minium.Conn8176 connection#661 __on_message] [31f828f8-9a78-4b84-90e9-9df4203a19f1]: can not navigateTo a tabbar page
[I 2024-05-22 13:05:19,876 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 31f828f8-9a78-4b84-90e9-9df4203a19f1
[D 2024-05-22 13:05:19,882 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"57c67ae4-6950-4683-a250-5777414de6d8","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:05:20,074 minium.Conn8176 connection#653 __on_message] RECV < {"id":"57c67ae4-6950-4683-a250-5777414de6d8","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:05:20,075 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 57c67ae4-6950-4683-a250-5777414de6d8
[D 2024-05-22 13:05:20,585 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716397486004","args":[{"title":"请扫描设备二维码进入!","icon":"none","duration":3000,"mask":true},0.7647096653386605]}}
[D 2024-05-22 13:05:20,586 minium app#1074 super_before] showToast before hook result: [{'title': '请扫描设备二维码进入!', 'icon': 'none', 'duration': 3000, 'mask': True}, 0.7647096653386605]
[D 2024-05-22 13:05:20,615 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716397486004","args":[{"title":"请扫描设备二维码进入!","icon":"none","duration":3000,"mask":true},0.33361651396876213]}}
[D 2024-05-22 13:05:20,616 minium app#1074 super_before] showToast before hook result: [{'title': '请扫描设备二维码进入!', 'icon': 'none', 'duration': 3000, 'mask': True}, 0.33361651396876213]
[D 2024-05-22 13:05:20,662 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716397486004","args":[{"errMsg":"showToast:ok"},0.7647096653386605]}}
[D 2024-05-22 13:05:20,663 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.7647096653386605]
[D 2024-05-22 13:05:20,666 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716397486004","args":[{"errMsg":"showToast:ok"},0.33361651396876213]}}
[D 2024-05-22 13:05:20,673 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.33361651396876213]
[D 2024-05-22 13:05:20,878 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":10,"path":"pages/index/index","query":{},"openType":"switchTab","__ts__":1716397520817},1716397520821]}}
[I 2024-05-22 13:05:20,880 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 10, 'path': 'pages/index/index', 'query': {}, 'openType': 'switchTab', '__ts__': 1716397520817}, 1716397520821]}
[D 2024-05-22 13:05:25,887 minium page#321 wait_for] waitFor: 5.005147218704224 s
[I 2024-05-22 13:05:25,888 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:25,889 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"ad6e7120-aab7-4f65-95e6-9ed08eba329b","method":"Page.getElements","params":{"selector":"form","pageId":10}}
[D 2024-05-22 13:05:25,899 minium.Conn8176 connection#653 __on_message] RECV < {"id":"ad6e7120-aab7-4f65-95e6-9ed08eba329b","result":{"elements":[]}}
[W 2024-05-22 13:05:25,900 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:25,901 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"7d793713-591d-4825-97a6-6ff76c303e82","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:25,906 minium.Conn8176 connection#653 __on_message] RECV < {"id":"7d793713-591d-4825-97a6-6ff76c303e82","result":{"pageStack":[{"pageId":10,"path":"pages/index/index","query":{}}]}}
[W 2024-05-22 13:05:25,907 minium app#747 navigate_back] Current page is root, can't navigate back
[I 2024-05-22 13:05:25,908 minium app#689 navigate_to] NavigateTo: /pages/login/login
[D 2024-05-22 13:05:25,909 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"9e950a67-1d80-433d-8f40-18272f340ac8","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/login/login"}]}}
[D 2024-05-22 13:05:26,038 minium.Conn8176 connection#653 __on_message] RECV < {"id":"9e950a67-1d80-433d-8f40-18272f340ac8","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:05:26,038 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 9e950a67-1d80-433d-8f40-18272f340ac8
[D 2024-05-22 13:05:26,632 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":11,"path":"pages/login/login","query":{},"openType":"navigateTo","__ts__":1716397526612},1716397526614]}}
[I 2024-05-22 13:05:26,633 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 11, 'path': 'pages/login/login', 'query': {}, 'openType': 'navigateTo', '__ts__': 1716397526612}, 1716397526614]}
[D 2024-05-22 13:05:31,641 minium page#321 wait_for] waitFor: 5.005350589752197 s
[I 2024-05-22 13:05:31,642 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-05-22 13:05:31,642 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"e7a60ff9-f22d-44bc-abb6-1f4d9da2cba2","method":"Page.getElements","params":{"selector":"form","pageId":11}}
[D 2024-05-22 13:05:31,653 minium.Conn8176 connection#653 __on_message] RECV < {"id":"e7a60ff9-f22d-44bc-abb6-1f4d9da2cba2","result":{"elements":[]}}
[W 2024-05-22 13:05:31,654 minium page#562 _get_elements_by_css] Could not found any element 'form' you need
[D 2024-05-22 13:05:31,655 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"186bc891-96cd-4c9f-a49c-7f24191b44db","method":"App.getPageStack","params":{}}
[D 2024-05-22 13:05:31,660 minium.Conn8176 connection#653 __on_message] RECV < {"id":"186bc891-96cd-4c9f-a49c-7f24191b44db","result":{"pageStack":[{"pageId":10,"path":"pages/index/index","query":{}},{"pageId":11,"path":"pages/login/login","query":{}}]}}
[I 2024-05-22 13:05:31,661 minium app#749 navigate_back] NavigateBack from:/pages/login/login
[D 2024-05-22 13:05:31,663 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4f6fd5f7-d859-4490-b977-1274c2764adc","method":"App.callWxMethod","params":{"method":"navigateBack","args":[{"delta":1}]}}
[D 2024-05-22 13:05:31,739 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4f6fd5f7-d859-4490-b977-1274c2764adc","result":{"result":{}}}
[D 2024-05-22 13:05:31,741 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716397486004","args":[{"title":"请扫描设备二维码进入!","icon":"none","duration":3000,"mask":true},0.3423163856963931]}}
[D 2024-05-22 13:05:31,744 minium app#1074 super_before] showToast before hook result: [{'title': '请扫描设备二维码进入!', 'icon': 'none', 'duration': 3000, 'mask': True}, 0.3423163856963931]
[D 2024-05-22 13:05:31,786 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716397486004","args":[{"title":"请扫描设备二维码进入!","icon":"none","duration":3000,"mask":true},0.8519604794614779]}}
[D 2024-05-22 13:05:31,788 minium app#1074 super_before] showToast before hook result: [{'title': '请扫描设备二维码进入!', 'icon': 'none', 'duration': 3000, 'mask': True}, 0.8519604794614779]
[D 2024-05-22 13:05:31,808 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716397486004","args":[{"errMsg":"showToast:ok"},0.3423163856963931]}}
[D 2024-05-22 13:05:31,810 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.3423163856963931]
[D 2024-05-22 13:05:31,812 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716397486004","args":[{"errMsg":"showToast:ok"},0.8519604794614779]}}
[D 2024-05-22 13:05:31,814 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.8519604794614779]
[D 2024-05-22 13:05:31,899 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":10,"path":"pages/index/index","query":{},"openType":"navigateBack","__ts__":1716397531893},1716397531896]}}
[I 2024-05-22 13:05:31,901 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 10, 'path': 'pages/index/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1716397531893}, 1716397531896]}
[I 2024-05-22 13:05:31,902 minium app#689 navigate_to] NavigateTo: /pages/music/music
[D 2024-05-22 13:05:31,905 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"60d404eb-0ebb-45d4-830e-12eab117f635","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/music/music"}]}}
[D 2024-05-22 13:05:31,993 minium.Conn8176 connection#653 __on_message] RECV < {"id":"60d404eb-0ebb-45d4-830e-12eab117f635","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-05-22 13:05:31,994 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 60d404eb-0ebb-45d4-830e-12eab117f635
[D 2024-05-22 13:05:32,305 minium.Conn8176 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'split' of undefined","stack":"TypeError: Cannot read property 'split' of undefined\n    at yi.onLoad (http://127.0.0.1:34147/appservice/pages/music/music.js?t=wechat&s=1716397461700&v=45f1010c912b101307055f9c3d886bf5:42:31)\n    at yi.<anonymous> (http://127.0.0.1:34147/appservice/__dev__/WASubContext.js?t=wechat&s=1716397461700&v=3.4.3:1:478511)\n    at yi.c.__callPageLifeTime__ (http://127.0.0.1:34147/appservice/__dev__/WASubCon...
[I 2024-05-22 13:06:11,157 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:06:11,160 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:06:11,161 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:06:11,162 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:06:11,162 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9c3ad8a7aaffe2c6" --auto-port 9420
[I 2024-05-22 13:06:13,411 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✖ Fetching AppID (wxc26bf025c84ef3b7) detailed information

[I 2024-05-22 13:06:13,412 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: Port 9420 is in use (code 10)Error: Port 9420 is in use\n' +
    '    at Object.exports.auto [as method] (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/1d3c44fb45826718b091c4f56f6d9ab0.js:2:1287)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3779\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:06:13,412 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:06:13,562 minium.Conn4992 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:06:13,563 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"7863b057-a3fd-4f9e-af4c-c7cd12395e9a","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:06:13,565 minium.Conn4992 connection#653 __on_message] RECV < {"id":"7863b057-a3fd-4f9e-af4c-c7cd12395e9a","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:06:13,566 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"33688d62-fbd4-4352-9b49-66c55aaf953f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:06:13,580 minium.Conn4992 connection#651 __on_message] RECV < {"id":"33688d62-fbd4-4352-9b49-66c55aaf953f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[D 2024-05-22 13:06:13,581 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:06:13,582 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"a742c9dc-9fa2-46eb-81ea-e9d0f48bfe81","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:06:13,587 minium.Conn4992 connection#653 __on_message] RECV < {"id":"a742c9dc-9fa2-46eb-81ea-e9d0f48bfe81","result":{"result":{"injected":true,"isThirdApp":false}}}
[D 2024-05-22 13:06:13,588 minium.Conn4992 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:06:13,589 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"71daa4fc-c454-4de6-acd0-7cf06918d484","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:06:13,594 minium.Conn4992 connection#653 __on_message] RECV < {"id":"71daa4fc-c454-4de6-acd0-7cf06918d484","result":{}}
[D 2024-05-22 13:06:13,595 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"ae845c68-f6c4-4346-9455-05b6aa1b5467","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:06:13,603 minium.Conn4992 connection#653 __on_message] RECV < {"id":"ae845c68-f6c4-4346-9455-05b6aa1b5467","result":{}}
[D 2024-05-22 13:06:13,604 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:06:13,605 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"108702fa-2b67-4cfe-9d7e-0e443eee6594","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:06:13,617 minium.Conn4992 connection#653 __on_message] RECV < {"id":"108702fa-2b67-4cfe-9d7e-0e443eee6594","result":{}}
[D 2024-05-22 13:06:13,618 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:06:13,619 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"381c743c-4d6b-4ec0-8dc3-5ca779c50bf6","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:06:13,634 minium.Conn4992 connection#653 __on_message] RECV < {"id":"381c743c-4d6b-4ec0-8dc3-5ca779c50bf6","result":{}}
[D 2024-05-22 13:06:13,635 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:06:13,636 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"390d2a93-0da5-4928-b08f-b33f901a5ff2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:06:13,643 minium.Conn4992 connection#653 __on_message] RECV < {"id":"390d2a93-0da5-4928-b08f-b33f901a5ff2","result":{"result":false}}
[D 2024-05-22 13:06:13,645 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"7e01a4ca-e926-4a20-8f23-87bf2f9b4c08","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:06:13,652 minium.Conn4992 connection#651 __on_message] RECV < {"id":"7e01a4ca-e926-4a20-8f23-87bf2f9b4c08","result":{"result":{"pages":["pages/scanqrCode/index","pages/batteryCharge/index","pages/soluteProblem/index","pages/replenishment/replenishment","pages/openLock/openLock","pages/index/index","pages/login/login","pages/music/music","pages/lamplight/lamplight","pages/bluetoothHelp/index","pages/replenishment/out/out","pages/complaint/complaint","pages/commonProblem/index","pages/serviceHelp/index","pages/jumpWeb/index","pages/airConditioning/index","pages/authP...
[D 2024-05-22 13:06:13,653 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"f498bd0f-455e-49b2-b2d3-a73490aa2d6c","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:06:13,660 minium.Conn4992 connection#653 __on_message] RECV < {"id":"f498bd0f-455e-49b2-b2d3-a73490aa2d6c","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:06:13,661 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"1fe8e69d-0c55-49c3-a1d6-d50aa5ea9d34","method":"App.addBinding","params":{"name":"showModal_before_1716397573661"}}
[D 2024-05-22 13:06:13,667 minium.Conn4992 connection#653 __on_message] RECV < {"id":"1fe8e69d-0c55-49c3-a1d6-d50aa5ea9d34","result":{}}
[D 2024-05-22 13:06:13,668 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"56099cbc-217c-45e2-80b2-8b28c325de5a","method":"App.addBinding","params":{"name":"showModal_callback_1716397573661"}}
[D 2024-05-22 13:06:13,672 minium.Conn4992 connection#653 __on_message] RECV < {"id":"56099cbc-217c-45e2-80b2-8b28c325de5a","result":{}}
[D 2024-05-22 13:06:13,673 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:06:13,674 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"730eda85-e40f-4dae-98f4-c0625b113aef","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716397573661,after:undefined,callback:showModal_callback_1716397573661},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716397573661,true]}}
[D 2024-05-22 13:06:13,682 minium.Conn4992 connection#653 __on_message] RECV < {"id":"730eda85-e40f-4dae-98f4-c0625b113aef","result":{}}
[D 2024-05-22 13:06:13,684 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"bccd2433-d31b-4ef1-8171-21b1ed89649d","method":"App.addBinding","params":{"name":"showToast_before_1716397573683"}}
[D 2024-05-22 13:06:13,689 minium.Conn4992 connection#653 __on_message] RECV < {"id":"bccd2433-d31b-4ef1-8171-21b1ed89649d","result":{}}
[D 2024-05-22 13:06:13,691 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"4d2145a9-90ef-4e9b-b45a-197a8b788b84","method":"App.addBinding","params":{"name":"showToast_callback_1716397573683"}}
[D 2024-05-22 13:06:13,697 minium.Conn4992 connection#653 __on_message] RECV < {"id":"4d2145a9-90ef-4e9b-b45a-197a8b788b84","result":{}}
[D 2024-05-22 13:06:13,698 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:06:13,699 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"3f4aaac3-a379-4d6b-b5bf-cbb6b6777077","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716397573683,after:undefined,callback:showToast_callback_1716397573683},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716397573683,true]}}
[D 2024-05-22 13:06:13,705 minium.Conn4992 connection#653 __on_message] RECV < {"id":"3f4aaac3-a379-4d6b-b5bf-cbb6b6777077","result":{}}
[D 2024-05-22 13:06:13,707 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"a0e8b860-8e85-4b7a-bd8b-cc1e88544f4c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:06:13,714 minium.Conn4992 connection#653 __on_message] RECV < {"id":"a0e8b860-8e85-4b7a-bd8b-cc1e88544f4c","result":{"result":{"path":"pages/scanqrCode/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:06:13,716 minium app#731 relaunch] ReLaunch: /pages/scanqrCode/index
[D 2024-05-22 13:06:13,717 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"6fc4e5b9-d1ab-441f-aa1c-5ac103948875","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:06:13,723 minium.Conn4992 connection#653 __on_message] RECV < {"id":"6fc4e5b9-d1ab-441f-aa1c-5ac103948875","result":{"pageId":12,"path":"pages/music/music","query":{}}}
[D 2024-05-22 13:06:13,724 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"dae3cd94-1efc-455e-8564-7ecd95b86f1a","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanqrCode/index"}]}}
[D 2024-05-22 13:06:13,848 minium.Conn4992 connection#653 __on_message] RECV < {"id":"dae3cd94-1efc-455e-8564-7ecd95b86f1a","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:06:13,849 minium.Conn4992 connection#697 _handle_async_msg] received async msg: dae3cd94-1efc-455e-8564-7ecd95b86f1a
[D 2024-05-22 13:06:14,508 minium.Conn4992 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":13,"path":"pages/scanqrCode/index","query":{},"openType":"reLaunch","__ts__":1716397574481},1716397574484]}}
[I 2024-05-22 13:06:14,511 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 13, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716397574481}, 1716397574484]}
[D 2024-05-22 13:06:14,513 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"8e5f8cba-6fea-49af-8ac4-e36dff0184a0","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:06:14,515 minium.Conn4992 connection#653 __on_message] RECV < {"id":"8e5f8cba-6fea-49af-8ac4-e36dff0184a0","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:06:14,518 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"53978cf7-9068-4f67-91f8-a8e1c6ad67b9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:06:14,536 minium.Conn4992 connection#653 __on_message] RECV < {"id":"53978cf7-9068-4f67-91f8-a8e1c6ad67b9","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:06:14,538 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"d15081e2-ae5c-4ac9-96d1-8df7fbce00f0","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:06:14,557 minium.Conn4992 connection#651 __on_message] RECV < {"id":"d15081e2-ae5c-4ac9-96d1-8df7fbce00f0","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[I 2024-05-22 13:06:14,558 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:06:14,560 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:06:14,562 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:06:14,562 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:06:14,562 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:06:14,563 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:06:14,563 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:06:14,563 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 13:06:14,564 minium app#731 relaunch] ReLaunch: /pages/scanqrCode/index
[D 2024-05-22 13:06:14,564 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"12788cca-d30b-496e-9925-d9cd8a748b0a","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanqrCode/index"}]}}
[D 2024-05-22 13:06:14,664 minium.Conn4992 connection#653 __on_message] RECV < {"id":"12788cca-d30b-496e-9925-d9cd8a748b0a","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:06:14,665 minium.Conn4992 connection#697 _handle_async_msg] received async msg: 12788cca-d30b-496e-9925-d9cd8a748b0a
[D 2024-05-22 13:06:16,252 minium.Conn4992 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":14,"path":"pages/scanqrCode/index","query":{},"openType":"reLaunch","__ts__":1716397576218},1716397576222]}}
[I 2024-05-22 13:06:16,255 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 14, 'path': 'pages/scanqrCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716397576218}, 1716397576222]}
[I 2024-05-22 13:06:16,258 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:06:16,259 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:06:16,261 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"358ad707-434c-446c-b8af-21d602bddf8f","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:06:16,602 minium.Conn4992 connection#651 __on_message] RECV < {"id":"358ad707-434c-446c-b8af-21d602bddf8f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXecHcWVNvyce+9ETZRGmlEaBUACSYCMhAiyyUnGBmds4wCvcVzb33rXu/Z+Xqd919hevMabAK/jsjaOGLwY1mAwYDAgEFkChABJKDEaSaPRzGji7fP+Ud3V1VXVffveyZp6fjDq212pq+upc+rUqSo6c/6X4ODgMDmRGe8CODg4lA5HYAeHSQxH4CkDBni8yzApUFJFMY9P5ebGJVcHh4kLGu8CFIOoBHadtIODxGSgQyCBRUEnUd8z0gUWKhARyQtE9SJxZ+wQvCCP1FuWloqZfaGaVytwoiO5cot5A/99S22WxVaaDB9IYJoc7A0ZNSYFlhU6Ds0xeEFrxsw8RoMuI3ue+FIpPUb8q445j3Ij18OXiO...
[I 2024-05-22 13:06:16,604 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:06:16,605 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:06:16,606 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"7479c344-558c-4318-adf7-9c033860e427","method":"Tool.close","params":{}}
[D 2024-05-22 13:06:16,610 minium.Conn4992 connection#653 __on_message] RECV < {"id":"7479c344-558c-4318-adf7-9c033860e427","result":{}}
[I 2024-05-22 13:06:16,611 minium.Conn4992 connection#697 _handle_async_msg] received async msg: 7479c344-558c-4318-adf7-9c033860e427, maybe command ignore response
[E 2024-05-22 13:06:16,633 minium.Conn4992 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:06:16,634 minium.Conn4992 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:06:17,608 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:06:17,609 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:06:17,610 minium basenative#25 wrapper] call IdeNative.screen_shot
[I 2024-05-22 13:06:17,610 minium basenative#29 wrapper] call IdeNative.screen_shot end
[W 2024-05-22 13:06:17,610 minium minitest#728 capture] /home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522130611/test_work/20240522130614559158/images/teardown.png not exists
[I 2024-05-22 13:06:17,610 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:06:17,611 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-05-22 13:06:17,633 minium assertbase#349 _get_stack_info] <bound method baseTest.test_work of <tests.baseTest testMethod=test_work>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/tests.py", line 6, in test_work
    print(self.get_system_info())
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 299, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'baseTest' object has no attribute 'get_system_info'
[W 2024-05-22 13:06:17,634 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/groundtruth/wx9c3ad8a7aaffe2c6', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240522130611', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522130611/test_work/20240522130614559158'}
[W 2024-05-22 13:06:17,635 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-05-22 13:06:17,636 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7fdc40f785e0>
[I 2024-05-22 13:06:18,103 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:06:18,104 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:06:18,104 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:06:18,105 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:06:18,106 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9390c46f3a5a833a" --auto-port 9420
[I 2024-05-22 13:06:23,333 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:06:23,334 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:06:28,338 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:06:28,598 minium.Conn7632 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:06:28,599 minium.Conn7632 connection#417 _safely_send] SEND > {"id":"70ae8d9a-206a-4da4-9022-be59c462fcab","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:06:28,664 minium.Conn7632 connection#653 __on_message] RECV < {"id":"70ae8d9a-206a-4da4-9022-be59c462fcab","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:06:28,665 minium.Conn7632 connection#417 _safely_send] SEND > {"id":"9258b933-c7b6-4ba1-8e25-943bfbbcd6a4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:07:28,669 minium wx_minium#699 connect_dev_tool] [9258b933-c7b6-4ba1-8e25-943bfbbcd6a4][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [9258b933-c7b6-4ba1-8e25-943bfbbcd6a4][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:07:28,672 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:07:28,756 minium.Conn0352 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:07:28,757 minium.Conn7632 connection#720 destroy] 断开连接
[I 2024-05-22 13:07:28,760 minium.Conn7632 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:07:28,761 minium.Conn0352 connection#417 _safely_send] SEND > {"id":"404a2d1d-5396-4656-afdd-9c3a8e0e5289","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:07:28,766 minium.Conn0352 connection#653 __on_message] RECV < {"id":"404a2d1d-5396-4656-afdd-9c3a8e0e5289","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:07:28,767 minium.Conn0352 connection#417 _safely_send] SEND > {"id":"654de5d4-753b-4eea-aa2c-b2364cbc9f0f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:08:28,768 minium wx_minium#699 connect_dev_tool] [654de5d4-753b-4eea-aa2c-b2364cbc9f0f][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [654de5d4-753b-4eea-aa2c-b2364cbc9f0f][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:08:28,769 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:08:28,856 minium.Conn0592 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:08:28,859 minium.Conn0352 connection#720 destroy] 断开连接
[I 2024-05-22 13:08:28,863 minium.Conn0352 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:08:28,865 minium.Conn0592 connection#417 _safely_send] SEND > {"id":"80fbece9-844c-4809-ae86-27c5d99688b4","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:08:28,886 minium.Conn0592 connection#653 __on_message] RECV < {"id":"80fbece9-844c-4809-ae86-27c5d99688b4","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:08:28,888 minium.Conn0592 connection#417 _safely_send] SEND > {"id":"9ee62bfe-5c78-4db8-b11d-ad3cbba9b896","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:09:28,890 minium wx_minium#699 connect_dev_tool] [9ee62bfe-5c78-4db8-b11d-ad3cbba9b896][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [9ee62bfe-5c78-4db8-b11d-ad3cbba9b896][call App.callWxMethod] receive from remote timeout
[E 2024-05-22 13:09:28,891 minium wx_minium#642 launch_dev_tool] three times try to connect Dev tool has all fail ..., restart now...
[I 2024-05-22 13:09:28,891 minium wx_minium#656 launch_dev_tool] Starting dev tool again...
[I 2024-05-22 13:09:28,891 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9390c46f3a5a833a" --auto-port 9420
[I 2024-05-22 13:09:32,051 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✖ Fetching AppID (wxc26bf025c84ef3b7) detailed information

[I 2024-05-22 13:09:32,053 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: Port 9420 is in use (code 10)Error: Port 9420 is in use\n' +
    '    at Object.exports.auto [as method] (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/1d3c44fb45826718b091c4f56f6d9ab0.js:2:1287)\n' +
    '    at runMicrotasks (<anonymous>)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3779\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:09:32,651 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:09:32,653 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:09:32,653 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:09:32,654 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:09:32,655 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4d54f84ac55705e9" --auto-port 9420
[I 2024-05-22 13:09:34,560 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:44849
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✖ Fetching AppID (wxc26bf025c84ef3b7) detailed information

[I 2024-05-22 13:09:34,561 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: Port 9420 is in use (code 10)Error: Port 9420 is in use\n' +
    '    at Object.exports.auto [as method] (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/1d3c44fb45826718b091c4f56f6d9ab0.js:2:1287)\n' +
    '    at runMicrotasks (<anonymous>)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3779\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:09:34,562 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:09:34,631 minium.Conn4768 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:09:34,632 minium.Conn4768 connection#417 _safely_send] SEND > {"id":"8a94d0cf-3e9a-42b2-b129-45f3d96d3a32","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:09:34,634 minium.Conn4768 connection#653 __on_message] RECV < {"id":"8a94d0cf-3e9a-42b2-b129-45f3d96d3a32","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:09:34,635 minium.Conn4768 connection#417 _safely_send] SEND > {"id":"21229f20-7572-47bb-b5c0-bfa3d71506f4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 13:13:47,291 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:13:47,293 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:13:47,293 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:13:47,294 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:13:47,294 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx94eb4215c646f0c4" --auto-port 9420
[I 2024-05-22 13:13:58,473 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 44849, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:22281
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:13:58,473 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:14:03,478 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:14:03,607 minium.Conn5520 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:14:03,608 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"21f397c5-a439-4087-a007-5def9760a8f1","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:14:03,688 minium.Conn5520 connection#653 __on_message] RECV < {"id":"21f397c5-a439-4087-a007-5def9760a8f1","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:14:03,689 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"60322c50-b47e-4263-9373-dfa2bd7d0322","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:14:19,586 minium.Conn5520 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 13:14:19,587 minium.Conn5520 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:10200:21)\n    at Object.scriptLoaded (<anonymous>:10228:5)\n    at Object.<anonymous> (<anonymous>:10253:22)"}}
[D 2024-05-22 13:14:20,688 minium.Conn5520 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:14:20,696 minium.Conn5520 connection#651 __on_message] RECV < {"id":"60322c50-b47e-4263-9373-dfa2bd7d0322","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":93,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:14:20,698 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:14:20,700 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"d9306514-2d37-44e6-ad6d-cb3f5a94eaf4","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:14:20,712 minium.Conn5520 connection#653 __on_message] RECV < {"id":"d9306514-2d37-44e6-ad6d-cb3f5a94eaf4","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:14:20,713 minium.Conn5520 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:14:20,713 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"8098f290-3714-44d1-9e59-ee65fa0d51f5","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:14:20,720 minium.Conn5520 connection#653 __on_message] RECV < {"id":"8098f290-3714-44d1-9e59-ee65fa0d51f5","result":{}}
[D 2024-05-22 13:14:20,721 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"918741a1-5e72-4525-bcfe-3aebae0125a1","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:14:20,734 minium.Conn5520 connection#653 __on_message] RECV < {"id":"918741a1-5e72-4525-bcfe-3aebae0125a1","result":{}}
[D 2024-05-22 13:14:20,735 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:14:20,736 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"091629f9-4bb4-4447-8097-faba7b777e60","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:14:20,747 minium.Conn5520 connection#653 __on_message] RECV < {"id":"091629f9-4bb4-4447-8097-faba7b777e60","result":{}}
[D 2024-05-22 13:14:20,748 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:14:20,749 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"c05edce1-8b6d-42a7-adf3-8ada23304d31","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:14:20,767 minium.Conn5520 connection#653 __on_message] RECV < {"id":"c05edce1-8b6d-42a7-adf3-8ada23304d31","result":{}}
[D 2024-05-22 13:14:20,768 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:14:20,769 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"97cd3206-42b2-403e-8038-3bedeedfa9d3","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:14:20,776 minium.Conn5520 connection#653 __on_message] RECV < {"id":"97cd3206-42b2-403e-8038-3bedeedfa9d3","result":{"result":true}}
[D 2024-05-22 13:14:20,778 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"baa08d85-740c-4c21-af8c-17e1b4333f23","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:14:20,789 minium.Conn5520 connection#651 __on_message] RECV < {"id":"baa08d85-740c-4c21-af8c-17e1b4333f23","result":{"result":{"pages":["pages/home/dashboard/index","pages/template/getcouponlist/index","pages/template/shenfen/index","pages/usercenter/dashboard/index","pages/usercenter/issue/index","pages/usercenter/join/index","pages/usercenter/yuyue/index","pages/usercenter/rank/index","pages/usercenter/rank/ranking","pages/usercenter/recharge/index","pages/issue/issue","pages/detail/index","pages/about/about","pages/register/register","pages/usercenter/payorder/i...
[D 2024-05-22 13:14:20,792 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"211c0da1-2194-421b-8459-3783ed313f1d","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:14:20,805 minium.Conn5520 connection#653 __on_message] RECV < {"id":"211c0da1-2194-421b-8459-3783ed313f1d","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:14:20,807 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"44497902-88c2-4a96-864b-a39c1bc52349","method":"App.addBinding","params":{"name":"showModal_before_1716398060806"}}
[D 2024-05-22 13:14:20,813 minium.Conn5520 connection#653 __on_message] RECV < {"id":"44497902-88c2-4a96-864b-a39c1bc52349","result":{}}
[D 2024-05-22 13:14:20,816 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"f790c517-1372-4048-97f5-28cdfaea81bf","method":"App.addBinding","params":{"name":"showModal_callback_1716398060806"}}
[D 2024-05-22 13:14:20,824 minium.Conn5520 connection#653 __on_message] RECV < {"id":"f790c517-1372-4048-97f5-28cdfaea81bf","result":{}}
[D 2024-05-22 13:14:20,826 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:14:20,828 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"c7dec8d3-4458-4427-a6a9-93a2fb827268","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398060806,after:undefined,callback:showModal_callback_1716398060806},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398060806,true]}}
[D 2024-05-22 13:14:20,837 minium.Conn5520 connection#653 __on_message] RECV < {"id":"c7dec8d3-4458-4427-a6a9-93a2fb827268","result":{}}
[D 2024-05-22 13:14:20,838 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"6f3c19df-e901-44ae-810e-fa618e6befee","method":"App.addBinding","params":{"name":"showToast_before_1716398060838"}}
[D 2024-05-22 13:14:20,845 minium.Conn5520 connection#653 __on_message] RECV < {"id":"6f3c19df-e901-44ae-810e-fa618e6befee","result":{}}
[D 2024-05-22 13:14:20,846 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"9cf24a3f-f39d-421e-9d71-2af53ef1573e","method":"App.addBinding","params":{"name":"showToast_callback_1716398060838"}}
[D 2024-05-22 13:14:20,853 minium.Conn5520 connection#653 __on_message] RECV < {"id":"9cf24a3f-f39d-421e-9d71-2af53ef1573e","result":{}}
[D 2024-05-22 13:14:20,854 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:14:20,856 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"a876c5d5-c559-4339-a69f-3e40682e2f98","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398060838,after:undefined,callback:showToast_callback_1716398060838},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398060838,true]}}
[D 2024-05-22 13:14:20,864 minium.Conn5520 connection#653 __on_message] RECV < {"id":"a876c5d5-c559-4339-a69f-3e40682e2f98","result":{}}
[D 2024-05-22 13:14:20,866 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"694fd854-8436-463d-8546-e54fcb698e45","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:14:20,878 minium.Conn5520 connection#653 __on_message] RECV < {"id":"694fd854-8436-463d-8546-e54fcb698e45","result":{"result":{"path":"pages/home/dashboard/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:14:20,880 minium app#731 relaunch] ReLaunch: /pages/home/dashboard/index
[D 2024-05-22 13:14:20,882 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"a0e2e6bb-deaa-4102-bcee-66589c71751e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:14:20,889 minium.Conn5520 connection#653 __on_message] RECV < {"id":"a0e2e6bb-deaa-4102-bcee-66589c71751e","result":{"pageId":1,"path":"pages/home/dashboard/index","query":{}}}
[D 2024-05-22 13:14:20,891 minium.Conn5520 connection#417 _safely_send] ASYNC_SEND > {"id":"c606619b-599e-4dac-a50b-0c4cf9bf58bf","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 13:14:20,984 minium.Conn5520 connection#653 __on_message] RECV < {"id":"c606619b-599e-4dac-a50b-0c4cf9bf58bf","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:14:20,984 minium.Conn5520 connection#697 _handle_async_msg] received async msg: c606619b-599e-4dac-a50b-0c4cf9bf58bf
[D 2024-05-22 13:14:22,288 minium.Conn5520 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/dashboard/index","query":{},"openType":"reLaunch","__ts__":1716398062223},1716398062226]}}
[I 2024-05-22 13:14:22,290 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/dashboard/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398062223}, 1716398062226]}
[D 2024-05-22 13:14:22,291 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"be9ac866-4f71-44d3-bb98-248f1f542435","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:14:22,306 minium.Conn5520 connection#653 __on_message] RECV < {"id":"be9ac866-4f71-44d3-bb98-248f1f542435","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:14:22,308 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"9b9066f2-576a-46f0-9ca6-8ae1902d9535","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:14:22,319 minium.Conn5520 connection#653 __on_message] RECV < {"id":"9b9066f2-576a-46f0-9ca6-8ae1902d9535","result":{"result":false}}
[D 2024-05-22 13:14:22,320 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:14:22,321 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"03a58f16-3320-4b42-a1f2-4a45abdae3f9","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:14:22,337 minium.Conn5520 connection#653 __on_message] RECV < {"id":"03a58f16-3320-4b42-a1f2-4a45abdae3f9","result":{}}
[D 2024-05-22 13:14:22,340 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"831a242c-f582-448c-8d89-8ff46e290cef","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:14:23,487 minium.Conn5520 connection#653 __on_message] RECV < {"id":"831a242c-f582-448c-8d89-8ff46e290cef","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:14:23,488 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"9b86533d-1450-4885-a187-8245563cbebb","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:14:23,514 minium.Conn5520 connection#653 __on_message] RECV < {"id":"9b86533d-1450-4885-a187-8245563cbebb","result":{}}
[D 2024-05-22 13:14:23,518 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"20a54055-dc42-4a9b-b7bd-938bf6b47387","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:14:23,527 minium.Conn5520 connection#653 __on_message] RECV < {"id":"20a54055-dc42-4a9b-b7bd-938bf6b47387","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:14:23,528 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"34e683cc-c550-487a-8a49-5e5832951c90","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:14:23,535 minium.Conn5520 connection#651 __on_message] RECV < {"id":"34e683cc-c550-487a-8a49-5e5832951c90","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":93,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:14:23,535 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:14:23,537 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:14:23,538 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:14:23,538 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:14:23,538 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:14:23,548 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:14:23,548 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:14:23,549 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 13:14:23,549 minium.Conn5520 connection#417 _safely_send] ASYNC_SEND > {"id":"54f70ac4-4284-4523-b2ff-68107e380605","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 13:14:23,638 minium.Conn5520 connection#653 __on_message] RECV < {"id":"54f70ac4-4284-4523-b2ff-68107e380605","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:14:23,638 minium.Conn5520 connection#697 _handle_async_msg] received async msg: 54f70ac4-4284-4523-b2ff-68107e380605
[I 2024-05-22 13:14:23,640 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:14:23,641 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:14:23,641 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"f1933a51-4414-450e-9093-6d9e5ea4208b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:14:23,782 minium.Conn5520 connection#651 __on_message] RECV < {"id":"f1933a51-4414-450e-9093-6d9e5ea4208b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:14:23,783 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:14:23,784 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:14:23,784 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:14:23,785 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:14:23,785 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:14:23,786 minium.Conn5520 connection#417 _safely_send] SEND > {"id":"38d4ff61-3462-4fd6-bee3-d20b53a06e8d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:14:23,859 minium.Conn5520 connection#651 __on_message] RECV < {"id":"38d4ff61-3462-4fd6-bee3-d20b53a06e8d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:14:23,861 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:14:23,861 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:14:23,862 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-05-22 13:14:23,872 minium assertbase#349 _get_stack_info] <bound method baseTest.test_work of <tests.baseTest testMethod=test_work>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/tests.py", line 6, in test_work
    print(self.get_system_info())
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 299, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'baseTest' object has no attribute 'get_system_info'
[W 2024-05-22 13:14:23,874 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/groundtruth/wx94eb4215c646f0c4', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240522131347', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522131347/test_work/20240522131423536695'}
[W 2024-05-22 13:14:23,875 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-05-22 13:14:23,876 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7f2ba881f8e0>
[D 2024-05-22 13:14:23,878 minium.Conn5520 connection#417 _safely_send] ASYNC_SEND > {"id":"ad355db0-f881-4a51-b56c-3f8de66fde74","method":"Tool.close","params":{}}
[D 2024-05-22 13:14:23,881 minium.Conn5520 connection#653 __on_message] RECV < {"id":"ad355db0-f881-4a51-b56c-3f8de66fde74","result":{}}
[I 2024-05-22 13:14:23,882 minium.Conn5520 connection#697 _handle_async_msg] received async msg: ad355db0-f881-4a51-b56c-3f8de66fde74, maybe command ignore response
[E 2024-05-22 13:14:23,904 minium.Conn5520 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:14:23,905 minium.Conn5520 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:14:25,396 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:14:25,397 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:14:25,397 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:14:25,398 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:14:25,399 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx940e8bc440dd2eb9" --auto-port 9420
[I 2024-05-22 13:14:31,217 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:22281
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:14:31,218 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:14:36,222 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:14:36,515 minium.Conn8176 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:14:36,515 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"fa2ab779-fc40-4c76-9263-210b63aa9ed6","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:14:36,520 minium.Conn8176 connection#653 __on_message] RECV < {"id":"fa2ab779-fc40-4c76-9263-210b63aa9ed6","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:14:36,521 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"c05ef303-7a98-4007-99db-ad08ce3a72a1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:14:53,468 minium.Conn8176 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL is not defined","stack":"ReferenceError: VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL is not defined\n    at http://127.0.0.1:52424/appservice/pages/zhuanlan/es6-promise.js?t=wechat&s=1716398072074&v=74d4a58c29cb7135c20655b110f3c6b4:58:13\n    at t (http://127.0.0.1:52424/appservice/pages/zhuanlan/es6-promise.js?t=wechat&s=1716398072074&v=74d4a58c29cb7135c20655b110f3c6b4:61:6)\n    at http://127....
[D 2024-05-22 13:14:56,205 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:14:56,240 minium.Conn8176 connection#651 __on_message] RECV < {"id":"c05ef303-7a98-4007-99db-ad08ce3a72a1","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":90,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:14:56,243 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:14:56,246 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d9fbd8c1-f6a8-40a1-a9c4-4a3802d809f7","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:14:56,271 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d9fbd8c1-f6a8-40a1-a9c4-4a3802d809f7","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:14:56,272 minium.Conn8176 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:14:56,273 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"36119375-35e5-4402-a3a2-a6b72a18de0e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:14:56,301 minium.Conn8176 connection#653 __on_message] RECV < {"id":"36119375-35e5-4402-a3a2-a6b72a18de0e","result":{}}
[D 2024-05-22 13:14:56,303 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"9e344bf5-36bf-4142-9b29-8adbea9ab5c3","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:14:56,319 minium.Conn8176 connection#653 __on_message] RECV < {"id":"9e344bf5-36bf-4142-9b29-8adbea9ab5c3","result":{}}
[D 2024-05-22 13:14:56,319 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:14:56,320 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"28ce4ea2-6261-4988-8644-7fec4bda9834","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:14:56,346 minium.Conn8176 connection#653 __on_message] RECV < {"id":"28ce4ea2-6261-4988-8644-7fec4bda9834","result":{}}
[D 2024-05-22 13:14:56,347 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:14:56,348 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"97f19128-04e4-4b27-bbab-d1d752691c48","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:14:56,367 minium.Conn8176 connection#653 __on_message] RECV < {"id":"97f19128-04e4-4b27-bbab-d1d752691c48","result":{}}
[D 2024-05-22 13:14:56,368 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:14:56,369 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"cc95e2fc-a876-4d83-8eb2-1b7799cc991a","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:14:56,409 minium.Conn8176 connection#653 __on_message] RECV < {"id":"cc95e2fc-a876-4d83-8eb2-1b7799cc991a","result":{"result":true}}
[D 2024-05-22 13:14:56,411 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"81f4622c-29f5-4804-98ec-45745e507ff9","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:14:56,430 minium.Conn8176 connection#651 __on_message] RECV < {"id":"81f4622c-29f5-4804-98ec-45745e507ff9","result":{"result":{"pages":["pages/compre/index","pages/businessCard/index","pages/video_clips/index","pages/index/index","pages/website/index","pages/index/seckillGoods","pages/index/getTicket","pages/index/memberGifBag","pages/index/shop","pages/index/choicenessStore","pages/goodsDetail/goodsDetail","pages/shopcart/confirmOrder","pages/shopcart/addressManage","pages/goodsDetail/goodsComment","pages/my/my","pages/cotegory/cotegory","pages/cotegory/search","p...
[D 2024-05-22 13:14:56,434 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"1a91c980-d169-4094-9ddf-724e60a65f9b","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:14:56,499 minium.Conn8176 connection#653 __on_message] RECV < {"id":"1a91c980-d169-4094-9ddf-724e60a65f9b","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:14:56,501 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"781acf7e-c12b-4386-8e7a-9577bf4a50b2","method":"App.addBinding","params":{"name":"showModal_before_1716398096501"}}
[D 2024-05-22 13:14:56,535 minium.Conn8176 connection#653 __on_message] RECV < {"id":"781acf7e-c12b-4386-8e7a-9577bf4a50b2","result":{}}
[D 2024-05-22 13:14:56,536 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2150575e-8cd5-48bf-b228-95408c35b685","method":"App.addBinding","params":{"name":"showModal_callback_1716398096501"}}
[D 2024-05-22 13:14:56,551 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2150575e-8cd5-48bf-b228-95408c35b685","result":{}}
[D 2024-05-22 13:14:56,552 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:14:56,554 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"142b289c-19f9-4662-a64c-74d0af19cd82","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398096501,after:undefined,callback:showModal_callback_1716398096501},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398096501,true]}}
[D 2024-05-22 13:14:56,575 minium.Conn8176 connection#653 __on_message] RECV < {"id":"142b289c-19f9-4662-a64c-74d0af19cd82","result":{}}
[D 2024-05-22 13:14:56,577 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2fcdcb02-a4e3-47e1-88a7-12a27ffd62c1","method":"App.addBinding","params":{"name":"showToast_before_1716398096576"}}
[D 2024-05-22 13:14:56,592 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2fcdcb02-a4e3-47e1-88a7-12a27ffd62c1","result":{}}
[D 2024-05-22 13:14:56,594 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"defe5968-cc39-4bbe-9e20-e76a4b447281","method":"App.addBinding","params":{"name":"showToast_callback_1716398096576"}}
[D 2024-05-22 13:14:56,666 minium.Conn8176 connection#653 __on_message] RECV < {"id":"defe5968-cc39-4bbe-9e20-e76a4b447281","result":{}}
[D 2024-05-22 13:14:56,668 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:14:56,669 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f79255fb-7a7d-45cb-bc94-af59018a3b15","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398096576,after:undefined,callback:showToast_callback_1716398096576},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398096576,true]}}
[D 2024-05-22 13:14:56,686 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f79255fb-7a7d-45cb-bc94-af59018a3b15","result":{}}
[D 2024-05-22 13:14:56,688 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"1142d3ba-421a-4639-bed1-c837d514869a","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:14:56,703 minium.Conn8176 connection#653 __on_message] RECV < {"id":"1142d3ba-421a-4639-bed1-c837d514869a","result":{"result":{"path":"pages/compre/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:14:56,705 minium app#731 relaunch] ReLaunch: /pages/compre/index
[D 2024-05-22 13:14:56,707 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d45d5955-6f6a-4d13-8cdc-8b54117caefe","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:14:56,740 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d45d5955-6f6a-4d13-8cdc-8b54117caefe","result":{"pageId":1,"path":"pages/compre/index","query":{}}}
[D 2024-05-22 13:14:56,742 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"8a3c10cc-497f-4019-8a54-fa803e7d5c57","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/compre/index"}]}}
[D 2024-05-22 13:14:56,865 minium.Conn8176 connection#653 __on_message] RECV < {"id":"8a3c10cc-497f-4019-8a54-fa803e7d5c57","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:14:56,866 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 8a3c10cc-497f-4019-8a54-fa803e7d5c57
[D 2024-05-22 13:14:59,274 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/compre/index","query":{},"openType":"reLaunch","__ts__":1716398099260},1716398099263]}}
[I 2024-05-22 13:14:59,276 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/compre/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398099260}, 1716398099263]}
[D 2024-05-22 13:14:59,277 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"b17c0f9f-fe52-45c2-ac1d-da56a6d90ed7","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:14:59,293 minium.Conn8176 connection#653 __on_message] RECV < {"id":"b17c0f9f-fe52-45c2-ac1d-da56a6d90ed7","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:14:59,294 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"5ef6aca4-16b3-4b09-a424-83a1cdaa6fef","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:14:59,306 minium.Conn8176 connection#653 __on_message] RECV < {"id":"5ef6aca4-16b3-4b09-a424-83a1cdaa6fef","result":{"result":false}}
[D 2024-05-22 13:14:59,308 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:14:59,310 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"93ad92e9-cdb2-466a-90c8-adaf3c9e801b","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:14:59,335 minium.Conn8176 connection#653 __on_message] RECV < {"id":"93ad92e9-cdb2-466a-90c8-adaf3c9e801b","result":{}}
[D 2024-05-22 13:14:59,337 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"b4135454-2da8-4c2b-9eba-a9f19428e3ee","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:15:00,083 minium.Conn8176 connection#653 __on_message] RECV < {"id":"b4135454-2da8-4c2b-9eba-a9f19428e3ee","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:15:00,085 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d68d3854-be96-4731-8dd3-d561915fc84d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:15:00,093 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d68d3854-be96-4731-8dd3-d561915fc84d","result":{}}
[D 2024-05-22 13:15:00,095 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"cf7ebd80-5092-46b0-95a1-3f9cf1ae2645","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:15:00,100 minium.Conn8176 connection#653 __on_message] RECV < {"id":"cf7ebd80-5092-46b0-95a1-3f9cf1ae2645","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:15:00,101 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"e6b5a725-9f63-4a18-abf6-70011e727d51","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:15:00,112 minium.Conn8176 connection#651 __on_message] RECV < {"id":"e6b5a725-9f63-4a18-abf6-70011e727d51","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":90,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:15:00,113 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:15:00,116 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:15:00,116 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:15:00,117 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:15:00,117 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:15:00,117 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:15:00,118 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:15:00,118 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 13:15:00,119 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"94675ce6-ab2d-4ed0-82f2-1355c2074545","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/compre/index"}]}}
[D 2024-05-22 13:15:00,202 minium.Conn8176 connection#653 __on_message] RECV < {"id":"94675ce6-ab2d-4ed0-82f2-1355c2074545","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:15:00,203 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 94675ce6-ab2d-4ed0-82f2-1355c2074545
[I 2024-05-22 13:15:00,205 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:15:00,205 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:00,206 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"a85a06e5-13d1-45ec-8614-a79bd8b7bbef","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:00,329 minium.Conn8176 connection#651 __on_message] RECV < {"id":"a85a06e5-13d1-45ec-8614-a79bd8b7bbef","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:15:00,331 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:00,331 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:15:00,332 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:15:00,333 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:15:00,333 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:00,334 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f9e839a2-3361-4966-864c-a1e0d8caa8c3","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:00,412 minium.Conn8176 connection#651 __on_message] RECV < {"id":"f9e839a2-3361-4966-864c-a1e0d8caa8c3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:15:00,413 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:00,413 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:15:00,414 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-05-22 13:15:00,428 minium assertbase#349 _get_stack_info] <bound method baseTest.test_work of <tests.baseTest testMethod=test_work>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/tests.py", line 6, in test_work
    print(self.get_system_info())
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 299, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'baseTest' object has no attribute 'get_system_info'
[W 2024-05-22 13:15:00,429 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/groundtruth/wx940e8bc440dd2eb9', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240522131425', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522131425/test_work/20240522131500115032'}
[W 2024-05-22 13:15:00,429 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-05-22 13:15:00,430 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7fecb4f0f880>
[D 2024-05-22 13:15:00,432 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"1b2939e4-8e85-47c8-9b64-a4c98265515b","method":"Tool.close","params":{}}
[D 2024-05-22 13:15:00,435 minium.Conn8176 connection#653 __on_message] RECV < {"id":"1b2939e4-8e85-47c8-9b64-a4c98265515b","result":{}}
[I 2024-05-22 13:15:00,436 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 1b2939e4-8e85-47c8-9b64-a4c98265515b, maybe command ignore response
[E 2024-05-22 13:15:00,457 minium.Conn8176 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:15:00,458 minium.Conn8176 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:15:02,041 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:15:02,042 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:15:02,042 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:15:02,042 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:15:02,043 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx78d2ee5255a3ed63" --auto-port 9420
[I 2024-05-22 13:15:07,945 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:22281
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:15:07,946 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:15:12,948 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:15:13,367 minium.Conn9664 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:15:13,369 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"514582d8-ea13-47bf-b403-fa72b9ee154e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:15:13,392 minium.Conn9664 connection#653 __on_message] RECV < {"id":"514582d8-ea13-47bf-b403-fa72b9ee154e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:15:13,394 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"1c04d6b2-4e1e-4582-b695-fbd9fd002a64","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:15:27,255 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:15:27,263 minium.Conn9664 connection#651 __on_message] RECV < {"id":"1c04d6b2-4e1e-4582-b695-fbd9fd002a64","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":90,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:15:27,265 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:15:27,266 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"86dbcd6c-3b1c-4d67-aa4e-0bf9b46e3dc5","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:15:27,274 minium.Conn9664 connection#653 __on_message] RECV < {"id":"86dbcd6c-3b1c-4d67-aa4e-0bf9b46e3dc5","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:15:27,275 minium.Conn9664 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:15:27,276 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"a43ad41b-6493-4f62-91aa-7152d5fa1f29","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:15:27,296 minium.Conn9664 connection#653 __on_message] RECV < {"id":"a43ad41b-6493-4f62-91aa-7152d5fa1f29","result":{}}
[D 2024-05-22 13:15:27,297 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"fa4b89ef-fbcd-4a61-bca0-b346363e92d7","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:15:27,316 minium.Conn9664 connection#653 __on_message] RECV < {"id":"fa4b89ef-fbcd-4a61-bca0-b346363e92d7","result":{}}
[D 2024-05-22 13:15:27,318 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:15:27,319 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"dfda3136-83f3-4765-8a53-1da1792b445e","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:15:27,337 minium.Conn9664 connection#653 __on_message] RECV < {"id":"dfda3136-83f3-4765-8a53-1da1792b445e","result":{}}
[D 2024-05-22 13:15:27,338 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:15:27,339 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"8979ae27-ad32-42c4-b608-a738040b8f84","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:15:27,350 minium.Conn9664 connection#653 __on_message] RECV < {"id":"8979ae27-ad32-42c4-b608-a738040b8f84","result":{}}
[D 2024-05-22 13:15:27,351 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:15:27,353 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"fd67538c-20d8-4324-a2f8-d216f2c4b609","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:15:27,360 minium.Conn9664 connection#653 __on_message] RECV < {"id":"fd67538c-20d8-4324-a2f8-d216f2c4b609","result":{"result":true}}
[D 2024-05-22 13:15:27,361 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"46e40096-e2ad-4dd4-9465-c063203bc43b","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:15:27,374 minium.Conn9664 connection#651 __on_message] RECV < {"id":"46e40096-e2ad-4dd4-9465-c063203bc43b","result":{"result":{"pages":["pages/welcome/welcome","pages/news/news","pages/index/index","pages/history/history","weather/pages/index/index","weather/pages/add/add","weather/pages/logs/logs","weather/pages/payment/donate","pages/partake/partake","pages/address/address","pages/problem/problem","pages/lottery/lottery","pages/questionList/questionList","pages/withdrawals/withdrawals","pages/set/set","pages/all/all","pages/share/share","pages/head/head","pages/s...
[D 2024-05-22 13:15:27,375 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"398ab6eb-2f92-46fc-b1e3-7020f13a6039","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:15:27,383 minium.Conn9664 connection#653 __on_message] RECV < {"id":"398ab6eb-2f92-46fc-b1e3-7020f13a6039","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:15:27,385 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"24c74adc-709d-4a6a-87f6-de730fd9a826","method":"App.addBinding","params":{"name":"showModal_before_1716398127385"}}
[D 2024-05-22 13:15:27,393 minium.Conn9664 connection#653 __on_message] RECV < {"id":"24c74adc-709d-4a6a-87f6-de730fd9a826","result":{}}
[D 2024-05-22 13:15:27,394 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"fbe926e5-89bc-4847-9ae4-1d2b3b0b1f35","method":"App.addBinding","params":{"name":"showModal_callback_1716398127385"}}
[D 2024-05-22 13:15:27,399 minium.Conn9664 connection#653 __on_message] RECV < {"id":"fbe926e5-89bc-4847-9ae4-1d2b3b0b1f35","result":{}}
[D 2024-05-22 13:15:27,400 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:15:27,402 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"fcbb8e52-aa8f-4279-8002-a85f9d8192ca","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398127385,after:undefined,callback:showModal_callback_1716398127385},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398127385,true]}}
[D 2024-05-22 13:15:27,409 minium.Conn9664 connection#653 __on_message] RECV < {"id":"fcbb8e52-aa8f-4279-8002-a85f9d8192ca","result":{}}
[D 2024-05-22 13:15:27,410 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"c631d79f-b1e9-46e9-879d-9868e2e43d25","method":"App.addBinding","params":{"name":"showToast_before_1716398127410"}}
[D 2024-05-22 13:15:27,415 minium.Conn9664 connection#653 __on_message] RECV < {"id":"c631d79f-b1e9-46e9-879d-9868e2e43d25","result":{}}
[D 2024-05-22 13:15:27,417 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"95862656-5e9b-4313-b1bf-62abe623be1b","method":"App.addBinding","params":{"name":"showToast_callback_1716398127410"}}
[D 2024-05-22 13:15:27,422 minium.Conn9664 connection#653 __on_message] RECV < {"id":"95862656-5e9b-4313-b1bf-62abe623be1b","result":{}}
[D 2024-05-22 13:15:27,424 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:15:27,425 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"a13c9768-d48c-440d-a93c-2d031efc8ec5","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398127410,after:undefined,callback:showToast_callback_1716398127410},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398127410,true]}}
[D 2024-05-22 13:15:27,432 minium.Conn9664 connection#653 __on_message] RECV < {"id":"a13c9768-d48c-440d-a93c-2d031efc8ec5","result":{}}
[D 2024-05-22 13:15:27,435 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"729dc38c-71ea-47a7-b73e-705814b00ba4","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:15:27,440 minium.Conn9664 connection#653 __on_message] RECV < {"id":"729dc38c-71ea-47a7-b73e-705814b00ba4","result":{"result":{"path":"pages/welcome/welcome","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:15:27,442 minium app#731 relaunch] ReLaunch: /pages/welcome/welcome
[D 2024-05-22 13:15:27,443 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"d7548d7a-8e40-420f-8a54-cae483b22c77","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:15:27,449 minium.Conn9664 connection#653 __on_message] RECV < {"id":"d7548d7a-8e40-420f-8a54-cae483b22c77","result":{"pageId":1,"path":"pages/welcome/welcome","query":{}}}
[D 2024-05-22 13:15:27,451 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"2a26eff8-4bf1-4f49-83b5-5fd882458bd8","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/welcome/welcome"}]}}
[D 2024-05-22 13:15:27,594 minium.Conn9664 connection#653 __on_message] RECV < {"id":"2a26eff8-4bf1-4f49-83b5-5fd882458bd8","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:15:27,595 minium.Conn9664 connection#697 _handle_async_msg] received async msg: 2a26eff8-4bf1-4f49-83b5-5fd882458bd8
[D 2024-05-22 13:15:28,153 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/welcome/welcome","query":{},"openType":"reLaunch","__ts__":1716398128136},1716398128138]}}
[I 2024-05-22 13:15:28,154 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/welcome/welcome', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398128136}, 1716398128138]}
[D 2024-05-22 13:15:28,156 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"c230d06f-9bb7-4199-affa-f6bd723dcccb","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:15:28,163 minium.Conn9664 connection#653 __on_message] RECV < {"id":"c230d06f-9bb7-4199-affa-f6bd723dcccb","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:15:28,167 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"0a08ad8a-839f-4d5e-9df3-ec341b6e3040","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:15:28,196 minium.Conn9664 connection#653 __on_message] RECV < {"id":"0a08ad8a-839f-4d5e-9df3-ec341b6e3040","result":{"result":false}}
[D 2024-05-22 13:15:28,199 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:15:28,200 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"86221652-f31e-4c37-afbe-1ec92bb2443a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:15:28,218 minium.Conn9664 connection#653 __on_message] RECV < {"id":"86221652-f31e-4c37-afbe-1ec92bb2443a","result":{}}
[D 2024-05-22 13:15:28,219 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"a3f78f58-d844-4235-99fa-57a191a33dd4","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:15:29,093 minium.Conn9664 connection#653 __on_message] RECV < {"id":"a3f78f58-d844-4235-99fa-57a191a33dd4","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:15:29,095 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"402b62c3-5ecc-481e-8650-b3690927e624","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:15:29,104 minium.Conn9664 connection#653 __on_message] RECV < {"id":"402b62c3-5ecc-481e-8650-b3690927e624","result":{}}
[D 2024-05-22 13:15:29,105 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"fe8820d4-42a4-4401-94f3-8b0afe429185","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:15:29,113 minium.Conn9664 connection#653 __on_message] RECV < {"id":"fe8820d4-42a4-4401-94f3-8b0afe429185","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:15:29,115 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"4070e118-8639-4bd6-8b1b-e1f0cf994646","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:15:29,130 minium.Conn9664 connection#651 __on_message] RECV < {"id":"4070e118-8639-4bd6-8b1b-e1f0cf994646","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":90,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:15:29,132 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:15:29,134 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:15:29,135 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:15:29,135 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:15:29,135 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:15:29,136 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:15:29,136 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:15:29,137 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 13:15:29,137 minium app#731 relaunch] ReLaunch: /pages/welcome/welcome
[D 2024-05-22 13:15:29,138 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"82f2e8ca-3bea-4404-b9f8-03f99a6bc5e8","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/welcome/welcome"}]}}
[D 2024-05-22 13:15:29,297 minium.Conn9664 connection#653 __on_message] RECV < {"id":"82f2e8ca-3bea-4404-b9f8-03f99a6bc5e8","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:15:29,300 minium.Conn9664 connection#697 _handle_async_msg] received async msg: 82f2e8ca-3bea-4404-b9f8-03f99a6bc5e8
[D 2024-05-22 13:15:29,861 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/welcome/welcome","query":{},"openType":"reLaunch","__ts__":1716398129844},1716398129847]}}
[I 2024-05-22 13:15:29,864 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/welcome/welcome', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398129844}, 1716398129847]}
[I 2024-05-22 13:15:29,865 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:15:29,866 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:29,867 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"bc5d9946-3245-4e9f-9e53-2b39a53ba084","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:29,985 minium.Conn9664 connection#651 __on_message] RECV < {"id":"bc5d9946-3245-4e9f-9e53-2b39a53ba084","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoBJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 13:15:29,987 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:29,987 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:15:29,988 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:15:29,988 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:15:29,989 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:29,989 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"7596f215-f6a9-42d7-8f77-0d1432bed3bd","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:30,078 minium.Conn9664 connection#651 __on_message] RECV < {"id":"7596f215-f6a9-42d7-8f77-0d1432bed3bd","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoBJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 13:15:30,080 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:30,081 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:15:30,082 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-05-22 13:15:30,092 minium assertbase#349 _get_stack_info] <bound method baseTest.test_work of <tests.baseTest testMethod=test_work>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/tests.py", line 6, in test_work
    print(self.get_system_info())
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 299, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'baseTest' object has no attribute 'get_system_info'
[W 2024-05-22 13:15:30,093 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/groundtruth/wx78d2ee5255a3ed63', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240522131502', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522131502/test_work/20240522131529133482'}
[W 2024-05-22 13:15:30,094 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-05-22 13:15:30,094 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7f750522b7f0>
[D 2024-05-22 13:15:30,097 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"93d290ce-8b9d-4594-abcc-c35d117caaf1","method":"Tool.close","params":{}}
[D 2024-05-22 13:15:30,101 minium.Conn9664 connection#653 __on_message] RECV < {"id":"93d290ce-8b9d-4594-abcc-c35d117caaf1","result":{}}
[I 2024-05-22 13:15:30,101 minium.Conn9664 connection#697 _handle_async_msg] received async msg: 93d290ce-8b9d-4594-abcc-c35d117caaf1, maybe command ignore response
[E 2024-05-22 13:15:30,122 minium.Conn9664 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:15:30,123 minium.Conn9664 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:15:31,615 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:15:31,616 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:15:31,617 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:15:31,618 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:15:31,618 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8b0d722749666d1c" --auto-port 9420
[I 2024-05-22 13:15:37,528 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:22281
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:15:37,529 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:15:42,535 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:15:42,915 minium.Conn0080 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:15:42,916 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"e3a7ffc8-c63f-495f-9c22-3946033b648f","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:15:42,926 minium.Conn0080 connection#653 __on_message] RECV < {"id":"e3a7ffc8-c63f-495f-9c22-3946033b648f","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:15:42,928 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"1da6592c-f06f-4581-b7b2-eb4ad4d563d8","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:15:56,464 minium.Conn0080 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:15:56,486 minium.Conn0080 connection#651 __on_message] RECV < {"id":"1da6592c-f06f-4581-b7b2-eb4ad4d563d8","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":89,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:15:56,487 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:15:56,488 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"dddb31d8-3055-4731-9830-52ee7d2541e6","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:15:56,505 minium.Conn0080 connection#653 __on_message] RECV < {"id":"dddb31d8-3055-4731-9830-52ee7d2541e6","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:15:56,506 minium.Conn0080 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:15:56,506 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"357684c3-fade-4743-af11-7a35b5e87674","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:15:56,524 minium.Conn0080 connection#653 __on_message] RECV < {"id":"357684c3-fade-4743-af11-7a35b5e87674","result":{}}
[D 2024-05-22 13:15:56,525 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"d454adcc-8366-4a59-9abc-60e44320fa65","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:15:56,532 minium.Conn0080 connection#653 __on_message] RECV < {"id":"d454adcc-8366-4a59-9abc-60e44320fa65","result":{}}
[D 2024-05-22 13:15:56,533 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:15:56,534 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"330b4408-1c67-4f49-89d4-7806d639f819","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:15:56,555 minium.Conn0080 connection#653 __on_message] RECV < {"id":"330b4408-1c67-4f49-89d4-7806d639f819","result":{}}
[D 2024-05-22 13:15:56,556 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:15:56,557 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"17c4fde2-8c23-4610-84e7-7656a20fd811","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:15:56,567 minium.Conn0080 connection#653 __on_message] RECV < {"id":"17c4fde2-8c23-4610-84e7-7656a20fd811","result":{}}
[D 2024-05-22 13:15:56,568 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:15:56,570 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"9a433a55-e3be-4ad9-9891-2f1ee1ba41e2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:15:56,583 minium.Conn0080 connection#653 __on_message] RECV < {"id":"9a433a55-e3be-4ad9-9891-2f1ee1ba41e2","result":{"result":true}}
[D 2024-05-22 13:15:56,586 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"e49fb43c-4f40-4b73-a57f-b2efc3a829d7","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:15:56,598 minium.Conn0080 connection#651 __on_message] RECV < {"id":"e49fb43c-4f40-4b73-a57f-b2efc3a829d7","result":{"result":{"pages":["pages/index/index","pages/classchoice/classchoice","pages/editclass/editclass","pages/isWare/isware","pages/faceenter/faceenter","pages/result/result","pages/result3/result3","pages/userinfo1/userinfo1","pages/member/member","pages/mylist/mylist","pages/success/success","pages/share/share","pages/checkuser/checkuser","pages/etext/etext","pages/teach/teach","pages/result2/result2","pages/eyetype/eyetype","pages/query/query","pages/...
[D 2024-05-22 13:15:56,599 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"e0c365c5-3693-4657-bbe1-f5013af43672","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:15:56,611 minium.Conn0080 connection#653 __on_message] RECV < {"id":"e0c365c5-3693-4657-bbe1-f5013af43672","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:15:56,612 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"df73729e-d7ca-43e2-8c1d-025406386eb4","method":"App.addBinding","params":{"name":"showModal_before_1716398156612"}}
[D 2024-05-22 13:15:56,619 minium.Conn0080 connection#653 __on_message] RECV < {"id":"df73729e-d7ca-43e2-8c1d-025406386eb4","result":{}}
[D 2024-05-22 13:15:56,620 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"1e036dde-54bd-439d-9865-7c52c58ac30e","method":"App.addBinding","params":{"name":"showModal_callback_1716398156612"}}
[D 2024-05-22 13:15:56,626 minium.Conn0080 connection#653 __on_message] RECV < {"id":"1e036dde-54bd-439d-9865-7c52c58ac30e","result":{}}
[D 2024-05-22 13:15:56,627 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:15:56,628 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"6d6d8964-26db-4b96-a0a7-ecffc5d14631","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398156612,after:undefined,callback:showModal_callback_1716398156612},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398156612,true]}}
[D 2024-05-22 13:15:56,641 minium.Conn0080 connection#653 __on_message] RECV < {"id":"6d6d8964-26db-4b96-a0a7-ecffc5d14631","result":{}}
[D 2024-05-22 13:15:56,643 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"2af18cf4-080c-4b99-b0a6-40f39ebb568b","method":"App.addBinding","params":{"name":"showToast_before_1716398156643"}}
[D 2024-05-22 13:15:56,648 minium.Conn0080 connection#653 __on_message] RECV < {"id":"2af18cf4-080c-4b99-b0a6-40f39ebb568b","result":{}}
[D 2024-05-22 13:15:56,649 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"6f84b12f-2300-4094-9d87-53bc56015667","method":"App.addBinding","params":{"name":"showToast_callback_1716398156643"}}
[D 2024-05-22 13:15:56,656 minium.Conn0080 connection#653 __on_message] RECV < {"id":"6f84b12f-2300-4094-9d87-53bc56015667","result":{}}
[D 2024-05-22 13:15:56,657 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:15:56,658 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"9edd15ec-b8e7-47bf-bfec-1fa84b223752","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398156643,after:undefined,callback:showToast_callback_1716398156643},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398156643,true]}}
[D 2024-05-22 13:15:56,666 minium.Conn0080 connection#653 __on_message] RECV < {"id":"9edd15ec-b8e7-47bf-bfec-1fa84b223752","result":{}}
[D 2024-05-22 13:15:56,668 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"e440dbf6-a004-4072-a21d-95a50ab252f6","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:15:56,690 minium.Conn0080 connection#653 __on_message] RECV < {"id":"e440dbf6-a004-4072-a21d-95a50ab252f6","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:15:56,692 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 13:15:56,694 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"0570f04a-9c81-46b9-bbfd-8a69743d9394","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:15:56,708 minium.Conn0080 connection#653 __on_message] RECV < {"id":"0570f04a-9c81-46b9-bbfd-8a69743d9394","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 13:15:56,709 minium.Conn0080 connection#417 _safely_send] ASYNC_SEND > {"id":"70d2b1d6-7bbe-4101-9cd2-a6bf769d66ef","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:15:56,824 minium.Conn0080 connection#653 __on_message] RECV < {"id":"70d2b1d6-7bbe-4101-9cd2-a6bf769d66ef","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:15:56,824 minium.Conn0080 connection#697 _handle_async_msg] received async msg: 70d2b1d6-7bbe-4101-9cd2-a6bf769d66ef
[D 2024-05-22 13:15:57,784 minium.Conn0080 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'openid' of null","stack":"TypeError: Cannot read property 'openid' of null\n    at success (http://127.0.0.1:33038/appservice/pages/index/index.js?t=wechat&s=1716398138481&v=3b9a30d6e17b8cd9caa896ec483c8c66:44:53)\n    at Object.success (http://127.0.0.1:33038/appservice/__dev__/WASubContext.js?t=wechat&s=1716398138481&v=3.4.3:1:140098)\n    at Object.success (http://127.0.0.1:33038/appservice/__dev__/WASubContext.js?t=wechat&s=17...
[D 2024-05-22 13:15:58,105 minium.Conn0080 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716398158080},1716398158084]}}
[I 2024-05-22 13:15:58,107 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398158080}, 1716398158084]}
[D 2024-05-22 13:15:58,110 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"d96f3c0c-0522-43ba-a462-5299bb3c74f3","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:15:58,117 minium.Conn0080 connection#653 __on_message] RECV < {"id":"d96f3c0c-0522-43ba-a462-5299bb3c74f3","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:15:58,120 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"78b98a18-eb5c-4882-8818-5a69ec10c512","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:15:58,145 minium.Conn0080 connection#653 __on_message] RECV < {"id":"78b98a18-eb5c-4882-8818-5a69ec10c512","result":{"result":false}}
[D 2024-05-22 13:15:58,147 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:15:58,148 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"66050b8e-47ed-41c0-81b3-5154cd0ea9c9","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:15:58,159 minium.Conn0080 connection#653 __on_message] RECV < {"id":"66050b8e-47ed-41c0-81b3-5154cd0ea9c9","result":{}}
[D 2024-05-22 13:15:58,160 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"516969a9-2a9d-44cb-a1f3-a5179d381fc6","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:15:58,717 minium.Conn0080 connection#653 __on_message] RECV < {"id":"516969a9-2a9d-44cb-a1f3-a5179d381fc6","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:15:58,719 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"d8619a00-a6af-4fe1-b7f2-913c0c55b94d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:15:58,725 minium.Conn0080 connection#653 __on_message] RECV < {"id":"d8619a00-a6af-4fe1-b7f2-913c0c55b94d","result":{}}
[D 2024-05-22 13:15:58,727 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"99450159-4787-4049-8806-b1fab9bacbb7","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:15:58,735 minium.Conn0080 connection#653 __on_message] RECV < {"id":"99450159-4787-4049-8806-b1fab9bacbb7","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:15:58,736 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"bc6198d1-763e-4d0f-abde-fab0bafd0b91","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:15:58,745 minium.Conn0080 connection#651 __on_message] RECV < {"id":"bc6198d1-763e-4d0f-abde-fab0bafd0b91","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":89,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:15:58,746 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:15:58,755 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:15:58,755 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:15:58,756 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:15:58,757 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:15:58,758 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:15:58,758 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:15:58,758 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 13:15:58,759 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 13:15:58,760 minium.Conn0080 connection#417 _safely_send] ASYNC_SEND > {"id":"696cf1fc-08c5-407a-8d81-95e902b3ed4d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:15:58,866 minium.Conn0080 connection#653 __on_message] RECV < {"id":"696cf1fc-08c5-407a-8d81-95e902b3ed4d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:15:58,866 minium.Conn0080 connection#697 _handle_async_msg] received async msg: 696cf1fc-08c5-407a-8d81-95e902b3ed4d
[D 2024-05-22 13:15:58,981 minium.Conn0080 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'openid' of null","stack":"TypeError: Cannot read property 'openid' of null\n    at success (http://127.0.0.1:33038/appservice/pages/index/index.js?t=wechat&s=1716398138481&v=3b9a30d6e17b8cd9caa896ec483c8c66:44:53)\n    at Object.success (http://127.0.0.1:33038/appservice/__dev__/WASubContext.js?t=wechat&s=1716398138481&v=3.4.3:1:140098)\n    at Object.success (http://127.0.0.1:33038/appservice/__dev__/WASubContext.js?t=wechat&s=17...
[D 2024-05-22 13:15:59,461 minium.Conn0080 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716398159439},1716398159443]}}
[I 2024-05-22 13:15:59,463 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398159439}, 1716398159443]}
[I 2024-05-22 13:15:59,466 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:15:59,466 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:59,467 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"00b908fc-fc16-4585-a855-fcd032d8e5c6","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:59,733 minium.Conn0080 connection#651 __on_message] RECV < {"id":"00b908fc-fc16-4585-a855-fcd032d8e5c6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzMfXecG8X1+JuZLeq63s/n3m2MK9hgUxyIKQFCJ6GGhEAgCYEAoYQASWihJvReQ3PoHQIGG/eCbdzb+Wxf7zq13Z35/bHSarVNq7tzft/3kc/S1Lez8+aVefMGvV/PAIEl2CQ7Qb5V2KCUZ05NGdOtCluWsUtgdhnmNO0bAsZA0aUYEdD9ZoYvVlX0WQxAxJl0Q5ZFs/osll1LV1ihQHW/nUeMMadcc3WMLLIYADI/vk0XdmWYlu74Ep2y7Mvp3icQbMxiDGi+E1oHdrST9SJMwKU6t6ptk+wEA8B/QM26pV6rxIHgjNxURwAAyFVRW3BfFeUqn4VI+oczdoP7Wu0mFcrCCHQ0noWBA6pM93dA+OVqApmeYW...
[I 2024-05-22 13:15:59,735 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:59,735 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:15:59,736 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:15:59,736 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:15:59,736 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:15:59,737 minium.Conn0080 connection#417 _safely_send] SEND > {"id":"98a54c95-b7a8-49db-bde4-109fc0d37c6b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:15:59,941 minium.Conn0080 connection#651 __on_message] RECV < {"id":"98a54c95-b7a8-49db-bde4-109fc0d37c6b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzMfXecG8X1+JuZLeq63s/n3m2MK9hgUxyIKQFCJ6GGhEAgCYEAoYQASWihJvReQ3PoHQIGG/eCbdzb+Wxf7zq13Z35/bHSarVNq7tzft/3kc/S1Lez8+aVefMGvV/PAIEl2CQ7Qb5V2KCUZ05NGdOtCluWsUtgdhnmNO0bAsZA0aUYEdD9ZoYvVlX0WQxAxJl0Q5ZFs/osll1LV1ihQHW/nUeMMadcc3WMLLIYADI/vk0XdmWYlu74Ep2y7Mvp3icQbMxiDGi+E1oHdrST9SJMwKU6t6ptk+wEA8B/QM26pV6rxIHgjNxURwAAyFVRW3BfFeUqn4VI+oczdoP7Wu0mFcrCCHQ0noWBA6pM93dA+OVqApmeYW...
[I 2024-05-22 13:15:59,944 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:15:59,945 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:15:59,946 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-05-22 13:15:59,958 minium assertbase#349 _get_stack_info] <bound method baseTest.test_work of <tests.baseTest testMethod=test_work>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/tests.py", line 6, in test_work
    print(self.get_system_info())
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 299, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'baseTest' object has no attribute 'get_system_info'
[W 2024-05-22 13:15:59,959 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/groundtruth/wx8b0d722749666d1c', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240522131531', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test7_check_if_id_works/outputs/20240522131531/test_work/20240522131558754237'}
[W 2024-05-22 13:15:59,960 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-05-22 13:15:59,960 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7f0a72f9b880>
[D 2024-05-22 13:15:59,963 minium.Conn0080 connection#417 _safely_send] ASYNC_SEND > {"id":"2db6d6c2-e2dd-4627-971f-0418f84f3a78","method":"Tool.close","params":{}}
[D 2024-05-22 13:15:59,979 minium.Conn0080 connection#653 __on_message] RECV < {"id":"2db6d6c2-e2dd-4627-971f-0418f84f3a78","result":{}}
[I 2024-05-22 13:15:59,979 minium.Conn0080 connection#697 _handle_async_msg] received async msg: 2db6d6c2-e2dd-4627-971f-0418f84f3a78, maybe command ignore response
[E 2024-05-22 13:16:00,003 minium.Conn0080 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:16:00,004 minium.Conn0080 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:16:01,467 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:16:01,468 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:16:01,469 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:16:01,469 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:16:01,470 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx74a5d06f396d8438" --auto-port 9420
[I 2024-05-22 13:16:07,135 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:22281
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:16:07,136 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:16:49,882 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:16:49,883 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:16:49,884 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:16:49,884 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:16:49,884 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx94eb4215c646f0c4" --auto-port 9420
[I 2024-05-22 13:17:00,028 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 22281, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:50668
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:17:00,028 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:17:05,036 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:17:05,123 minium.Conn9440 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:17:05,124 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"14cb67d9-629f-41ef-93a0-d7352f2a62cb","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:17:05,130 minium.Conn9440 connection#653 __on_message] RECV < {"id":"14cb67d9-629f-41ef-93a0-d7352f2a62cb","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:17:05,131 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"1a27e93d-854f-4efa-a6cf-ae068a5e47ad","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:19,103 minium.Conn9440 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 13:17:19,104 minium.Conn9440 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:10200:21)\n    at Object.scriptLoaded (<anonymous>:10228:5)\n    at Object.<anonymous> (<anonymous>:10253:22)"}}
[D 2024-05-22 13:17:20,969 minium.Conn9440 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:17:20,984 minium.Conn9440 connection#651 __on_message] RECV < {"id":"1a27e93d-854f-4efa-a6cf-ae068a5e47ad","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:17:20,985 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:17:20,986 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"77a79a78-fc20-490f-b877-143fb25d594c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:17:21,013 minium.Conn9440 connection#653 __on_message] RECV < {"id":"77a79a78-fc20-490f-b877-143fb25d594c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:17:21,015 minium.Conn9440 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:17:21,016 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"804e44d9-2011-4af5-8ede-aa0c77186723","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:17:21,039 minium.Conn9440 connection#653 __on_message] RECV < {"id":"804e44d9-2011-4af5-8ede-aa0c77186723","result":{}}
[D 2024-05-22 13:17:21,040 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"6d9c9d92-ae13-43c1-8ce3-7c807b29f128","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:17:21,064 minium.Conn9440 connection#653 __on_message] RECV < {"id":"6d9c9d92-ae13-43c1-8ce3-7c807b29f128","result":{}}
[D 2024-05-22 13:17:21,065 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:17:21,066 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"a83b26af-832b-43b8-b2aa-643028104ef1","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:17:21,079 minium.Conn9440 connection#653 __on_message] RECV < {"id":"a83b26af-832b-43b8-b2aa-643028104ef1","result":{}}
[D 2024-05-22 13:17:21,080 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:17:21,082 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"463bc5cc-849a-40c6-895a-26c3f9fabcb9","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:17:21,193 minium.Conn9440 connection#653 __on_message] RECV < {"id":"463bc5cc-849a-40c6-895a-26c3f9fabcb9","result":{}}
[D 2024-05-22 13:17:21,194 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:17:21,195 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"36dcf52e-2016-498d-9f1e-2a21ee2a59f5","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:17:21,219 minium.Conn9440 connection#653 __on_message] RECV < {"id":"36dcf52e-2016-498d-9f1e-2a21ee2a59f5","result":{"result":true}}
[D 2024-05-22 13:17:21,220 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"0770d614-faef-4e12-9c41-5f5d4d76ddad","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:17:21,240 minium.Conn9440 connection#651 __on_message] RECV < {"id":"0770d614-faef-4e12-9c41-5f5d4d76ddad","result":{"result":{"pages":["pages/home/dashboard/index","pages/template/getcouponlist/index","pages/template/shenfen/index","pages/usercenter/dashboard/index","pages/usercenter/issue/index","pages/usercenter/join/index","pages/usercenter/yuyue/index","pages/usercenter/rank/index","pages/usercenter/rank/ranking","pages/usercenter/recharge/index","pages/issue/issue","pages/detail/index","pages/about/about","pages/register/register","pages/usercenter/payorder/i...
[D 2024-05-22 13:17:21,245 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"2458b336-9a8f-4d99-8000-5e079361a298","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:17:21,265 minium.Conn9440 connection#653 __on_message] RECV < {"id":"2458b336-9a8f-4d99-8000-5e079361a298","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:17:21,267 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"6eb09b8f-62e5-452b-ab0a-f23e2231b311","method":"App.addBinding","params":{"name":"showModal_before_1716398241266"}}
[D 2024-05-22 13:17:21,283 minium.Conn9440 connection#653 __on_message] RECV < {"id":"6eb09b8f-62e5-452b-ab0a-f23e2231b311","result":{}}
[D 2024-05-22 13:17:21,285 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"f545cbed-038e-4e09-bc62-2f2ade82d2d1","method":"App.addBinding","params":{"name":"showModal_callback_1716398241266"}}
[D 2024-05-22 13:17:21,295 minium.Conn9440 connection#653 __on_message] RECV < {"id":"f545cbed-038e-4e09-bc62-2f2ade82d2d1","result":{}}
[D 2024-05-22 13:17:21,297 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:17:21,298 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"6e358801-0c1b-4f85-8a21-9873acb710dd","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398241266,after:undefined,callback:showModal_callback_1716398241266},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398241266,true]}}
[D 2024-05-22 13:17:21,309 minium.Conn9440 connection#653 __on_message] RECV < {"id":"6e358801-0c1b-4f85-8a21-9873acb710dd","result":{}}
[D 2024-05-22 13:17:21,311 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"dcb400b5-0a27-461d-9638-32aea721f90f","method":"App.addBinding","params":{"name":"showToast_before_1716398241311"}}
[D 2024-05-22 13:17:21,323 minium.Conn9440 connection#653 __on_message] RECV < {"id":"dcb400b5-0a27-461d-9638-32aea721f90f","result":{}}
[D 2024-05-22 13:17:21,325 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"2e78fdc4-abc9-4b47-8278-3c1df1db7b84","method":"App.addBinding","params":{"name":"showToast_callback_1716398241311"}}
[D 2024-05-22 13:17:21,342 minium.Conn9440 connection#653 __on_message] RECV < {"id":"2e78fdc4-abc9-4b47-8278-3c1df1db7b84","result":{}}
[D 2024-05-22 13:17:21,343 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:17:21,344 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"7340f44c-c2a7-4010-a7eb-13ee00a8e7f2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398241311,after:undefined,callback:showToast_callback_1716398241311},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398241311,true]}}
[D 2024-05-22 13:17:21,351 minium.Conn9440 connection#653 __on_message] RECV < {"id":"7340f44c-c2a7-4010-a7eb-13ee00a8e7f2","result":{}}
[D 2024-05-22 13:17:21,354 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"b187f266-7a06-4657-af99-2f87f7d592ff","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:17:21,383 minium.Conn9440 connection#653 __on_message] RECV < {"id":"b187f266-7a06-4657-af99-2f87f7d592ff","result":{"result":{"path":"pages/home/dashboard/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:17:21,385 minium app#731 relaunch] ReLaunch: /pages/home/dashboard/index
[D 2024-05-22 13:17:21,386 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"15b1c041-d117-4841-9647-1276e3839fcd","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:17:21,407 minium.Conn9440 connection#653 __on_message] RECV < {"id":"15b1c041-d117-4841-9647-1276e3839fcd","result":{"pageId":2,"path":"pages/home/dashboard/index","query":{}}}
[D 2024-05-22 13:17:21,408 minium.Conn9440 connection#417 _safely_send] ASYNC_SEND > {"id":"1dc7e730-ca97-46a0-9923-902e5e99d190","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 13:17:21,523 minium.Conn9440 connection#653 __on_message] RECV < {"id":"1dc7e730-ca97-46a0-9923-902e5e99d190","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:17:21,524 minium.Conn9440 connection#697 _handle_async_msg] received async msg: 1dc7e730-ca97-46a0-9923-902e5e99d190
[D 2024-05-22 13:17:23,418 minium.Conn9440 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/home/dashboard/index","query":{},"openType":"reLaunch","__ts__":1716398243336},1716398243338]}}
[I 2024-05-22 13:17:23,420 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/home/dashboard/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398243336}, 1716398243338]}
[D 2024-05-22 13:17:23,421 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"4f399229-6519-4722-a667-639cd84fd578","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:17:23,439 minium.Conn9440 connection#653 __on_message] RECV < {"id":"4f399229-6519-4722-a667-639cd84fd578","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:17:23,441 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"f1d59d1a-6056-4544-89b3-53ff3be1fd7d","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:17:23,454 minium.Conn9440 connection#653 __on_message] RECV < {"id":"f1d59d1a-6056-4544-89b3-53ff3be1fd7d","result":{"result":false}}
[D 2024-05-22 13:17:23,455 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:17:23,456 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"afe20de6-d0c2-4d40-97a2-49cfaea275bb","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:17:23,491 minium.Conn9440 connection#653 __on_message] RECV < {"id":"afe20de6-d0c2-4d40-97a2-49cfaea275bb","result":{}}
[D 2024-05-22 13:17:23,492 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"ed16e432-d1f0-4cb9-9834-3b0a83323aa7","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:17:24,346 minium.Conn9440 connection#653 __on_message] RECV < {"id":"ed16e432-d1f0-4cb9-9834-3b0a83323aa7","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:17:24,348 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"853230e4-d32b-4a61-88a8-c18705f644f2","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:17:24,376 minium.Conn9440 connection#653 __on_message] RECV < {"id":"853230e4-d32b-4a61-88a8-c18705f644f2","result":{}}
[D 2024-05-22 13:17:24,378 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"1c257782-4813-44ce-a7d6-8770f1508373","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:17:24,383 minium.Conn9440 connection#653 __on_message] RECV < {"id":"1c257782-4813-44ce-a7d6-8770f1508373","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:17:24,384 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"93150d73-c5bb-4b80-a41d-e5525f39f748","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:24,390 minium.Conn9440 connection#651 __on_message] RECV < {"id":"93150d73-c5bb-4b80-a41d-e5525f39f748","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:17:24,390 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:17:24,395 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:17:24,395 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:17:24,395 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:17:24,396 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:17:24,396 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:17:24,396 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:17:24,396 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 13:17:24,396 minium.Conn9440 connection#417 _safely_send] ASYNC_SEND > {"id":"16982b1b-25c6-4574-93d9-c6e496e92111","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 13:17:24,478 minium.Conn9440 connection#653 __on_message] RECV < {"id":"16982b1b-25c6-4574-93d9-c6e496e92111","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:17:24,482 minium.Conn9440 connection#697 _handle_async_msg] received async msg: 16982b1b-25c6-4574-93d9-c6e496e92111
[I 2024-05-22 13:17:24,486 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:17:24,486 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:17:24,487 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"76452c75-a18b-487d-80c1-8579ba6b6302","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:17:24,674 minium.Conn9440 connection#651 __on_message] RECV < {"id":"76452c75-a18b-487d-80c1-8579ba6b6302","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:17:24,675 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:17:24,676 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:17:24,676 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"85d3b311-e997-4e9c-bef4-ea5494fb23a4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:24,689 minium.Conn9440 connection#651 __on_message] RECV < {"id":"85d3b311-e997-4e9c-bef4-ea5494fb23a4","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:17:24,692 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:17:24,697 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:17:24,697 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:17:24,698 minium.Conn9440 connection#417 _safely_send] SEND > {"id":"be1b4d91-b2bb-45ba-b778-270d2722d121","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:17:24,806 minium.Conn9440 connection#651 __on_message] RECV < {"id":"be1b4d91-b2bb-45ba-b778-270d2722d121","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:17:24,808 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:17:24,809 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:17:24,809 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 13:17:24,829 minium.Conn9440 connection#417 _safely_send] ASYNC_SEND > {"id":"8c756252-a1be-443d-a2a1-975a96268384","method":"Tool.close","params":{}}
[D 2024-05-22 13:17:24,834 minium.Conn9440 connection#653 __on_message] RECV < {"id":"8c756252-a1be-443d-a2a1-975a96268384","result":{}}
[I 2024-05-22 13:17:24,835 minium.Conn9440 connection#697 _handle_async_msg] received async msg: 8c756252-a1be-443d-a2a1-975a96268384, maybe command ignore response
[E 2024-05-22 13:17:24,855 minium.Conn9440 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:17:24,856 minium.Conn9440 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:17:26,321 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:17:26,324 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:17:26,324 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:17:26,325 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:17:26,325 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx99717e68e6fc4244" --auto-port 9420
[I 2024-05-22 13:17:31,982 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:50668
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:17:31,982 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:17:36,988 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:17:37,045 minium.Conn2752 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:17:37,046 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"38f1ba70-9bad-4a0f-8ef9-a0f43fe366e5","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:17:37,056 minium.Conn2752 connection#653 __on_message] RECV < {"id":"38f1ba70-9bad-4a0f-8ef9-a0f43fe366e5","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:17:37,058 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"7619d456-77d9-4ec2-bc53-a586594601ba","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:52,684 minium.Conn2752 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:17:52,710 minium.Conn2752 connection#651 __on_message] RECV < {"id":"7619d456-77d9-4ec2-bc53-a586594601ba","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:17:52,712 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:17:52,714 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"0e650eb7-49a3-4ee3-99d3-fc45cd75ebf7","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:17:52,745 minium.Conn2752 connection#653 __on_message] RECV < {"id":"0e650eb7-49a3-4ee3-99d3-fc45cd75ebf7","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:17:52,746 minium.Conn2752 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:17:52,747 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"13f44576-ec24-41d5-bae4-6f5b303a9eab","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:17:52,757 minium.Conn2752 connection#653 __on_message] RECV < {"id":"13f44576-ec24-41d5-bae4-6f5b303a9eab","result":{}}
[D 2024-05-22 13:17:52,758 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"70025576-4d7e-4c95-b973-59aac8873891","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:17:52,768 minium.Conn2752 connection#653 __on_message] RECV < {"id":"70025576-4d7e-4c95-b973-59aac8873891","result":{}}
[D 2024-05-22 13:17:52,769 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:17:52,770 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"d95293d9-0c8a-40d1-87fb-2142b0fd1c14","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:17:52,780 minium.Conn2752 connection#653 __on_message] RECV < {"id":"d95293d9-0c8a-40d1-87fb-2142b0fd1c14","result":{}}
[D 2024-05-22 13:17:52,781 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:17:52,783 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"a03a1df0-498f-486f-b6ab-880fa051dc46","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:17:52,792 minium.Conn2752 connection#653 __on_message] RECV < {"id":"a03a1df0-498f-486f-b6ab-880fa051dc46","result":{}}
[D 2024-05-22 13:17:52,793 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:17:52,794 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"89e3e52e-14e2-43a9-8dba-ecfa15fddfd2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:17:52,809 minium.Conn2752 connection#653 __on_message] RECV < {"id":"89e3e52e-14e2-43a9-8dba-ecfa15fddfd2","result":{"result":true}}
[D 2024-05-22 13:17:52,810 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"de6262c8-852d-4562-a7c2-ece970930109","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:17:52,825 minium.Conn2752 connection#651 __on_message] RECV < {"id":"de6262c8-852d-4562-a7c2-ece970930109","result":{"result":{"pages":["pages/scanCode/index","pages/consumers/consumers","pages/shopIndex/shopIndex","pages/index/index","pages/login/login","pages/shopCar/index","pages/submitOrder/submitOrder","pages/central/index","pages/dfk/dfk","pages/dfh/dfh","pages/yfh/yfh","pages/yqx/yqx","pages/tksh/tksh","pages/orderDetail/orderDetail","pages/order/order","pages/couponList/couponList","pages/newAddress/newAddress","pages/address/address","pages/collectShop/col...
[D 2024-05-22 13:17:52,826 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"ebc603e7-59fd-4a9a-b398-1a86cab5e7e4","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:17:52,836 minium.Conn2752 connection#653 __on_message] RECV < {"id":"ebc603e7-59fd-4a9a-b398-1a86cab5e7e4","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:17:52,838 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"7023b6d6-cec7-44e1-bf8d-e3118f4ab65d","method":"App.addBinding","params":{"name":"showModal_before_1716398272837"}}
[D 2024-05-22 13:17:52,849 minium.Conn2752 connection#653 __on_message] RECV < {"id":"7023b6d6-cec7-44e1-bf8d-e3118f4ab65d","result":{}}
[D 2024-05-22 13:17:52,850 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"9902596a-0435-45cb-823b-83356f534955","method":"App.addBinding","params":{"name":"showModal_callback_1716398272837"}}
[D 2024-05-22 13:17:52,854 minium.Conn2752 connection#653 __on_message] RECV < {"id":"9902596a-0435-45cb-823b-83356f534955","result":{}}
[D 2024-05-22 13:17:52,856 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:17:52,859 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"41688f6e-81aa-4f92-9f52-e599b8d9a6b6","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716398272837,after:undefined,callback:showModal_callback_1716398272837},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716398272837,true]}}
[D 2024-05-22 13:17:52,865 minium.Conn2752 connection#653 __on_message] RECV < {"id":"41688f6e-81aa-4f92-9f52-e599b8d9a6b6","result":{}}
[D 2024-05-22 13:17:52,866 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"b85fbb60-94e7-43a1-b864-a7d2084b3b72","method":"App.addBinding","params":{"name":"showToast_before_1716398272866"}}
[D 2024-05-22 13:17:52,876 minium.Conn2752 connection#653 __on_message] RECV < {"id":"b85fbb60-94e7-43a1-b864-a7d2084b3b72","result":{}}
[D 2024-05-22 13:17:52,878 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"8f8f7d64-5285-4c28-be48-fd3e2a3e1f12","method":"App.addBinding","params":{"name":"showToast_callback_1716398272866"}}
[D 2024-05-22 13:17:52,887 minium.Conn2752 connection#653 __on_message] RECV < {"id":"8f8f7d64-5285-4c28-be48-fd3e2a3e1f12","result":{}}
[D 2024-05-22 13:17:52,890 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:17:52,891 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"b558ed1d-6cae-4b6d-9b56-e2cfcd87e8b3","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716398272866,after:undefined,callback:showToast_callback_1716398272866},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716398272866,true]}}
[D 2024-05-22 13:17:52,904 minium.Conn2752 connection#653 __on_message] RECV < {"id":"b558ed1d-6cae-4b6d-9b56-e2cfcd87e8b3","result":{}}
[D 2024-05-22 13:17:52,906 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"28a51f55-8f50-46dc-9767-3bab37ed2e88","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:17:52,917 minium.Conn2752 connection#653 __on_message] RECV < {"id":"28a51f55-8f50-46dc-9767-3bab37ed2e88","result":{"result":{"path":"pages/scanCode/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:17:52,919 minium app#731 relaunch] ReLaunch: /pages/scanCode/index
[D 2024-05-22 13:17:52,921 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"fdb83c69-cae1-4b71-a7e1-375884aae039","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:17:52,928 minium.Conn2752 connection#653 __on_message] RECV < {"id":"fdb83c69-cae1-4b71-a7e1-375884aae039","result":{"pageId":1,"path":"pages/scanCode/index","query":{}}}
[D 2024-05-22 13:17:52,929 minium.Conn2752 connection#417 _safely_send] ASYNC_SEND > {"id":"615f6443-baad-4f17-8902-a9abec2ed088","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanCode/index"}]}}
[D 2024-05-22 13:17:53,139 minium.Conn2752 connection#653 __on_message] RECV < {"id":"615f6443-baad-4f17-8902-a9abec2ed088","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:17:53,139 minium.Conn2752 connection#697 _handle_async_msg] received async msg: 615f6443-baad-4f17-8902-a9abec2ed088
[D 2024-05-22 13:17:53,780 minium.Conn2752 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/scanCode/index","query":{},"openType":"reLaunch","__ts__":1716398273754},1716398273757]}}
[I 2024-05-22 13:17:53,783 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/scanCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716398273754}, 1716398273757]}
[D 2024-05-22 13:17:53,786 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"a7676c1a-caec-4fd0-b671-a61c99832fa3","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:17:53,790 minium.Conn2752 connection#653 __on_message] RECV < {"id":"a7676c1a-caec-4fd0-b671-a61c99832fa3","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:17:53,805 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"f2aab886-dfd0-4da2-8f60-0985bd39f380","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:17:53,831 minium.Conn2752 connection#653 __on_message] RECV < {"id":"f2aab886-dfd0-4da2-8f60-0985bd39f380","result":{"result":false}}
[D 2024-05-22 13:17:53,835 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:17:53,837 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"ac3a3b53-1c31-458c-bcf4-a379d9f5ad57","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:17:53,857 minium.Conn2752 connection#653 __on_message] RECV < {"id":"ac3a3b53-1c31-458c-bcf4-a379d9f5ad57","result":{}}
[D 2024-05-22 13:17:53,859 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"f94865cf-8cb1-4b9f-a985-a7296b2dd25f","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:17:54,848 minium.Conn2752 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/shopIndex/shopIndex","query":{},"openType":"switchTab","__ts__":1716398274776},1716398274781]}}
[I 2024-05-22 13:17:54,851 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/shopIndex/shopIndex', 'query': {}, 'openType': 'switchTab', '__ts__': 1716398274776}, 1716398274781]}
[D 2024-05-22 13:17:54,926 minium.Conn2752 connection#653 __on_message] RECV < {"id":"f94865cf-8cb1-4b9f-a985-a7296b2dd25f","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:17:54,929 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"c6d7fae2-bd12-4da2-b964-23dac9c9c554","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:17:54,942 minium.Conn2752 connection#653 __on_message] RECV < {"id":"c6d7fae2-bd12-4da2-b964-23dac9c9c554","result":{}}
[D 2024-05-22 13:17:54,944 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"c18e7a2b-a4c3-4671-8675-c95b78f8b005","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:17:54,951 minium.Conn2752 connection#653 __on_message] RECV < {"id":"c18e7a2b-a4c3-4671-8675-c95b78f8b005","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:17:54,955 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"23e3c0ad-aad5-4989-9063-b5b5e23a9c85","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:54,972 minium.Conn2752 connection#651 __on_message] RECV < {"id":"23e3c0ad-aad5-4989-9063-b5b5e23a9c85","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:17:54,973 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:17:54,975 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:17:54,975 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:17:54,975 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:17:54,975 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:17:54,976 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:17:54,976 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:17:54,976 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 13:17:54,976 minium app#731 relaunch] ReLaunch: /pages/scanCode/index
[D 2024-05-22 13:17:54,977 minium.Conn2752 connection#417 _safely_send] ASYNC_SEND > {"id":"74a1915f-b8e0-496c-ba09-c0f801612ca1","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanCode/index"}]}}
[D 2024-05-22 13:17:55,081 minium.Conn2752 connection#653 __on_message] RECV < {"id":"74a1915f-b8e0-496c-ba09-c0f801612ca1","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:17:55,082 minium.Conn2752 connection#697 _handle_async_msg] received async msg: 74a1915f-b8e0-496c-ba09-c0f801612ca1
[D 2024-05-22 13:17:57,032 minium.Conn2752 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":6,"path":"pages/shopIndex/shopIndex","query":{},"openType":"switchTab","__ts__":1716398276985},1716398276987]}}
[I 2024-05-22 13:17:57,035 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 6, 'path': 'pages/shopIndex/shopIndex', 'query': {}, 'openType': 'switchTab', '__ts__': 1716398276985}, 1716398276987]}
[W 2024-05-22 13:17:57,036 minium app#734 relaunch] ReLaunch(/pages/scanCode/index) but(/pages/shopIndex/shopIndex)
[I 2024-05-22 13:17:57,037 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:17:57,038 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:17:57,038 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"48a628aa-e685-477f-834d-bfdcff7f8abd","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:17:57,187 minium.Conn2752 connection#651 __on_message] RECV < {"id":"48a628aa-e685-477f-834d-bfdcff7f8abd","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABUBJREFUeJzt07ENwCAAwLDS/7+FgZEfWFAk+4IsGXPtD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:17:57,189 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:17:57,190 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:17:57,191 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"657dda94-1189-4a81-9bcf-1d76ad62ba5e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:17:57,199 minium.Conn2752 connection#651 __on_message] RECV < {"id":"657dda94-1189-4a81-9bcf-1d76ad62ba5e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":88,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:17:57,201 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:17:57,202 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:17:57,203 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:17:57,204 minium.Conn2752 connection#417 _safely_send] SEND > {"id":"2ec308e2-ada9-4b18-af19-994578ef7d24","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:17:57,338 minium.Conn2752 connection#651 __on_message] RECV < {"id":"2ec308e2-ada9-4b18-af19-994578ef7d24","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABUBJREFUeJzt07ENwCAAwLDS/7+FgZEfWFAk+4IsGXPtD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 13:17:57,340 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:17:57,341 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:17:57,341 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 13:17:57,349 minium.Conn2752 connection#417 _safely_send] ASYNC_SEND > {"id":"996a2dbe-207c-4dab-8d4e-c3c23355509c","method":"Tool.close","params":{}}
[D 2024-05-22 13:17:57,352 minium.Conn2752 connection#653 __on_message] RECV < {"id":"996a2dbe-207c-4dab-8d4e-c3c23355509c","result":{}}
[I 2024-05-22 13:17:57,352 minium.Conn2752 connection#697 _handle_async_msg] received async msg: 996a2dbe-207c-4dab-8d4e-c3c23355509c, maybe command ignore response
[E 2024-05-22 13:17:57,374 minium.Conn2752 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:17:57,376 minium.Conn2752 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:17:58,808 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:17:58,809 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:17:58,809 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:17:58,809 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:17:58,810 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4886c79f1a844634" --auto-port 9420
[I 2024-05-22 13:18:05,093 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:50668
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:18:05,094 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:18:10,098 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:18:10,219 minium.Conn5552 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:18:10,219 minium.Conn5552 connection#417 _safely_send] SEND > {"id":"489ea16a-ff97-48dc-a4df-5b06b3405d26","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:18:10,650 minium.Conn5552 connection#653 __on_message] RECV < {"id":"489ea16a-ff97-48dc-a4df-5b06b3405d26","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:18:10,651 minium.Conn5552 connection#417 _safely_send] SEND > {"id":"bd62c88c-c7a4-4fe4-8153-fad9af1aae84","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:19:10,653 minium wx_minium#699 connect_dev_tool] [bd62c88c-c7a4-4fe4-8153-fad9af1aae84][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [bd62c88c-c7a4-4fe4-8153-fad9af1aae84][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:19:10,655 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:19:10,670 minium.Conn1536 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:19:10,670 minium.Conn5552 connection#720 destroy] 断开连接
[I 2024-05-22 13:19:10,673 minium.Conn5552 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:19:10,674 minium.Conn1536 connection#417 _safely_send] SEND > {"id":"ed37b047-d593-436e-a611-adce996a61a2","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:19:10,679 minium.Conn1536 connection#653 __on_message] RECV < {"id":"ed37b047-d593-436e-a611-adce996a61a2","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:19:10,680 minium.Conn1536 connection#417 _safely_send] SEND > {"id":"7a612ba1-4144-41ea-a8de-e153d94f9ddd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:20:10,682 minium wx_minium#699 connect_dev_tool] [7a612ba1-4144-41ea-a8de-e153d94f9ddd][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [7a612ba1-4144-41ea-a8de-e153d94f9ddd][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:20:10,683 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:20:10,719 minium.Conn1776 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:20:10,719 minium.Conn1536 connection#720 destroy] 断开连接
[I 2024-05-22 13:20:10,738 minium.Conn1536 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:20:10,739 minium.Conn1776 connection#417 _safely_send] SEND > {"id":"d59e79b2-563a-4cd1-824a-699ce9e6a7e5","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:20:10,741 minium.Conn1776 connection#653 __on_message] RECV < {"id":"d59e79b2-563a-4cd1-824a-699ce9e6a7e5","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:20:10,742 minium.Conn1776 connection#417 _safely_send] SEND > {"id":"c96e4e8b-9de2-4a6f-b630-85077e002abf","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:21:10,743 minium wx_minium#699 connect_dev_tool] [c96e4e8b-9de2-4a6f-b630-85077e002abf][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [c96e4e8b-9de2-4a6f-b630-85077e002abf][call App.callWxMethod] receive from remote timeout
[E 2024-05-22 13:21:10,745 minium wx_minium#642 launch_dev_tool] three times try to connect Dev tool has all fail ..., restart now...
[I 2024-05-22 13:21:10,745 minium wx_minium#656 launch_dev_tool] Starting dev tool again...
[I 2024-05-22 13:21:10,746 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4886c79f1a844634" --auto-port 9420
[I 2024-05-22 13:21:13,224 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:50668
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✖ Fetching AppID (wxc26bf025c84ef3b7) detailed information

[I 2024-05-22 13:21:13,224 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: Port 9420 is in use (code 10)Error: Port 9420 is in use\n' +
    '    at Object.exports.auto [as method] (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/1d3c44fb45826718b091c4f56f6d9ab0.js:2:1287)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3779\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:21:13,687 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:21:13,688 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:21:13,689 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:21:13,689 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:21:13,690 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxaed0357fa76a9527" --auto-port 9420
[I 2024-05-22 13:21:15,791 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:50668
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✖ Fetching AppID (wxc26bf025c84ef3b7) detailed information

[I 2024-05-22 13:21:15,791 minium minium_object#102 _do_shell] out:
[error] {
  code: 10,
  message: 'Error: 错误 Error: Port 9420 is in use (code 10)Error: Port 9420 is in use\n' +
    '    at Object.exports.auto [as method] (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/1d3c44fb45826718b091c4f56f6d9ab0.js:2:1287)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n' +
    '    at async /home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3779\n' +
    '    at async Object.<anonymous> (/home/bella-xia/wechat-web-devtools-linux/package.nw/core.wxvpkg/7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

[I 2024-05-22 13:21:15,792 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:21:15,865 minium.Conn2352 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:21:15,866 minium.Conn2352 connection#417 _safely_send] SEND > {"id":"8f4fad18-3ef6-4229-b8a2-74cbad2b7205","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:21:15,868 minium.Conn2352 connection#653 __on_message] RECV < {"id":"8f4fad18-3ef6-4229-b8a2-74cbad2b7205","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:21:15,869 minium.Conn2352 connection#417 _safely_send] SEND > {"id":"6fa3f2c8-6282-400f-ac2c-02aeec287a98","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:22:15,871 minium wx_minium#699 connect_dev_tool] [6fa3f2c8-6282-400f-ac2c-02aeec287a98][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [6fa3f2c8-6282-400f-ac2c-02aeec287a98][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:22:15,874 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:22:16,059 minium.Conn5264 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:22:16,059 minium.Conn2352 connection#720 destroy] 断开连接
[I 2024-05-22 13:22:16,062 minium.Conn2352 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:22:16,063 minium.Conn5264 connection#417 _safely_send] SEND > {"id":"f7c64669-670a-4c4f-8f66-392e3989ab97","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:22:16,064 minium.Conn5264 connection#653 __on_message] RECV < {"id":"f7c64669-670a-4c4f-8f66-392e3989ab97","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:22:16,065 minium.Conn5264 connection#417 _safely_send] SEND > {"id":"ea502f36-e6c0-42b0-9391-ee1b7ec6cb8d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:23:16,066 minium wx_minium#699 connect_dev_tool] [ea502f36-e6c0-42b0-9391-ee1b7ec6cb8d][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [ea502f36-e6c0-42b0-9391-ee1b7ec6cb8d][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:23:16,067 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:23:16,156 minium.Conn5504 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:23:16,160 minium.Conn5264 connection#720 destroy] 断开连接
[I 2024-05-22 13:23:16,162 minium.Conn5264 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:23:16,163 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"38f6b00a-c894-4e3f-aa7a-f9abc46d87d8","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:23:16,165 minium.Conn5504 connection#653 __on_message] RECV < {"id":"38f6b00a-c894-4e3f-aa7a-f9abc46d87d8","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:23:16,166 minium.Conn5504 connection#417 _safely_send] SEND > {"id":"347b74ba-be30-4f6b-b5c5-ef2d3218b178","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 13:48:58,838 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:48:58,840 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:48:58,840 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:48:58,841 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:48:58,842 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4ce9c3cff6c3c610" --auto-port 9420
[I 2024-05-22 13:49:09,441 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 36768, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:63101
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:49:09,441 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:49:14,447 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:49:14,968 minium.Conn8720 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:49:14,969 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"0ebf7425-7ed7-4607-87c5-9fa051ea398c","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:49:14,976 minium.Conn8720 connection#653 __on_message] RECV < {"id":"0ebf7425-7ed7-4607-87c5-9fa051ea398c","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:49:14,977 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"fc7eab43-a56e-4fc5-bf6d-c3622e747801","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:49:27,902 minium.Conn8720 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:49:27,913 minium.Conn8720 connection#651 __on_message] RECV < {"id":"fc7eab43-a56e-4fc5-bf6d-c3622e747801","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:49:27,915 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:49:27,916 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"c2f389a2-a38c-4433-b464-ed991e7cd8c0","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:49:27,925 minium.Conn8720 connection#653 __on_message] RECV < {"id":"c2f389a2-a38c-4433-b464-ed991e7cd8c0","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:49:27,926 minium.Conn8720 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:49:27,926 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"efd727d3-bacd-4d0d-a028-de09dcb72900","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:49:27,932 minium.Conn8720 connection#653 __on_message] RECV < {"id":"efd727d3-bacd-4d0d-a028-de09dcb72900","result":{}}
[D 2024-05-22 13:49:27,933 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"64218340-867f-41a6-9469-1e98fe943552","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:49:27,944 minium.Conn8720 connection#653 __on_message] RECV < {"id":"64218340-867f-41a6-9469-1e98fe943552","result":{}}
[D 2024-05-22 13:49:27,944 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:49:27,945 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"39669f17-e3cc-44ac-835c-45c2f138187e","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:49:27,952 minium.Conn8720 connection#653 __on_message] RECV < {"id":"39669f17-e3cc-44ac-835c-45c2f138187e","result":{}}
[D 2024-05-22 13:49:27,953 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:49:27,954 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"9720293b-f8d4-4c8f-976b-8b4c7dd13b13","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:49:27,962 minium.Conn8720 connection#653 __on_message] RECV < {"id":"9720293b-f8d4-4c8f-976b-8b4c7dd13b13","result":{}}
[D 2024-05-22 13:49:27,963 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:49:27,964 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"6842419e-2447-412c-8277-a2d21398b35a","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:49:27,977 minium.Conn8720 connection#653 __on_message] RECV < {"id":"6842419e-2447-412c-8277-a2d21398b35a","result":{"result":true}}
[D 2024-05-22 13:49:27,980 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"a5ab68bd-246b-4dca-8216-c2be4a6b4472","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:49:27,991 minium.Conn8720 connection#651 __on_message] RECV < {"id":"a5ab68bd-246b-4dca-8216-c2be4a6b4472","result":{"result":{"pages":["pages/index/index","pages/course/course","pages/user/user","pages/applet/applet"],"tabBar":[{"pagePath":"pages/course/course.html","text":"教程","iconPath":"images/nav/menu.png","selectedIconPath":"images/nav/menu-active.png"},{"pagePath":"pages/index/index.html","text":"主页","iconPath":"images/nav/index.png","selectedIconPath":"images/nav/index-active.png"},{"pagePath":"pages/user/user.html","text":"我的","iconPath":"images/nav/user.p...
[D 2024-05-22 13:49:27,993 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"089bd756-e723-456a-adfd-beed22e127d0","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:49:28,002 minium.Conn8720 connection#653 __on_message] RECV < {"id":"089bd756-e723-456a-adfd-beed22e127d0","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:49:28,005 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"1bb98d18-5c51-475f-8078-98f9388cfea9","method":"App.addBinding","params":{"name":"showModal_before_1716400168004"}}
[D 2024-05-22 13:49:28,012 minium.Conn8720 connection#653 __on_message] RECV < {"id":"1bb98d18-5c51-475f-8078-98f9388cfea9","result":{}}
[D 2024-05-22 13:49:28,013 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"4be0da64-f446-4b3b-b72c-c3b7186f230a","method":"App.addBinding","params":{"name":"showModal_callback_1716400168004"}}
[D 2024-05-22 13:49:28,019 minium.Conn8720 connection#653 __on_message] RECV < {"id":"4be0da64-f446-4b3b-b72c-c3b7186f230a","result":{}}
[D 2024-05-22 13:49:28,020 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:49:28,021 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"a124e18e-c3a6-486e-abcc-49b82f46ab88","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716400168004,after:undefined,callback:showModal_callback_1716400168004},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716400168004,true]}}
[D 2024-05-22 13:49:28,028 minium.Conn8720 connection#653 __on_message] RECV < {"id":"a124e18e-c3a6-486e-abcc-49b82f46ab88","result":{}}
[D 2024-05-22 13:49:28,029 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"1f5a59f3-3a3e-4a50-b730-bea14398a7bb","method":"App.addBinding","params":{"name":"showToast_before_1716400168029"}}
[D 2024-05-22 13:49:28,034 minium.Conn8720 connection#653 __on_message] RECV < {"id":"1f5a59f3-3a3e-4a50-b730-bea14398a7bb","result":{}}
[D 2024-05-22 13:49:28,035 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"b402c450-4bd8-44b6-b4f9-d3f9c71e70c2","method":"App.addBinding","params":{"name":"showToast_callback_1716400168029"}}
[D 2024-05-22 13:49:28,040 minium.Conn8720 connection#653 __on_message] RECV < {"id":"b402c450-4bd8-44b6-b4f9-d3f9c71e70c2","result":{}}
[D 2024-05-22 13:49:28,041 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:49:28,042 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"b45c36ef-c82a-41fa-be46-20d3b2299e28","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716400168029,after:undefined,callback:showToast_callback_1716400168029},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716400168029,true]}}
[D 2024-05-22 13:49:28,051 minium.Conn8720 connection#653 __on_message] RECV < {"id":"b45c36ef-c82a-41fa-be46-20d3b2299e28","result":{}}
[D 2024-05-22 13:49:28,053 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"6f1fa56a-f3f2-473f-8ec8-18de1586f199","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:49:28,061 minium.Conn8720 connection#653 __on_message] RECV < {"id":"6f1fa56a-f3f2-473f-8ec8-18de1586f199","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:49:28,062 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 13:49:28,063 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"2da5f58e-ba27-4095-9fd6-c79d69c06faf","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:49:28,068 minium.Conn8720 connection#653 __on_message] RECV < {"id":"2da5f58e-ba27-4095-9fd6-c79d69c06faf","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[D 2024-05-22 13:49:28,070 minium.Conn8720 connection#417 _safely_send] ASYNC_SEND > {"id":"7380d27c-59d8-486f-a7cc-c302144c8212","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:49:28,195 minium.Conn8720 connection#653 __on_message] RECV < {"id":"7380d27c-59d8-486f-a7cc-c302144c8212","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:49:28,195 minium.Conn8720 connection#697 _handle_async_msg] received async msg: 7380d27c-59d8-486f-a7cc-c302144c8212
[D 2024-05-22 13:49:28,724 minium.Conn8720 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716400168624},1716400168635]}}
[I 2024-05-22 13:49:28,725 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716400168624}, 1716400168635]}
[D 2024-05-22 13:49:28,727 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"29fcd7d4-58ea-48ff-a2e3-b06031f62d04","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:49:28,735 minium.Conn8720 connection#653 __on_message] RECV < {"id":"29fcd7d4-58ea-48ff-a2e3-b06031f62d04","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:49:28,737 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"869788a7-5e1b-45cc-9eb1-8a0754976ed8","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:49:28,772 minium.Conn8720 connection#653 __on_message] RECV < {"id":"869788a7-5e1b-45cc-9eb1-8a0754976ed8","result":{"result":false}}
[D 2024-05-22 13:49:28,774 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:49:28,776 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"a731638f-6472-4334-9e4e-c1ebef1cb69a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:49:28,795 minium.Conn8720 connection#653 __on_message] RECV < {"id":"a731638f-6472-4334-9e4e-c1ebef1cb69a","result":{}}
[D 2024-05-22 13:49:28,796 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"08c70678-0541-4028-a72d-a49839ab9a3a","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:49:29,666 minium.Conn8720 connection#653 __on_message] RECV < {"id":"08c70678-0541-4028-a72d-a49839ab9a3a","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:49:29,667 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"029f028b-1219-42ef-acad-905f66a8144d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:49:29,673 minium.Conn8720 connection#653 __on_message] RECV < {"id":"029f028b-1219-42ef-acad-905f66a8144d","result":{}}
[D 2024-05-22 13:49:29,675 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"5c8f1e85-0806-410d-a626-a75241c6f3fe","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:49:29,680 minium.Conn8720 connection#653 __on_message] RECV < {"id":"5c8f1e85-0806-410d-a626-a75241c6f3fe","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:49:29,681 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"fdd7f174-6a7d-47cb-8a8b-e71436bd7893","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:49:29,687 minium.Conn8720 connection#651 __on_message] RECV < {"id":"fdd7f174-6a7d-47cb-8a8b-e71436bd7893","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:49:29,688 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:49:29,690 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:49:29,690 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:49:29,691 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:49:29,691 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:49:29,691 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:49:29,691 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:49:29,691 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 13:49:29,692 minium.Conn8720 connection#417 _safely_send] ASYNC_SEND > {"id":"d7822ebf-00f4-402c-ba40-ae747876eabe","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:49:29,739 minium.Conn8720 connection#653 __on_message] RECV < {"id":"d7822ebf-00f4-402c-ba40-ae747876eabe","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:49:29,739 minium.Conn8720 connection#697 _handle_async_msg] received async msg: d7822ebf-00f4-402c-ba40-ae747876eabe
[I 2024-05-22 13:49:29,742 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:49:29,743 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:49:29,744 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"06d75f42-ebf9-44ce-a1ed-0daffb10c4c0","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:49:29,967 minium.Conn8720 connection#651 __on_message] RECV < {"id":"06d75f42-ebf9-44ce-a1ed-0daffb10c4c0","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 13:49:29,969 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:49:29,970 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:49:29,971 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"c67ffcc0-3126-4f8b-965b-4f977a16ab9d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:49:29,981 minium.Conn8720 connection#651 __on_message] RECV < {"id":"c67ffcc0-3126-4f8b-965b-4f977a16ab9d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:49:29,983 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:49:29,983 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:49:29,984 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:49:29,984 minium.Conn8720 connection#417 _safely_send] SEND > {"id":"afd35c46-70e3-4079-8ec6-eb4457376b84","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:49:30,262 minium.Conn8720 connection#651 __on_message] RECV < {"id":"afd35c46-70e3-4079-8ec6-eb4457376b84","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 13:49:30,264 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:49:30,265 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:49:30,266 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 13:49:30,271 minium.Conn8720 connection#417 _safely_send] ASYNC_SEND > {"id":"76d63b4a-08d3-439a-9049-ba340c569c09","method":"Tool.close","params":{}}
[D 2024-05-22 13:49:30,275 minium.Conn8720 connection#653 __on_message] RECV < {"id":"76d63b4a-08d3-439a-9049-ba340c569c09","result":{}}
[I 2024-05-22 13:49:30,276 minium.Conn8720 connection#697 _handle_async_msg] received async msg: 76d63b4a-08d3-439a-9049-ba340c569c09, maybe command ignore response
[E 2024-05-22 13:49:30,300 minium.Conn8720 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:49:30,301 minium.Conn8720 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:49:31,731 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:49:31,733 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:49:31,733 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:49:31,734 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:49:31,734 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx95558cdb8cce89a4" --auto-port 9420
[I 2024-05-22 13:49:37,673 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:63101
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:49:37,673 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:49:42,678 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:49:43,441 minium.Conn5872 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:49:43,442 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"96099167-9503-4a76-8905-6dbf5bff30ef","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:49:44,462 minium.Conn5872 connection#653 __on_message] RECV < {"id":"96099167-9503-4a76-8905-6dbf5bff30ef","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:49:44,463 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"cfda1f68-cdd3-447f-aec0-b561a18a0e3e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:49:56,938 minium.Conn5872 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 13:49:56,943 minium.Conn5872 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22623:21)\n    at Object.scriptLoaded (<anonymous>:22651:5)\n    at Object.<anonymous> (<anonymous>:22676:22)"}}
[D 2024-05-22 13:49:58,519 minium.Conn5872 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 13:49:58,531 minium.Conn5872 connection#651 __on_message] RECV < {"id":"cfda1f68-cdd3-447f-aec0-b561a18a0e3e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:49:58,533 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 13:49:58,534 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"4531511f-97ab-4582-9d0c-ac49399ec28a","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 13:49:58,560 minium.Conn5872 connection#653 __on_message] RECV < {"id":"4531511f-97ab-4582-9d0c-ac49399ec28a","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 13:49:58,561 minium.Conn5872 connection#283 remove] remove key which is not in observers
[D 2024-05-22 13:49:58,562 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"201f2003-c2db-4f93-a8f0-60794c5f29d7","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 13:49:58,598 minium.Conn5872 connection#653 __on_message] RECV < {"id":"201f2003-c2db-4f93-a8f0-60794c5f29d7","result":{}}
[D 2024-05-22 13:49:58,604 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"e9dd5046-f3f5-4e8d-ac8e-b6d5117e4368","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 13:49:58,644 minium.Conn5872 connection#653 __on_message] RECV < {"id":"e9dd5046-f3f5-4e8d-ac8e-b6d5117e4368","result":{}}
[D 2024-05-22 13:49:58,645 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 13:49:58,646 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"1279dfe5-fb28-4f76-928c-103bd8bf7523","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 13:49:58,693 minium.Conn5872 connection#653 __on_message] RECV < {"id":"1279dfe5-fb28-4f76-928c-103bd8bf7523","result":{}}
[D 2024-05-22 13:49:58,694 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 13:49:58,695 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"a6ea5483-3584-4429-a679-378fc9022fd0","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 13:49:58,738 minium.Conn5872 connection#653 __on_message] RECV < {"id":"a6ea5483-3584-4429-a679-378fc9022fd0","result":{}}
[D 2024-05-22 13:49:58,739 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 13:49:58,740 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"0850b9d8-932a-4509-b854-cfced2db2f46","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 13:49:58,748 minium.Conn5872 connection#653 __on_message] RECV < {"id":"0850b9d8-932a-4509-b854-cfced2db2f46","result":{"result":true}}
[D 2024-05-22 13:49:58,749 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"fe958b1c-b2a0-46a2-b2a4-4171998da817","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 13:49:58,809 minium.Conn5872 connection#651 __on_message] RECV < {"id":"fe958b1c-b2a0-46a2-b2a4-4171998da817","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 13:49:58,810 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"f1d5f610-dd2f-4ca0-a7a6-17c978240b36","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 13:49:58,834 minium.Conn5872 connection#653 __on_message] RECV < {"id":"f1d5f610-dd2f-4ca0-a7a6-17c978240b36","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 13:49:58,836 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"51248c9a-110a-402b-a75b-b884f3c87545","method":"App.addBinding","params":{"name":"showModal_before_1716400198836"}}
[D 2024-05-22 13:49:58,852 minium.Conn5872 connection#653 __on_message] RECV < {"id":"51248c9a-110a-402b-a75b-b884f3c87545","result":{}}
[D 2024-05-22 13:49:58,853 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"972ebabe-65c6-4366-a8a6-462147fe18b2","method":"App.addBinding","params":{"name":"showModal_callback_1716400198836"}}
[D 2024-05-22 13:49:58,862 minium.Conn5872 connection#653 __on_message] RECV < {"id":"972ebabe-65c6-4366-a8a6-462147fe18b2","result":{}}
[D 2024-05-22 13:49:58,863 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:49:58,864 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"d5424e70-6519-4551-b20e-0b85b0e81e51","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716400198836,after:undefined,callback:showModal_callback_1716400198836},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716400198836,true]}}
[D 2024-05-22 13:49:58,891 minium.Conn5872 connection#653 __on_message] RECV < {"id":"d5424e70-6519-4551-b20e-0b85b0e81e51","result":{}}
[D 2024-05-22 13:49:58,892 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"8625cbad-d19f-42cb-8bf0-9a563be08d27","method":"App.addBinding","params":{"name":"showToast_before_1716400198892"}}
[D 2024-05-22 13:49:58,899 minium.Conn5872 connection#653 __on_message] RECV < {"id":"8625cbad-d19f-42cb-8bf0-9a563be08d27","result":{}}
[D 2024-05-22 13:49:58,901 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"4873091b-d008-40e1-8a3d-c67168ba50a3","method":"App.addBinding","params":{"name":"showToast_callback_1716400198892"}}
[D 2024-05-22 13:49:58,907 minium.Conn5872 connection#653 __on_message] RECV < {"id":"4873091b-d008-40e1-8a3d-c67168ba50a3","result":{}}
[D 2024-05-22 13:49:58,908 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 13:49:58,910 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"20d399e7-5660-4c85-9a3f-40c02b7a9b46","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716400198892,after:undefined,callback:showToast_callback_1716400198892},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716400198892,true]}}
[D 2024-05-22 13:49:58,920 minium.Conn5872 connection#653 __on_message] RECV < {"id":"20d399e7-5660-4c85-9a3f-40c02b7a9b46","result":{}}
[D 2024-05-22 13:49:58,922 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"eba8da1d-6d9c-4526-9409-a4bf9d688565","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 13:49:58,945 minium.Conn5872 connection#653 __on_message] RECV < {"id":"eba8da1d-6d9c-4526-9409-a4bf9d688565","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 13:49:58,947 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 13:49:58,948 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"41bc36b4-e790-4096-9e48-15746db550ce","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 13:49:58,967 minium.Conn5872 connection#653 __on_message] RECV < {"id":"41bc36b4-e790-4096-9e48-15746db550ce","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 13:49:58,969 minium.Conn5872 connection#417 _safely_send] ASYNC_SEND > {"id":"3473940a-1c37-477f-8795-34b23cbf3abd","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:49:59,053 minium.Conn5872 connection#653 __on_message] RECV < {"id":"3473940a-1c37-477f-8795-34b23cbf3abd","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 13:49:59,054 minium.Conn5872 connection#697 _handle_async_msg] received async msg: 3473940a-1c37-477f-8795-34b23cbf3abd
[D 2024-05-22 13:50:00,819 minium.Conn5872 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716400200735},1716400200738]}}
[I 2024-05-22 13:50:00,825 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716400200735}, 1716400200738]}
[D 2024-05-22 13:50:00,828 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"8c01d5a1-c138-46c9-8501-df193f44b8b9","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:50:00,845 minium.Conn5872 connection#653 __on_message] RECV < {"id":"8c01d5a1-c138-46c9-8501-df193f44b8b9","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:50:00,850 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"6c5297aa-a67b-4f1b-820b-855074ab5e82","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 13:50:00,891 minium.Conn5872 connection#653 __on_message] RECV < {"id":"6c5297aa-a67b-4f1b-820b-855074ab5e82","result":{"result":false}}
[D 2024-05-22 13:50:00,892 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 13:50:00,893 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"4d3fe5eb-7908-4d34-849a-116dd3cfb179","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 13:50:00,916 minium.Conn5872 connection#653 __on_message] RECV < {"id":"4d3fe5eb-7908-4d34-849a-116dd3cfb179","result":{}}
[D 2024-05-22 13:50:00,918 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"115d5c64-097d-4fcd-b923-f79530afbf7c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 13:50:02,241 minium.Conn5872 connection#653 __on_message] RECV < {"id":"115d5c64-097d-4fcd-b923-f79530afbf7c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 13:50:02,242 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"2e5a69a1-650c-400e-afa8-59d9e4fcb619","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 13:50:02,248 minium.Conn5872 connection#653 __on_message] RECV < {"id":"2e5a69a1-650c-400e-afa8-59d9e4fcb619","result":{}}
[D 2024-05-22 13:50:02,250 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"482b0856-7e1b-4904-9973-8b44b4c5421e","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 13:50:02,258 minium.Conn5872 connection#653 __on_message] RECV < {"id":"482b0856-7e1b-4904-9973-8b44b4c5421e","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 13:50:02,259 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"f1c1bf37-67f9-4fab-aa29-59eb75cd3a5f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:50:02,271 minium.Conn5872 connection#651 __on_message] RECV < {"id":"f1c1bf37-67f9-4fab-aa29-59eb75cd3a5f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 13:50:02,272 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 13:50:02,274 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 13:50:02,274 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 13:50:02,274 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 13:50:02,274 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 13:50:02,275 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 13:50:02,275 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 13:50:02,275 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 13:50:02,275 minium.Conn5872 connection#417 _safely_send] ASYNC_SEND > {"id":"38975356-ccbc-4c23-bcfd-081f2f4ec189","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 13:50:02,367 minium.Conn5872 connection#653 __on_message] RECV < {"id":"38975356-ccbc-4c23-bcfd-081f2f4ec189","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 13:50:02,368 minium.Conn5872 connection#697 _handle_async_msg] received async msg: 38975356-ccbc-4c23-bcfd-081f2f4ec189
[I 2024-05-22 13:50:02,383 minium minitest#717 capture] capture setup.png
[I 2024-05-22 13:50:02,384 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:50:02,385 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"6c49ef82-0605-49c6-a162-493ecf81ffa9","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:50:02,498 minium.Conn5872 connection#651 __on_message] RECV < {"id":"6c49ef82-0605-49c6-a162-493ecf81ffa9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 13:50:02,499 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:50:02,500 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 13:50:02,500 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"c4b98cf2-df62-4de1-81d7-19d84e09b745","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 13:50:02,510 minium.Conn5872 connection#651 __on_message] RECV < {"id":"c4b98cf2-df62-4de1-81d7-19d84e09b745","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":74,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 13:50:02,512 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 13:50:02,513 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 13:50:02,513 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 13:50:02,514 minium.Conn5872 connection#417 _safely_send] SEND > {"id":"ffa96062-24ed-4138-8405-fd8746851d67","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 13:50:02,593 minium.Conn5872 connection#651 __on_message] RECV < {"id":"ffa96062-24ed-4138-8405-fd8746851d67","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 13:50:02,595 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 13:50:02,596 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 13:50:02,597 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 13:50:02,609 minium.Conn5872 connection#417 _safely_send] ASYNC_SEND > {"id":"3873a121-174c-4d89-8d46-1e409993faa4","method":"Tool.close","params":{}}
[D 2024-05-22 13:50:02,612 minium.Conn5872 connection#653 __on_message] RECV < {"id":"3873a121-174c-4d89-8d46-1e409993faa4","result":{}}
[I 2024-05-22 13:50:02,613 minium.Conn5872 connection#697 _handle_async_msg] received async msg: 3873a121-174c-4d89-8d46-1e409993faa4, maybe command ignore response
[E 2024-05-22 13:50:02,633 minium.Conn5872 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 13:50:02,634 minium.Conn5872 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 13:50:04,130 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 13:50:04,132 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 13:50:04,132 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 13:50:04,133 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 13:50:04,134 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx77d8f054ad997ddb" --auto-port 9420
[I 2024-05-22 13:50:09,745 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:63101
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 13:50:09,745 minium minium_object#102 _do_shell] out:

[I 2024-05-22 13:50:14,749 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:50:14,890 minium.Conn4080 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 13:50:14,891 minium.Conn4080 connection#417 _safely_send] SEND > {"id":"104e26b1-f6d5-4003-b4a3-5021dd0908e1","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:50:14,900 minium.Conn4080 connection#653 __on_message] RECV < {"id":"104e26b1-f6d5-4003-b4a3-5021dd0908e1","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:50:14,901 minium.Conn4080 connection#417 _safely_send] SEND > {"id":"52322ecd-7e44-445f-99d6-95eac105aab4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 13:51:14,903 minium wx_minium#699 connect_dev_tool] [52322ecd-7e44-445f-99d6-95eac105aab4][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [52322ecd-7e44-445f-99d6-95eac105aab4][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:51:14,906 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:51:14,988 minium.Conn4608 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:51:14,988 minium.Conn4080 connection#720 destroy] 断开连接
[D 2024-05-22 13:51:20,010 minium.Conn4608 connection#417 _safely_send] SEND > {"id":"0d49d63f-2d2f-4b50-8134-a45cde48f457","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:51:20,014 minium.Conn4608 connection#653 __on_message] RECV < {"id":"0d49d63f-2d2f-4b50-8134-a45cde48f457","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:51:20,015 minium.Conn4608 connection#417 _safely_send] SEND > {"id":"ca853f4c-54be-4784-916e-94b7dc93a7c4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 13:51:24,970 minium.Conn4080 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 13:52:20,017 minium wx_minium#699 connect_dev_tool] [ca853f4c-54be-4784-916e-94b7dc93a7c4][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [ca853f4c-54be-4784-916e-94b7dc93a7c4][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 13:52:20,018 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 13:52:20,060 minium.Conn4848 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 13:52:20,060 minium.Conn4608 connection#720 destroy] 断开连接
[I 2024-05-22 13:52:20,065 minium.Conn4608 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 13:52:20,068 minium.Conn4848 connection#417 _safely_send] SEND > {"id":"57dfd7c5-1722-4606-948d-1d1f6a61500d","method":"Tool.getInfo","params":{}}
[D 2024-05-22 13:52:20,069 minium.Conn4848 connection#653 __on_message] RECV < {"id":"57dfd7c5-1722-4606-948d-1d1f6a61500d","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 13:52:20,070 minium.Conn4848 connection#417 _safely_send] SEND > {"id":"4cd93b87-29f3-4bf7-90ec-c1ec3169990f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 14:03:36,602 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:03:36,604 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:03:36,604 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:03:36,605 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:03:36,606 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4ce9c3cff6c3c610" --auto-port 9420
[I 2024-05-22 14:03:48,093 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 63101, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:33324
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:03:48,094 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:03:53,098 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:03:54,373 minium.Conn7584 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:03:54,374 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"bbd34b04-35be-4b0f-8aa6-98acb39c094b","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:03:54,398 minium.Conn7584 connection#653 __on_message] RECV < {"id":"bbd34b04-35be-4b0f-8aa6-98acb39c094b","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:03:54,399 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"7c3a4b6d-f05b-4b6c-aaae-1ca93f365dc7","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:04,465 minium.Conn7584 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:04:04,469 minium.Conn7584 connection#651 __on_message] RECV < {"id":"7c3a4b6d-f05b-4b6c-aaae-1ca93f365dc7","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:04:04,470 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:04:04,472 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"f40db6a0-804e-4160-bf0f-2a0ce3fc178d","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:04:04,487 minium.Conn7584 connection#653 __on_message] RECV < {"id":"f40db6a0-804e-4160-bf0f-2a0ce3fc178d","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:04:04,488 minium.Conn7584 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:04:04,488 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"107b8089-2de2-4ca8-b8bc-f27fbb8d6232","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:04:04,513 minium.Conn7584 connection#653 __on_message] RECV < {"id":"107b8089-2de2-4ca8-b8bc-f27fbb8d6232","result":{}}
[D 2024-05-22 14:04:04,514 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"a82d173e-5db9-49c3-82fc-1a946f32c3bc","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:04:04,544 minium.Conn7584 connection#653 __on_message] RECV < {"id":"a82d173e-5db9-49c3-82fc-1a946f32c3bc","result":{}}
[D 2024-05-22 14:04:04,546 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:04:04,547 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"6141c378-cfb8-4b43-9a96-f6280c0ce260","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:04:04,565 minium.Conn7584 connection#653 __on_message] RECV < {"id":"6141c378-cfb8-4b43-9a96-f6280c0ce260","result":{}}
[D 2024-05-22 14:04:04,566 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:04:04,567 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"c72e8d16-b8e0-42e0-ae35-e1cd45242046","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:04:04,590 minium.Conn7584 connection#653 __on_message] RECV < {"id":"c72e8d16-b8e0-42e0-ae35-e1cd45242046","result":{}}
[D 2024-05-22 14:04:04,591 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:04:04,592 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"8d372762-8dac-47ef-9569-9b17d6438fe8","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:04:04,599 minium.Conn7584 connection#653 __on_message] RECV < {"id":"8d372762-8dac-47ef-9569-9b17d6438fe8","result":{"result":true}}
[D 2024-05-22 14:04:04,600 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"4e4d34f1-6df4-4d70-88e8-9041c78a319f","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:04:04,607 minium.Conn7584 connection#651 __on_message] RECV < {"id":"4e4d34f1-6df4-4d70-88e8-9041c78a319f","result":{"result":{"pages":["pages/index/index","pages/course/course","pages/user/user","pages/applet/applet"],"tabBar":[{"pagePath":"pages/course/course.html","text":"教程","iconPath":"images/nav/menu.png","selectedIconPath":"images/nav/menu-active.png"},{"pagePath":"pages/index/index.html","text":"主页","iconPath":"images/nav/index.png","selectedIconPath":"images/nav/index-active.png"},{"pagePath":"pages/user/user.html","text":"我的","iconPath":"images/nav/user.p...
[D 2024-05-22 14:04:04,609 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"87f8cc1d-d7a0-40ec-a9c9-57f012909200","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:04:04,618 minium.Conn7584 connection#653 __on_message] RECV < {"id":"87f8cc1d-d7a0-40ec-a9c9-57f012909200","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:04:04,619 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"8e7958e8-0b8b-4727-8747-85f263446ca2","method":"App.addBinding","params":{"name":"showModal_before_1716401044619"}}
[D 2024-05-22 14:04:04,627 minium.Conn7584 connection#653 __on_message] RECV < {"id":"8e7958e8-0b8b-4727-8747-85f263446ca2","result":{}}
[D 2024-05-22 14:04:04,628 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"06361117-602e-4cb2-93a5-e1c5ae50b8df","method":"App.addBinding","params":{"name":"showModal_callback_1716401044619"}}
[D 2024-05-22 14:04:04,633 minium.Conn7584 connection#653 __on_message] RECV < {"id":"06361117-602e-4cb2-93a5-e1c5ae50b8df","result":{}}
[D 2024-05-22 14:04:04,634 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:04:04,635 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"bfdcc46c-c9dc-42a3-8cd4-ddf24092fdeb","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716401044619,after:undefined,callback:showModal_callback_1716401044619},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716401044619,true]}}
[D 2024-05-22 14:04:04,643 minium.Conn7584 connection#653 __on_message] RECV < {"id":"bfdcc46c-c9dc-42a3-8cd4-ddf24092fdeb","result":{}}
[D 2024-05-22 14:04:04,644 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"2f22f6d4-a5f4-44e0-97aa-544d1b066439","method":"App.addBinding","params":{"name":"showToast_before_1716401044644"}}
[D 2024-05-22 14:04:04,650 minium.Conn7584 connection#653 __on_message] RECV < {"id":"2f22f6d4-a5f4-44e0-97aa-544d1b066439","result":{}}
[D 2024-05-22 14:04:04,652 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"a72b6f46-9da3-482d-b502-24c5f6fafa1e","method":"App.addBinding","params":{"name":"showToast_callback_1716401044644"}}
[D 2024-05-22 14:04:04,659 minium.Conn7584 connection#653 __on_message] RECV < {"id":"a72b6f46-9da3-482d-b502-24c5f6fafa1e","result":{}}
[D 2024-05-22 14:04:04,660 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:04:04,661 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"cd52fe34-f1bd-4eb2-bdcb-3490e3c0bbf1","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716401044644,after:undefined,callback:showToast_callback_1716401044644},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716401044644,true]}}
[D 2024-05-22 14:04:04,666 minium.Conn7584 connection#653 __on_message] RECV < {"id":"cd52fe34-f1bd-4eb2-bdcb-3490e3c0bbf1","result":{}}
[D 2024-05-22 14:04:04,670 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"1b7528d9-6169-4e47-ad33-d4d00df0a8f5","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:04:04,693 minium.Conn7584 connection#653 __on_message] RECV < {"id":"1b7528d9-6169-4e47-ad33-d4d00df0a8f5","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:04:04,694 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:04:04,696 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"3caea348-4ab0-43db-870f-3cd71fc7cf67","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:04:04,704 minium.Conn7584 connection#653 __on_message] RECV < {"id":"3caea348-4ab0-43db-870f-3cd71fc7cf67","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:04:04,705 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"4346ca3a-3e9c-4a5b-beb6-52ecf9df7f8f","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:04:04,858 minium.Conn7584 connection#653 __on_message] RECV < {"id":"4346ca3a-3e9c-4a5b-beb6-52ecf9df7f8f","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:04:04,861 minium.Conn7584 connection#697 _handle_async_msg] received async msg: 4346ca3a-3e9c-4a5b-beb6-52ecf9df7f8f
[D 2024-05-22 14:04:05,262 minium.Conn7584 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716401045213},1716401045215]}}
[I 2024-05-22 14:04:05,264 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716401045213}, 1716401045215]}
[D 2024-05-22 14:04:05,266 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"14640136-d74a-49f0-a794-694c59a30d62","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:04:05,281 minium.Conn7584 connection#653 __on_message] RECV < {"id":"14640136-d74a-49f0-a794-694c59a30d62","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:04:05,284 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"39bcf64a-8637-4961-bb8b-28a141663004","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:04:05,313 minium.Conn7584 connection#653 __on_message] RECV < {"id":"39bcf64a-8637-4961-bb8b-28a141663004","result":{"result":false}}
[D 2024-05-22 14:04:05,315 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:04:05,316 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"b83d8cd3-dee2-43cd-8461-0736077d0658","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:04:05,328 minium.Conn7584 connection#653 __on_message] RECV < {"id":"b83d8cd3-dee2-43cd-8461-0736077d0658","result":{}}
[D 2024-05-22 14:04:05,330 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"0341649d-2c3f-4a67-8acf-e16b33243c45","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:04:06,056 minium.Conn7584 connection#653 __on_message] RECV < {"id":"0341649d-2c3f-4a67-8acf-e16b33243c45","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:04:06,057 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"6abff0b1-d2b5-466f-9c6e-de773dc9ddfc","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:04:06,077 minium.Conn7584 connection#653 __on_message] RECV < {"id":"6abff0b1-d2b5-466f-9c6e-de773dc9ddfc","result":{}}
[D 2024-05-22 14:04:06,080 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"d66776be-5220-48d9-abd2-8df5f6bddc6c","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:04:06,085 minium.Conn7584 connection#653 __on_message] RECV < {"id":"d66776be-5220-48d9-abd2-8df5f6bddc6c","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:04:06,091 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"abf4e2b2-b31b-4932-8067-114ac502011c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:06,105 minium.Conn7584 connection#651 __on_message] RECV < {"id":"abf4e2b2-b31b-4932-8067-114ac502011c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:04:06,106 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:04:06,109 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:04:06,109 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:04:06,109 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:04:06,109 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:04:06,110 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:04:06,110 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:04:06,110 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:04:06,111 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"ae636c30-4f72-41f4-bffa-c648194eaa58","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:04:06,190 minium.Conn7584 connection#653 __on_message] RECV < {"id":"ae636c30-4f72-41f4-bffa-c648194eaa58","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:04:06,191 minium.Conn7584 connection#697 _handle_async_msg] received async msg: ae636c30-4f72-41f4-bffa-c648194eaa58
[I 2024-05-22 14:04:06,193 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:04:06,193 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:04:06,194 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"c5593a6b-6212-4a6e-8053-7aa47b6f436b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:04:06,447 minium.Conn7584 connection#651 __on_message] RECV < {"id":"c5593a6b-6212-4a6e-8053-7aa47b6f436b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 14:04:06,450 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:04:06,450 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:04:06,451 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"c2bef9e4-b60e-42ca-8a92-eefec9e61129","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:06,459 minium.Conn7584 connection#651 __on_message] RECV < {"id":"c2bef9e4-b60e-42ca-8a92-eefec9e61129","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:04:06,461 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:04:06,462 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:04:06,462 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:04:06,463 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"77248ccd-afe4-47f1-8d5f-6402f6583d6c","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:04:06,623 minium.Conn7584 connection#651 __on_message] RECV < {"id":"77248ccd-afe4-47f1-8d5f-6402f6583d6c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 14:04:06,626 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:04:06,626 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:04:06,627 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:04:06,632 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"6049b490-12c1-49fc-b815-b204d06ebaf8","method":"Tool.close","params":{}}
[D 2024-05-22 14:04:06,635 minium.Conn7584 connection#653 __on_message] RECV < {"id":"6049b490-12c1-49fc-b815-b204d06ebaf8","result":{}}
[I 2024-05-22 14:04:06,635 minium.Conn7584 connection#697 _handle_async_msg] received async msg: 6049b490-12c1-49fc-b815-b204d06ebaf8, maybe command ignore response
[E 2024-05-22 14:04:06,658 minium.Conn7584 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:04:06,658 minium.Conn7584 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:04:08,169 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:04:08,172 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:04:08,173 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:04:08,179 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:04:08,180 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx95558cdb8cce89a4" --auto-port 9420
[I 2024-05-22 14:04:13,647 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:33324
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:04:13,648 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:04:18,653 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:04:19,159 minium.Conn7648 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:04:19,165 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"80bf8f73-c31f-40a3-b065-364e07936a49","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:04:19,181 minium.Conn7648 connection#653 __on_message] RECV < {"id":"80bf8f73-c31f-40a3-b065-364e07936a49","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:04:19,182 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"1967ec01-552c-407c-8a5f-e7183c4e50ab","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:31,315 minium.Conn7648 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:04:31,316 minium.Conn7648 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22623:21)\n    at Object.scriptLoaded (<anonymous>:22651:5)\n    at Object.<anonymous> (<anonymous>:22676:22)"}}
[D 2024-05-22 14:04:34,060 minium.Conn7648 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:04:34,086 minium.Conn7648 connection#651 __on_message] RECV < {"id":"1967ec01-552c-407c-8a5f-e7183c4e50ab","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:04:34,088 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:04:34,089 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"5b02aa2a-9693-4fff-b528-52edd6b4824f","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:04:34,137 minium.Conn7648 connection#653 __on_message] RECV < {"id":"5b02aa2a-9693-4fff-b528-52edd6b4824f","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:04:34,138 minium.Conn7648 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:04:34,139 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"03fbb7c9-e5eb-491e-b9c5-3a22672f6d69","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:04:34,229 minium.Conn7648 connection#653 __on_message] RECV < {"id":"03fbb7c9-e5eb-491e-b9c5-3a22672f6d69","result":{}}
[D 2024-05-22 14:04:34,230 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"e16806ec-5c12-45aa-8408-be7827b0219b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:04:34,242 minium.Conn7648 connection#653 __on_message] RECV < {"id":"e16806ec-5c12-45aa-8408-be7827b0219b","result":{}}
[D 2024-05-22 14:04:34,243 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:04:34,244 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"f7558158-cb6f-41a0-b9de-0fb329ae085c","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:04:34,268 minium.Conn7648 connection#653 __on_message] RECV < {"id":"f7558158-cb6f-41a0-b9de-0fb329ae085c","result":{}}
[D 2024-05-22 14:04:34,269 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:04:34,270 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"f0e43cf2-2760-4eef-a158-cd504e41ee7c","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:04:34,297 minium.Conn7648 connection#653 __on_message] RECV < {"id":"f0e43cf2-2760-4eef-a158-cd504e41ee7c","result":{}}
[D 2024-05-22 14:04:34,301 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:04:34,302 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"20b21b3e-c565-435d-ab41-c6fe17301304","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:04:34,325 minium.Conn7648 connection#653 __on_message] RECV < {"id":"20b21b3e-c565-435d-ab41-c6fe17301304","result":{"result":true}}
[D 2024-05-22 14:04:34,327 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"aec1dfe2-afd7-4856-92d7-6fbcbd27c136","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:04:34,362 minium.Conn7648 connection#651 __on_message] RECV < {"id":"aec1dfe2-afd7-4856-92d7-6fbcbd27c136","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 14:04:34,364 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"64895aa3-6322-4afe-804c-1e7bc256e95f","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:04:34,376 minium.Conn7648 connection#653 __on_message] RECV < {"id":"64895aa3-6322-4afe-804c-1e7bc256e95f","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:04:34,377 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"c9623fe9-d0c3-4518-afc0-476938db1d38","method":"App.addBinding","params":{"name":"showModal_before_1716401074377"}}
[D 2024-05-22 14:04:34,384 minium.Conn7648 connection#653 __on_message] RECV < {"id":"c9623fe9-d0c3-4518-afc0-476938db1d38","result":{}}
[D 2024-05-22 14:04:34,386 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"dc1d2090-5ccb-47c5-99d0-e5b1182c23d9","method":"App.addBinding","params":{"name":"showModal_callback_1716401074377"}}
[D 2024-05-22 14:04:34,395 minium.Conn7648 connection#653 __on_message] RECV < {"id":"dc1d2090-5ccb-47c5-99d0-e5b1182c23d9","result":{}}
[D 2024-05-22 14:04:34,396 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:04:34,397 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"74e2d2a5-30c7-44f0-82b0-e326648a8cf2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716401074377,after:undefined,callback:showModal_callback_1716401074377},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716401074377,true]}}
[D 2024-05-22 14:04:34,407 minium.Conn7648 connection#653 __on_message] RECV < {"id":"74e2d2a5-30c7-44f0-82b0-e326648a8cf2","result":{}}
[D 2024-05-22 14:04:34,408 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"dd5ebcf9-0b34-4964-80d1-250bb1210426","method":"App.addBinding","params":{"name":"showToast_before_1716401074408"}}
[D 2024-05-22 14:04:34,424 minium.Conn7648 connection#653 __on_message] RECV < {"id":"dd5ebcf9-0b34-4964-80d1-250bb1210426","result":{}}
[D 2024-05-22 14:04:34,426 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"807012e4-ec78-4659-9de4-d968afcba702","method":"App.addBinding","params":{"name":"showToast_callback_1716401074408"}}
[D 2024-05-22 14:04:34,458 minium.Conn7648 connection#653 __on_message] RECV < {"id":"807012e4-ec78-4659-9de4-d968afcba702","result":{}}
[D 2024-05-22 14:04:34,459 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:04:34,460 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"e6fda64d-9329-461c-a7f4-d00bd8537378","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716401074408,after:undefined,callback:showToast_callback_1716401074408},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716401074408,true]}}
[D 2024-05-22 14:04:34,470 minium.Conn7648 connection#653 __on_message] RECV < {"id":"e6fda64d-9329-461c-a7f4-d00bd8537378","result":{}}
[D 2024-05-22 14:04:34,473 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"98974570-ac05-4180-9fa0-203589fc7b81","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:04:34,487 minium.Conn7648 connection#653 __on_message] RECV < {"id":"98974570-ac05-4180-9fa0-203589fc7b81","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:04:34,489 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:04:34,492 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"ba03845b-9492-4532-bdaf-48df18906a62","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:04:34,535 minium.Conn7648 connection#653 __on_message] RECV < {"id":"ba03845b-9492-4532-bdaf-48df18906a62","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:04:34,536 minium.Conn7648 connection#417 _safely_send] ASYNC_SEND > {"id":"3ba91bc7-83eb-430f-84be-055b5035662d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:04:34,652 minium.Conn7648 connection#653 __on_message] RECV < {"id":"3ba91bc7-83eb-430f-84be-055b5035662d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:04:34,653 minium.Conn7648 connection#697 _handle_async_msg] received async msg: 3ba91bc7-83eb-430f-84be-055b5035662d
[D 2024-05-22 14:04:36,938 minium.Conn7648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716401076902},1716401076904]}}
[I 2024-05-22 14:04:36,940 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716401076902}, 1716401076904]}
[D 2024-05-22 14:04:36,945 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"fac26e02-af24-490f-8d5f-ea60ba4ed860","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:04:36,963 minium.Conn7648 connection#653 __on_message] RECV < {"id":"fac26e02-af24-490f-8d5f-ea60ba4ed860","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:04:36,965 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"74dc5a77-cac3-46f5-b54d-d7c57793254c","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:04:36,998 minium.Conn7648 connection#653 __on_message] RECV < {"id":"74dc5a77-cac3-46f5-b54d-d7c57793254c","result":{"result":false}}
[D 2024-05-22 14:04:37,000 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:04:37,000 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"555860d1-1938-4127-b678-217dfafbe5e9","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:04:37,052 minium.Conn7648 connection#653 __on_message] RECV < {"id":"555860d1-1938-4127-b678-217dfafbe5e9","result":{}}
[D 2024-05-22 14:04:37,054 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"c961333d-f8f4-4304-82c5-581cab412677","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:04:37,850 minium.Conn7648 connection#653 __on_message] RECV < {"id":"c961333d-f8f4-4304-82c5-581cab412677","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:04:37,852 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"117d218c-0c10-47bc-96f9-b86b0deeedbd","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:04:37,863 minium.Conn7648 connection#653 __on_message] RECV < {"id":"117d218c-0c10-47bc-96f9-b86b0deeedbd","result":{}}
[D 2024-05-22 14:04:37,865 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"b68fd829-d54d-424d-86e2-db238b9928a1","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:04:37,870 minium.Conn7648 connection#653 __on_message] RECV < {"id":"b68fd829-d54d-424d-86e2-db238b9928a1","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:04:37,871 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"44563948-6615-419d-b23d-fca0489b1b14","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:37,879 minium.Conn7648 connection#651 __on_message] RECV < {"id":"44563948-6615-419d-b23d-fca0489b1b14","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:04:37,880 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:04:37,883 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:04:37,883 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:04:37,883 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:04:37,884 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:04:37,885 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:04:37,885 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:04:37,885 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:04:37,886 minium.Conn7648 connection#417 _safely_send] ASYNC_SEND > {"id":"45dcab20-05dc-4949-8554-b64c9daddbe9","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:04:37,999 minium.Conn7648 connection#653 __on_message] RECV < {"id":"45dcab20-05dc-4949-8554-b64c9daddbe9","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:04:38,000 minium.Conn7648 connection#697 _handle_async_msg] received async msg: 45dcab20-05dc-4949-8554-b64c9daddbe9
[I 2024-05-22 14:04:38,002 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:04:38,003 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:04:38,003 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"a98cae01-c460-4cd6-9110-0f51048db59c","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:04:38,148 minium.Conn7648 connection#651 __on_message] RECV < {"id":"a98cae01-c460-4cd6-9110-0f51048db59c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:04:38,150 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:04:38,151 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:04:38,151 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"fc8ce88f-f240-4dcf-bda6-9531370d5d69","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:04:38,158 minium.Conn7648 connection#651 __on_message] RECV < {"id":"fc8ce88f-f240-4dcf-bda6-9531370d5d69","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":69,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:04:38,160 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:04:38,160 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:04:38,161 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:04:38,163 minium.Conn7648 connection#417 _safely_send] SEND > {"id":"02c5775a-0ee6-4afc-a0a5-ebbb3a8984b9","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:04:38,256 minium.Conn7648 connection#651 __on_message] RECV < {"id":"02c5775a-0ee6-4afc-a0a5-ebbb3a8984b9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:04:38,258 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:04:38,258 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:04:38,259 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:04:38,267 minium.Conn7648 connection#417 _safely_send] ASYNC_SEND > {"id":"d385ff25-02d7-48da-9b7f-8af98d4c91bc","method":"Tool.close","params":{}}
[D 2024-05-22 14:04:38,271 minium.Conn7648 connection#653 __on_message] RECV < {"id":"d385ff25-02d7-48da-9b7f-8af98d4c91bc","result":{}}
[I 2024-05-22 14:04:38,272 minium.Conn7648 connection#697 _handle_async_msg] received async msg: d385ff25-02d7-48da-9b7f-8af98d4c91bc, maybe command ignore response
[E 2024-05-22 14:04:38,293 minium.Conn7648 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:04:38,293 minium.Conn7648 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:04:39,708 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:04:39,709 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:04:39,709 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:04:39,710 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:04:39,710 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx77d8f054ad997ddb" --auto-port 9420
[I 2024-05-22 14:04:45,690 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:33324
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:04:45,691 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:04:50,696 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:04:50,847 minium.Conn3552 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:04:50,848 minium.Conn3552 connection#417 _safely_send] SEND > {"id":"4fe41637-9e04-4942-8b98-2b1830eacf83","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:04:50,901 minium.Conn3552 connection#653 __on_message] RECV < {"id":"4fe41637-9e04-4942-8b98-2b1830eacf83","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:04:50,907 minium.Conn3552 connection#417 _safely_send] SEND > {"id":"4bf30edc-e878-4bc5-8cc0-8076505affc9","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 14:05:23,001 minium.Conn3552 connection#632 _on_error] Connection to remote host was lost.
[W 2024-05-22 14:05:23,002 minium.Conn3552 connection#552 reconnect] connection reconnect
[I 2024-05-22 14:05:23,003 minium.Conn3552 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 14:05:23,116 minium.Conn3552 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 14:05:23,128 minium.Conn3552 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 14:05:23,144 minium.Conn3552 connection#568 reconnect] connect refused, please check svr
[I 2024-05-22 14:09:15,771 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:09:15,773 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:09:15,773 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:09:15,774 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:09:15,774 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4ce9c3cff6c3c610" --auto-port 9420
[I 2024-05-22 14:09:26,999 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 33324, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:45955
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:09:26,999 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:09:32,005 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:09:33,516 minium.Conn3024 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:09:33,517 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"f2163833-3339-40e7-a8ec-b50319a0230e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:09:33,523 minium.Conn3024 connection#653 __on_message] RECV < {"id":"f2163833-3339-40e7-a8ec-b50319a0230e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:09:33,524 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"30dd675a-4b2e-4e70-b3bf-b5a74d7da542","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:09:43,396 minium.Conn3024 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:09:43,402 minium.Conn3024 connection#651 __on_message] RECV < {"id":"30dd675a-4b2e-4e70-b3bf-b5a74d7da542","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":67,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:09:43,403 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:09:43,404 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"a82caca5-a69c-49ea-a9d3-96ba6ee9dc8b","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:09:43,411 minium.Conn3024 connection#653 __on_message] RECV < {"id":"a82caca5-a69c-49ea-a9d3-96ba6ee9dc8b","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:09:43,413 minium.Conn3024 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:09:43,414 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"8b21cc27-f853-4e7a-aeb4-50997978aafb","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:09:43,420 minium.Conn3024 connection#653 __on_message] RECV < {"id":"8b21cc27-f853-4e7a-aeb4-50997978aafb","result":{}}
[D 2024-05-22 14:09:43,421 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"0b1da19b-e636-419e-9737-24cd75c09ccc","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:09:43,429 minium.Conn3024 connection#653 __on_message] RECV < {"id":"0b1da19b-e636-419e-9737-24cd75c09ccc","result":{}}
[D 2024-05-22 14:09:43,432 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:09:43,433 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"ce5be932-206a-4afe-9b73-2e37b50f17a6","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:09:43,443 minium.Conn3024 connection#653 __on_message] RECV < {"id":"ce5be932-206a-4afe-9b73-2e37b50f17a6","result":{}}
[D 2024-05-22 14:09:43,444 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:09:43,444 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"9de8d768-f7ee-437f-9ad2-304e74889067","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:09:43,454 minium.Conn3024 connection#653 __on_message] RECV < {"id":"9de8d768-f7ee-437f-9ad2-304e74889067","result":{}}
[D 2024-05-22 14:09:43,455 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:09:43,456 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"ee9ed079-f942-49f2-8ca4-c2fd438f21d8","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:09:43,463 minium.Conn3024 connection#653 __on_message] RECV < {"id":"ee9ed079-f942-49f2-8ca4-c2fd438f21d8","result":{"result":true}}
[D 2024-05-22 14:09:43,464 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"d3d7ebc4-181b-4b34-8635-c1f5cefec23d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:09:43,473 minium.Conn3024 connection#651 __on_message] RECV < {"id":"d3d7ebc4-181b-4b34-8635-c1f5cefec23d","result":{"result":{"pages":["pages/index/index","pages/course/course","pages/user/user","pages/applet/applet"],"tabBar":[{"pagePath":"pages/course/course.html","text":"教程","iconPath":"images/nav/menu.png","selectedIconPath":"images/nav/menu-active.png"},{"pagePath":"pages/index/index.html","text":"主页","iconPath":"images/nav/index.png","selectedIconPath":"images/nav/index-active.png"},{"pagePath":"pages/user/user.html","text":"我的","iconPath":"images/nav/user.p...
[D 2024-05-22 14:09:43,474 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"e37701e8-d3ea-44d5-b29c-3bbaffddeb2f","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:09:43,483 minium.Conn3024 connection#653 __on_message] RECV < {"id":"e37701e8-d3ea-44d5-b29c-3bbaffddeb2f","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:09:43,484 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"78913696-6a0e-499d-aa46-913df5961e3a","method":"App.addBinding","params":{"name":"showModal_before_1716401383484"}}
[D 2024-05-22 14:09:43,494 minium.Conn3024 connection#653 __on_message] RECV < {"id":"78913696-6a0e-499d-aa46-913df5961e3a","result":{}}
[D 2024-05-22 14:09:43,496 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"8a9d3c61-2965-41c8-b854-7ef91ce748da","method":"App.addBinding","params":{"name":"showModal_callback_1716401383484"}}
[D 2024-05-22 14:09:43,501 minium.Conn3024 connection#653 __on_message] RECV < {"id":"8a9d3c61-2965-41c8-b854-7ef91ce748da","result":{}}
[D 2024-05-22 14:09:43,502 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:09:43,503 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"f217541d-8ea6-4f5b-af35-5a1510649f1b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716401383484,after:undefined,callback:showModal_callback_1716401383484},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716401383484,true]}}
[D 2024-05-22 14:09:43,511 minium.Conn3024 connection#653 __on_message] RECV < {"id":"f217541d-8ea6-4f5b-af35-5a1510649f1b","result":{}}
[D 2024-05-22 14:09:43,512 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"b3d3b473-125e-41e4-bebc-5a7206fd06c2","method":"App.addBinding","params":{"name":"showToast_before_1716401383512"}}
[D 2024-05-22 14:09:43,517 minium.Conn3024 connection#653 __on_message] RECV < {"id":"b3d3b473-125e-41e4-bebc-5a7206fd06c2","result":{}}
[D 2024-05-22 14:09:43,518 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"d0b54706-f29a-4a6d-9310-9a4210272262","method":"App.addBinding","params":{"name":"showToast_callback_1716401383512"}}
[D 2024-05-22 14:09:43,524 minium.Conn3024 connection#653 __on_message] RECV < {"id":"d0b54706-f29a-4a6d-9310-9a4210272262","result":{}}
[D 2024-05-22 14:09:43,525 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:09:43,526 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"740fe877-62d6-4e91-82d6-3e504f5ad417","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716401383512,after:undefined,callback:showToast_callback_1716401383512},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716401383512,true]}}
[D 2024-05-22 14:09:43,533 minium.Conn3024 connection#653 __on_message] RECV < {"id":"740fe877-62d6-4e91-82d6-3e504f5ad417","result":{}}
[D 2024-05-22 14:09:43,535 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"b7bafe05-e227-4685-8c4d-a391fb31198c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:09:43,542 minium.Conn3024 connection#653 __on_message] RECV < {"id":"b7bafe05-e227-4685-8c4d-a391fb31198c","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:09:43,543 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:09:43,545 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"f6193771-8d83-4e0a-bf82-071fa5cd52f8","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:09:43,551 minium.Conn3024 connection#653 __on_message] RECV < {"id":"f6193771-8d83-4e0a-bf82-071fa5cd52f8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:09:43,552 minium.Conn3024 connection#417 _safely_send] ASYNC_SEND > {"id":"9400197e-dd8f-4edd-946d-e6cc9aea1432","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:09:43,722 minium.Conn3024 connection#653 __on_message] RECV < {"id":"9400197e-dd8f-4edd-946d-e6cc9aea1432","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:09:43,722 minium.Conn3024 connection#697 _handle_async_msg] received async msg: 9400197e-dd8f-4edd-946d-e6cc9aea1432
[D 2024-05-22 14:09:44,181 minium.Conn3024 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716401384093},1716401384096]}}
[I 2024-05-22 14:09:44,183 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716401384093}, 1716401384096]}
[D 2024-05-22 14:09:44,185 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"e4d09a58-fa7b-41b4-ae5b-f3d39bbc6ef6","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:09:44,203 minium.Conn3024 connection#653 __on_message] RECV < {"id":"e4d09a58-fa7b-41b4-ae5b-f3d39bbc6ef6","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:09:44,205 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"a2da59a0-f19e-4924-a230-9257224ba66e","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:09:44,237 minium.Conn3024 connection#653 __on_message] RECV < {"id":"a2da59a0-f19e-4924-a230-9257224ba66e","result":{"result":false}}
[D 2024-05-22 14:09:44,238 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:09:44,239 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"5815a7ab-04c4-4c37-80de-b91a60e6bb5c","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:09:44,270 minium.Conn3024 connection#653 __on_message] RECV < {"id":"5815a7ab-04c4-4c37-80de-b91a60e6bb5c","result":{}}
[D 2024-05-22 14:09:44,271 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"6744dec9-2aa5-4fd4-9ab0-1f6265b4e07d","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:09:45,190 minium.Conn3024 connection#653 __on_message] RECV < {"id":"6744dec9-2aa5-4fd4-9ab0-1f6265b4e07d","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:09:45,192 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"8882b6b9-e190-4dbe-832a-359635467bce","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:09:45,214 minium.Conn3024 connection#653 __on_message] RECV < {"id":"8882b6b9-e190-4dbe-832a-359635467bce","result":{}}
[D 2024-05-22 14:09:45,223 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"ed55327e-f539-4202-b351-dbc7a98504a0","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:09:45,250 minium.Conn3024 connection#653 __on_message] RECV < {"id":"ed55327e-f539-4202-b351-dbc7a98504a0","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:09:45,252 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"ed2bcdcc-ae9d-47fc-b148-726116842af9","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:09:45,275 minium.Conn3024 connection#651 __on_message] RECV < {"id":"ed2bcdcc-ae9d-47fc-b148-726116842af9","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":67,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:09:45,276 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:09:45,300 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:09:45,301 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:09:45,301 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:09:45,302 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:09:45,302 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:09:45,302 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:09:45,303 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:09:45,303 minium.Conn3024 connection#417 _safely_send] ASYNC_SEND > {"id":"64f31cb1-d6e8-407b-85bd-1785fef8ddcd","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:09:45,376 minium.Conn3024 connection#653 __on_message] RECV < {"id":"64f31cb1-d6e8-407b-85bd-1785fef8ddcd","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:09:45,376 minium.Conn3024 connection#697 _handle_async_msg] received async msg: 64f31cb1-d6e8-407b-85bd-1785fef8ddcd
[I 2024-05-22 14:09:45,378 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:09:45,379 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:09:45,380 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"839c8a9f-c072-4ce4-a1a5-2426701f6611","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:09:45,606 minium.Conn3024 connection#651 __on_message] RECV < {"id":"839c8a9f-c072-4ce4-a1a5-2426701f6611","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 14:09:45,609 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:09:45,609 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:09:45,610 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"14d49298-b257-4759-bbea-e2750fd35c5e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:09:45,615 minium.Conn3024 connection#653 __on_message] RECV < {"id":"14d49298-b257-4759-bbea-e2750fd35c5e","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:09:45,616 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:09:55,621 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:09:55,622 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:09:55,622 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:09:55,623 minium.Conn3024 connection#417 _safely_send] SEND > {"id":"a76cfa8f-6e32-4c66-9c52-4f653437da0e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:09:56,026 minium.Conn3024 connection#651 __on_message] RECV < {"id":"a76cfa8f-6e32-4c66-9c52-4f653437da0e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXk8lN3/x3/GjH3fyb6kKAolJKKyVBSS7izZcqMsFSoSWRJpsYS0KWSpSIhUtsgaSsrWYifb2Gbs8/vj/O7rMR/EqPv7/X76/eb5h8fMcea6zrW8z/p+vQ8Kj8cDMmTI/JlQ/F8XgAwZMr8O2YDJkPmDIRswGTJ/MGQDJkPmD4ZswGTI/MGQDZgMmT8YsgGTIfMHQzZgMmT+YMgGTIbMHwzZgMmQ+YMhGzAZMn8wZAMmQ+YPhmzAZMj8wZANmAyZPxiyAZMh8wdDNmAyZP5gyAZMhswfDNmAyZD5gyEbMBkyfzBkAyZD5g+GbMBkyPzBkA2YDJk/GLIBkyHzB0M2YDJk/mDIBkyGzB8M2YDJkPmDIRswGT...
[I 2024-05-22 14:09:56,027 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:09:56,028 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:09:56,028 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:09:56,041 minium.Conn3024 connection#417 _safely_send] ASYNC_SEND > {"id":"c1a0d969-e7e4-4bb8-9662-84696db2ee0b","method":"Tool.close","params":{}}
[D 2024-05-22 14:09:56,046 minium.Conn3024 connection#653 __on_message] RECV < {"id":"c1a0d969-e7e4-4bb8-9662-84696db2ee0b","result":{}}
[I 2024-05-22 14:09:56,046 minium.Conn3024 connection#697 _handle_async_msg] received async msg: c1a0d969-e7e4-4bb8-9662-84696db2ee0b, maybe command ignore response
[E 2024-05-22 14:09:56,069 minium.Conn3024 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:09:56,069 minium.Conn3024 connection#697 _handle_async_msg] received async msg: e678afda-546c-4f2f-8e61-c902f58386eb
[I 2024-05-22 14:09:56,074 minium.Conn3024 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:09:57,624 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:09:57,625 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:09:57,625 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:09:57,626 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:09:57,626 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx95558cdb8cce89a4" --auto-port 9420
[I 2024-05-22 14:10:03,678 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:45955
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:10:03,681 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:10:08,687 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:10:08,735 minium.Conn7008 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:10:08,736 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"9e8a40ab-fcdd-4341-a75a-99ef7df8bf34","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:10:08,745 minium.Conn7008 connection#653 __on_message] RECV < {"id":"9e8a40ab-fcdd-4341-a75a-99ef7df8bf34","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:10:08,746 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"58e366e3-b388-464a-9ceb-cf684c35b961","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:10:21,310 minium.Conn7008 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:10:21,311 minium.Conn7008 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22623:21)\n    at Object.scriptLoaded (<anonymous>:22651:5)\n    at Object.<anonymous> (<anonymous>:22676:22)"}}
[D 2024-05-22 14:10:24,287 minium.Conn7008 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:10:24,300 minium.Conn7008 connection#651 __on_message] RECV < {"id":"58e366e3-b388-464a-9ceb-cf684c35b961","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":66,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:10:24,301 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:10:24,303 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"1f8af9b7-d2b0-4e13-9632-5234d2e4861c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:10:24,333 minium.Conn7008 connection#653 __on_message] RECV < {"id":"1f8af9b7-d2b0-4e13-9632-5234d2e4861c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:10:24,334 minium.Conn7008 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:10:24,335 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"21c738c2-7848-4607-b9ed-73b38c2e31b3","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:10:24,355 minium.Conn7008 connection#653 __on_message] RECV < {"id":"21c738c2-7848-4607-b9ed-73b38c2e31b3","result":{}}
[D 2024-05-22 14:10:24,356 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"940ce9c5-1792-4e4a-8a87-54fc6332730f","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:10:24,419 minium.Conn7008 connection#653 __on_message] RECV < {"id":"940ce9c5-1792-4e4a-8a87-54fc6332730f","result":{}}
[D 2024-05-22 14:10:24,421 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:10:24,422 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"e1851e4f-823f-4d7b-bc8d-e3936419f4e3","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:10:24,464 minium.Conn7008 connection#653 __on_message] RECV < {"id":"e1851e4f-823f-4d7b-bc8d-e3936419f4e3","result":{}}
[D 2024-05-22 14:10:24,465 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:10:24,466 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"67c338d5-a370-4d8d-ab76-483933e7d5d4","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:10:24,480 minium.Conn7008 connection#653 __on_message] RECV < {"id":"67c338d5-a370-4d8d-ab76-483933e7d5d4","result":{}}
[D 2024-05-22 14:10:24,481 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:10:24,482 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"c7e40a25-6b38-44ef-bf27-61688524f25b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:10:24,516 minium.Conn7008 connection#653 __on_message] RECV < {"id":"c7e40a25-6b38-44ef-bf27-61688524f25b","result":{"result":true}}
[D 2024-05-22 14:10:24,518 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"41658954-0813-44ae-8e38-5812809b40e5","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:10:24,541 minium.Conn7008 connection#651 __on_message] RECV < {"id":"41658954-0813-44ae-8e38-5812809b40e5","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 14:10:24,542 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"addd3474-f870-480c-a23f-93591133d37f","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:10:24,595 minium.Conn7008 connection#653 __on_message] RECV < {"id":"addd3474-f870-480c-a23f-93591133d37f","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:10:24,598 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"51f45370-e765-405f-955d-d5269a4e048d","method":"App.addBinding","params":{"name":"showModal_before_1716401424597"}}
[D 2024-05-22 14:10:24,616 minium.Conn7008 connection#653 __on_message] RECV < {"id":"51f45370-e765-405f-955d-d5269a4e048d","result":{}}
[D 2024-05-22 14:10:24,618 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"7187604c-1b22-4991-8715-cb9676193432","method":"App.addBinding","params":{"name":"showModal_callback_1716401424597"}}
[D 2024-05-22 14:10:24,632 minium.Conn7008 connection#653 __on_message] RECV < {"id":"7187604c-1b22-4991-8715-cb9676193432","result":{}}
[D 2024-05-22 14:10:24,634 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:10:24,636 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"76d87158-455f-42c1-ac35-978d489fa534","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716401424597,after:undefined,callback:showModal_callback_1716401424597},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716401424597,true]}}
[D 2024-05-22 14:10:24,731 minium.Conn7008 connection#653 __on_message] RECV < {"id":"76d87158-455f-42c1-ac35-978d489fa534","result":{}}
[D 2024-05-22 14:10:24,732 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"c1187348-d35b-46de-9c5d-abb98f6dcb06","method":"App.addBinding","params":{"name":"showToast_before_1716401424732"}}
[D 2024-05-22 14:10:24,759 minium.Conn7008 connection#653 __on_message] RECV < {"id":"c1187348-d35b-46de-9c5d-abb98f6dcb06","result":{}}
[D 2024-05-22 14:10:24,761 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"18d077d9-a658-4f90-923c-0423a02b6782","method":"App.addBinding","params":{"name":"showToast_callback_1716401424732"}}
[D 2024-05-22 14:10:24,778 minium.Conn7008 connection#653 __on_message] RECV < {"id":"18d077d9-a658-4f90-923c-0423a02b6782","result":{}}
[D 2024-05-22 14:10:24,779 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:10:24,780 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"f38d5681-26b1-4047-9139-b5836bc09e73","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716401424732,after:undefined,callback:showToast_callback_1716401424732},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716401424732,true]}}
[D 2024-05-22 14:10:24,795 minium.Conn7008 connection#653 __on_message] RECV < {"id":"f38d5681-26b1-4047-9139-b5836bc09e73","result":{}}
[D 2024-05-22 14:10:24,797 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"0a04b24e-bb7c-4408-9f21-246f309c0222","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:10:24,808 minium.Conn7008 connection#653 __on_message] RECV < {"id":"0a04b24e-bb7c-4408-9f21-246f309c0222","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:10:24,811 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:10:24,813 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"b3bb43ea-6869-426a-b16e-db4fbe9e000e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:10:24,840 minium.Conn7008 connection#653 __on_message] RECV < {"id":"b3bb43ea-6869-426a-b16e-db4fbe9e000e","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:10:24,842 minium.Conn7008 connection#417 _safely_send] ASYNC_SEND > {"id":"46808347-e16f-4c33-b9a5-0484a5dc0a7b","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:10:25,017 minium.Conn7008 connection#653 __on_message] RECV < {"id":"46808347-e16f-4c33-b9a5-0484a5dc0a7b","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:10:25,018 minium.Conn7008 connection#697 _handle_async_msg] received async msg: 46808347-e16f-4c33-b9a5-0484a5dc0a7b
[D 2024-05-22 14:10:27,172 minium.Conn7008 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716401427086},1716401427089]}}
[I 2024-05-22 14:10:27,174 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716401427086}, 1716401427089]}
[D 2024-05-22 14:10:27,176 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"d78fe9ad-7792-447b-97bd-7fa81201786c","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:10:27,181 minium.Conn7008 connection#653 __on_message] RECV < {"id":"d78fe9ad-7792-447b-97bd-7fa81201786c","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:10:27,182 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"324407eb-87f6-41bd-a3ec-9961e9d8ef00","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:10:27,222 minium.Conn7008 connection#653 __on_message] RECV < {"id":"324407eb-87f6-41bd-a3ec-9961e9d8ef00","result":{"result":false}}
[D 2024-05-22 14:10:27,224 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:10:27,225 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"366c89ee-a234-45df-b7b4-c3448cdfc925","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:10:27,260 minium.Conn7008 connection#653 __on_message] RECV < {"id":"366c89ee-a234-45df-b7b4-c3448cdfc925","result":{}}
[D 2024-05-22 14:10:27,261 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"a1f38a93-6b32-467c-bea5-a86bb4bd90af","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:10:28,170 minium.Conn7008 connection#653 __on_message] RECV < {"id":"a1f38a93-6b32-467c-bea5-a86bb4bd90af","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:10:28,172 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"e852699a-3453-4f5b-9c47-27109150ba5b","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:10:28,184 minium.Conn7008 connection#653 __on_message] RECV < {"id":"e852699a-3453-4f5b-9c47-27109150ba5b","result":{}}
[D 2024-05-22 14:10:28,186 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"c0b95846-fb91-4ee8-81a1-b1f59c3632cd","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:10:28,208 minium.Conn7008 connection#653 __on_message] RECV < {"id":"c0b95846-fb91-4ee8-81a1-b1f59c3632cd","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:10:28,220 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"6fa35caa-191d-4db3-9262-46c82419fe88","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:10:28,228 minium.Conn7008 connection#651 __on_message] RECV < {"id":"6fa35caa-191d-4db3-9262-46c82419fe88","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":66,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:10:28,229 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:10:28,234 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:10:28,234 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:10:28,235 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:10:28,235 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:10:28,235 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:10:28,235 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:10:28,235 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:10:28,235 minium.Conn7008 connection#417 _safely_send] ASYNC_SEND > {"id":"ec5b35d9-55ec-46bc-bce3-5a49a5711c1e","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:10:28,321 minium.Conn7008 connection#653 __on_message] RECV < {"id":"ec5b35d9-55ec-46bc-bce3-5a49a5711c1e","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:10:28,322 minium.Conn7008 connection#697 _handle_async_msg] received async msg: ec5b35d9-55ec-46bc-bce3-5a49a5711c1e
[I 2024-05-22 14:10:28,331 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:10:28,331 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:10:28,332 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"2cede3e4-0867-4f76-81cb-56c55c51a7d2","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:10:28,521 minium.Conn7008 connection#651 __on_message] RECV < {"id":"2cede3e4-0867-4f76-81cb-56c55c51a7d2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:10:28,522 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:10:28,523 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:10:28,524 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"6ed81c78-ad9d-400f-8006-33004564956a","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:10:28,535 minium.Conn7008 connection#653 __on_message] RECV < {"id":"6ed81c78-ad9d-400f-8006-33004564956a","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:10:28,536 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:10:38,538 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:10:38,539 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:10:38,539 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:10:38,540 minium.Conn7008 connection#417 _safely_send] SEND > {"id":"305a1e57-dc7a-4a02-af93-2cdaa98099fe","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:10:38,676 minium.Conn7008 connection#651 __on_message] RECV < {"id":"305a1e57-dc7a-4a02-af93-2cdaa98099fe","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:10:38,678 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:10:38,679 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:10:38,679 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:10:38,689 minium.Conn7008 connection#417 _safely_send] ASYNC_SEND > {"id":"6d6687c3-1558-4675-8fdf-0b188178ded6","method":"Tool.close","params":{}}
[D 2024-05-22 14:10:38,693 minium.Conn7008 connection#653 __on_message] RECV < {"id":"6d6687c3-1558-4675-8fdf-0b188178ded6","result":{}}
[I 2024-05-22 14:10:38,693 minium.Conn7008 connection#697 _handle_async_msg] received async msg: 6d6687c3-1558-4675-8fdf-0b188178ded6, maybe command ignore response
[E 2024-05-22 14:10:38,715 minium.Conn7008 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:10:38,716 minium.Conn7008 connection#697 _handle_async_msg] received async msg: d8aea9ce-62d7-47ea-b088-b9f3186c4b91
[I 2024-05-22 14:10:38,716 minium.Conn7008 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:10:40,186 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:10:40,187 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:10:40,188 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:10:40,189 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:10:40,189 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx77d8f054ad997ddb" --auto-port 9420
[I 2024-05-22 14:10:45,756 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:45955
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:10:45,756 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:10:50,758 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:10:51,150 minium.Conn5024 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:10:51,150 minium.Conn5024 connection#417 _safely_send] SEND > {"id":"2bcc46bf-b8d4-451c-ae85-825b881275e6","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:10:51,157 minium.Conn5024 connection#653 __on_message] RECV < {"id":"2bcc46bf-b8d4-451c-ae85-825b881275e6","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:10:51,158 minium.Conn5024 connection#417 _safely_send] SEND > {"id":"16d6b3df-36aa-413b-a028-9a4b4d042ba1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 14:11:51,160 minium wx_minium#699 connect_dev_tool] [16d6b3df-36aa-413b-a028-9a4b4d042ba1][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [16d6b3df-36aa-413b-a028-9a4b4d042ba1][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 14:11:51,162 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:11:51,191 minium.Conn1840 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 14:11:51,192 minium.Conn5024 connection#720 destroy] 断开连接
[I 2024-05-22 14:11:51,197 minium.Conn5024 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 14:11:51,198 minium.Conn1840 connection#417 _safely_send] SEND > {"id":"57ded3f5-761d-496e-bf14-d88f1e09761b","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:11:51,204 minium.Conn1840 connection#653 __on_message] RECV < {"id":"57ded3f5-761d-496e-bf14-d88f1e09761b","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:11:51,207 minium.Conn1840 connection#417 _safely_send] SEND > {"id":"869fe255-f14b-49ab-8e14-d6169d8fc02a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 14:12:51,208 minium wx_minium#699 connect_dev_tool] [869fe255-f14b-49ab-8e14-d6169d8fc02a][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [869fe255-f14b-49ab-8e14-d6169d8fc02a][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 14:12:51,209 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:12:51,321 minium.Conn2080 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 14:12:51,322 minium.Conn1840 connection#720 destroy] 断开连接
[D 2024-05-22 14:12:56,324 minium.Conn2080 connection#417 _safely_send] SEND > {"id":"b5bf1374-8261-439c-bc81-d3a343eb7f06","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:12:56,327 minium.Conn2080 connection#653 __on_message] RECV < {"id":"b5bf1374-8261-439c-bc81-d3a343eb7f06","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:12:56,329 minium.Conn2080 connection#417 _safely_send] SEND > {"id":"21728841-e3b2-4569-855a-8370314763af","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 14:13:01,292 minium.Conn1840 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:31:01,297 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:31:01,298 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:31:01,298 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:31:01,299 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:31:01,301 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7120d38abf55cb86" --auto-port 9420
[I 2024-05-22 14:31:12,674 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 45955, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:21578
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:31:12,675 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:31:17,678 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:31:18,267 minium.Conn7584 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:31:18,269 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"02293bf7-c91e-4b4c-ab22-f44567be730b","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:31:18,274 minium.Conn7584 connection#653 __on_message] RECV < {"id":"02293bf7-c91e-4b4c-ab22-f44567be730b","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:31:18,275 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"4dfdb21b-fb49-4ccf-8176-a61913fabb86","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:31:30,183 minium.Conn7584 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"This application has not registered any plugins yet.","stack":"Error: This application has not registered any plugins yet.\n    at http://127.0.0.1:62337/appservice/__dev__/WASubContext.js?t=wechat&s=1716402673510&v=3.4.3:1:516011\n    at I (http://127.0.0.1:62337/appservice/__dev__/WASubContext.js?t=wechat&s=1716402673510&v=3.4.3:1:516078)\n    at http://127.0.0.1:62337/appservice/app.js?t=wechat&s=1716402673510&v=cad55f8cfebb82ffdab2a897d5064ec6:1:88...
[D 2024-05-22 14:31:31,328 minium.Conn7584 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:31:31,341 minium.Conn7584 connection#651 __on_message] RECV < {"id":"4dfdb21b-fb49-4ccf-8176-a61913fabb86","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":55,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:31:31,343 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:31:31,344 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"bd58d7b9-52d3-489d-8b41-d8a28e6f09bd","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:31:31,352 minium.Conn7584 connection#653 __on_message] RECV < {"id":"bd58d7b9-52d3-489d-8b41-d8a28e6f09bd","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:31:31,354 minium.Conn7584 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:31:31,355 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"ba7044a5-2048-4b39-b115-755785e36ef0","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:31:31,362 minium.Conn7584 connection#653 __on_message] RECV < {"id":"ba7044a5-2048-4b39-b115-755785e36ef0","result":{}}
[D 2024-05-22 14:31:31,364 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"f28d654a-e684-42b7-a264-41273e3ce2b3","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:31:31,373 minium.Conn7584 connection#653 __on_message] RECV < {"id":"f28d654a-e684-42b7-a264-41273e3ce2b3","result":{}}
[D 2024-05-22 14:31:31,374 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:31:31,376 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"ba6a644a-0e38-4c9b-bc17-a60107e050f1","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:31:31,383 minium.Conn7584 connection#653 __on_message] RECV < {"id":"ba6a644a-0e38-4c9b-bc17-a60107e050f1","result":{}}
[D 2024-05-22 14:31:31,384 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:31:31,385 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"89aa7530-d1c3-40ed-8442-cbe0f5eb5949","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:31:31,393 minium.Conn7584 connection#653 __on_message] RECV < {"id":"89aa7530-d1c3-40ed-8442-cbe0f5eb5949","result":{}}
[D 2024-05-22 14:31:31,394 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:31:31,395 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"502c5a73-7c3a-4abd-86a7-929aa4c7cc7e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:31:31,404 minium.Conn7584 connection#653 __on_message] RECV < {"id":"502c5a73-7c3a-4abd-86a7-929aa4c7cc7e","result":{"result":true}}
[D 2024-05-22 14:31:31,406 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"7b99f5d2-6cc2-43b8-938c-0939c74fcc40","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:31:31,417 minium.Conn7584 connection#651 __on_message] RECV < {"id":"7b99f5d2-6cc2-43b8-938c-0939c74fcc40","result":{"result":{"pages":["pages/index/index","pages/category/category","pages/user/user","pages/cart/cart","pages/actlist/actlist","pages/act_special/special","pages/goods/goods","pages/activity/activity","pages/search/search","pages/search/searchresult","pages/user_address/useraddress","pages/order_list/orderlist","pages/order_detail/orderdetail","pages/voucher_list/voucherlist","pages/user_collect/usercollect","pages/user_ggle/userggle","pages/cart/flowc...
[D 2024-05-22 14:31:31,418 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"e8bfb24e-4953-4886-85f7-92814b9e88c1","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:31:31,428 minium.Conn7584 connection#653 __on_message] RECV < {"id":"e8bfb24e-4953-4886-85f7-92814b9e88c1","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:31:31,430 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"2409e8fd-2b9a-43db-8f31-534d16fcd7fa","method":"App.addBinding","params":{"name":"showModal_before_1716402691429"}}
[D 2024-05-22 14:31:31,435 minium.Conn7584 connection#653 __on_message] RECV < {"id":"2409e8fd-2b9a-43db-8f31-534d16fcd7fa","result":{}}
[D 2024-05-22 14:31:31,437 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"dec91022-27e8-4c46-8481-decf2f52b5bf","method":"App.addBinding","params":{"name":"showModal_callback_1716402691429"}}
[D 2024-05-22 14:31:31,442 minium.Conn7584 connection#653 __on_message] RECV < {"id":"dec91022-27e8-4c46-8481-decf2f52b5bf","result":{}}
[D 2024-05-22 14:31:31,444 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:31:31,446 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"81810dff-8c71-42da-b214-2437577ee3b9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716402691429,after:undefined,callback:showModal_callback_1716402691429},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716402691429,true]}}
[D 2024-05-22 14:31:31,457 minium.Conn7584 connection#653 __on_message] RECV < {"id":"81810dff-8c71-42da-b214-2437577ee3b9","result":{}}
[D 2024-05-22 14:31:31,458 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"2068972d-bba7-47dc-b03d-01937fe95e85","method":"App.addBinding","params":{"name":"showToast_before_1716402691458"}}
[D 2024-05-22 14:31:31,464 minium.Conn7584 connection#653 __on_message] RECV < {"id":"2068972d-bba7-47dc-b03d-01937fe95e85","result":{}}
[D 2024-05-22 14:31:31,465 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"206b5fb4-afb9-4ba8-9566-8d5c4a839418","method":"App.addBinding","params":{"name":"showToast_callback_1716402691458"}}
[D 2024-05-22 14:31:31,473 minium.Conn7584 connection#653 __on_message] RECV < {"id":"206b5fb4-afb9-4ba8-9566-8d5c4a839418","result":{}}
[D 2024-05-22 14:31:31,474 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:31:31,475 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"18c8e016-625d-4b05-ad8e-99a580e49f94","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716402691458,after:undefined,callback:showToast_callback_1716402691458},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716402691458,true]}}
[D 2024-05-22 14:31:31,483 minium.Conn7584 connection#653 __on_message] RECV < {"id":"18c8e016-625d-4b05-ad8e-99a580e49f94","result":{}}
[D 2024-05-22 14:31:31,486 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"9f7d1814-fedf-4340-8d04-039059efbf18","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:31:31,495 minium.Conn7584 connection#653 __on_message] RECV < {"id":"9f7d1814-fedf-4340-8d04-039059efbf18","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:31:31,499 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:31:31,502 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"d71abfce-e4fd-4e47-9e5b-45ddffe0d2da","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:31:31,510 minium.Conn7584 connection#653 __on_message] RECV < {"id":"d71abfce-e4fd-4e47-9e5b-45ddffe0d2da","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:31:31,511 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"76967520-88cc-4f58-aa65-58a5a9188fb9","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:31:31,609 minium.Conn7584 connection#653 __on_message] RECV < {"id":"76967520-88cc-4f58-aa65-58a5a9188fb9","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:31:31,610 minium.Conn7584 connection#697 _handle_async_msg] received async msg: 76967520-88cc-4f58-aa65-58a5a9188fb9
[D 2024-05-22 14:31:32,641 minium.Conn7584 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716402692581},1716402692584]}}
[I 2024-05-22 14:31:32,642 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716402692581}, 1716402692584]}
[D 2024-05-22 14:31:32,646 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"fb9d38b1-9863-44d5-9af3-bf6e91371660","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:31:32,653 minium.Conn7584 connection#653 __on_message] RECV < {"id":"fb9d38b1-9863-44d5-9af3-bf6e91371660","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:31:32,656 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"eb6da4f4-28c8-489a-81b9-d7687bd0be7c","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:31:32,679 minium.Conn7584 connection#653 __on_message] RECV < {"id":"eb6da4f4-28c8-489a-81b9-d7687bd0be7c","result":{"result":false}}
[D 2024-05-22 14:31:32,682 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:31:32,683 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"3692c4f2-220e-402f-8c82-06764fbde881","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:31:32,696 minium.Conn7584 connection#653 __on_message] RECV < {"id":"3692c4f2-220e-402f-8c82-06764fbde881","result":{}}
[D 2024-05-22 14:31:32,697 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"eab50e0e-8fa7-411d-a2b4-613557839cf6","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:31:33,428 minium.Conn7584 connection#653 __on_message] RECV < {"id":"eab50e0e-8fa7-411d-a2b4-613557839cf6","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:31:33,431 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"2b668619-3a9a-429c-bc34-06deb9bf0e05","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:31:33,491 minium.Conn7584 connection#653 __on_message] RECV < {"id":"2b668619-3a9a-429c-bc34-06deb9bf0e05","result":{}}
[D 2024-05-22 14:31:33,494 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"e4fdf61d-ff20-4bad-a649-532afd0c5a2b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:31:33,519 minium.Conn7584 connection#653 __on_message] RECV < {"id":"e4fdf61d-ff20-4bad-a649-532afd0c5a2b","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:31:33,521 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"60978381-25f2-4538-947c-57e1c6a0974c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:31:33,553 minium.Conn7584 connection#651 __on_message] RECV < {"id":"60978381-25f2-4538-947c-57e1c6a0974c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":55,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:31:33,555 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:31:33,559 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:31:33,560 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:31:33,563 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:31:33,564 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:31:33,564 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:31:33,565 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:31:33,565 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:31:33,566 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"b920c414-71c2-4ebe-bc9a-d45c58629bfb","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:31:33,631 minium.Conn7584 connection#653 __on_message] RECV < {"id":"b920c414-71c2-4ebe-bc9a-d45c58629bfb","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:31:33,632 minium.Conn7584 connection#697 _handle_async_msg] received async msg: b920c414-71c2-4ebe-bc9a-d45c58629bfb
[I 2024-05-22 14:31:33,634 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:31:33,635 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:31:33,636 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"09b62495-7f99-4c64-983d-fb50327167b2","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:31:33,822 minium.Conn7584 connection#651 __on_message] RECV < {"id":"09b62495-7f99-4c64-983d-fb50327167b2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoJJREFUeJzt07ENwCAAwLDS/8+FgY0fWFAk+4IsGWvuD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:31:33,824 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:31:33,825 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:31:33,826 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"4e9e954b-de1d-452b-bf3a-4eb2aaf38b81","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:31:33,830 minium.Conn7584 connection#653 __on_message] RECV < {"id":"4e9e954b-de1d-452b-bf3a-4eb2aaf38b81","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:31:33,832 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:31:43,836 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:31:43,837 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:31:43,838 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:31:43,839 minium.Conn7584 connection#417 _safely_send] SEND > {"id":"38fd301c-6ba7-4288-92d2-8bca4488b2ed","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:31:43,954 minium.Conn7584 connection#651 __on_message] RECV < {"id":"38fd301c-6ba7-4288-92d2-8bca4488b2ed","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoJJREFUeJzt07ENwCAAwLDS/8+FgY0fWFAk+4IsGWvuD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:31:43,956 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:31:43,957 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:31:43,957 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:31:43,968 minium.Conn7584 connection#417 _safely_send] ASYNC_SEND > {"id":"e72bef32-6337-46de-930c-1bfc33c202f6","method":"Tool.close","params":{}}
[D 2024-05-22 14:31:43,973 minium.Conn7584 connection#653 __on_message] RECV < {"id":"e72bef32-6337-46de-930c-1bfc33c202f6","result":{}}
[I 2024-05-22 14:31:43,973 minium.Conn7584 connection#697 _handle_async_msg] received async msg: e72bef32-6337-46de-930c-1bfc33c202f6, maybe command ignore response
[E 2024-05-22 14:31:43,996 minium.Conn7584 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:31:43,997 minium.Conn7584 connection#697 _handle_async_msg] received async msg: 96b20e47-3cef-46dd-b35a-5406055440dd
[I 2024-05-22 14:31:43,997 minium.Conn7584 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:31:45,501 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:31:45,502 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:31:45,502 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:31:45,503 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:31:45,504 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4df15ce98eee5097" --auto-port 9420
[I 2024-05-22 14:31:50,768 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:21578
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:31:50,768 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:31:55,774 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:31:55,825 minium.Conn6800 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:31:55,826 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"b41f240d-5c71-4688-81ca-ac0a5a537c17","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:31:55,832 minium.Conn6800 connection#653 __on_message] RECV < {"id":"b41f240d-5c71-4688-81ca-ac0a5a537c17","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:31:55,833 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"4ff8cae2-40f1-4422-8ba5-b1a90f5d6d70","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:32:10,627 minium.Conn6800 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:32:10,628 minium.Conn6800 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:12359:21)\n    at Object.scriptLoaded (<anonymous>:12387:5)\n    at Object.<anonymous> (<anonymous>:12412:22)"}}
[D 2024-05-22 14:32:12,507 minium.Conn6800 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:32:12,517 minium.Conn6800 connection#651 __on_message] RECV < {"id":"4ff8cae2-40f1-4422-8ba5-b1a90f5d6d70","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":55,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:32:12,518 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:32:12,519 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"51bb49cd-2952-44e0-8ef2-c9edde335e07","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:32:12,558 minium.Conn6800 connection#653 __on_message] RECV < {"id":"51bb49cd-2952-44e0-8ef2-c9edde335e07","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:32:12,559 minium.Conn6800 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:32:12,559 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"3397bbff-0292-4821-8a9f-0d786aa07650","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:32:12,564 minium.Conn6800 connection#653 __on_message] RECV < {"id":"3397bbff-0292-4821-8a9f-0d786aa07650","result":{}}
[D 2024-05-22 14:32:12,566 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"8391d618-ca3c-4081-b29e-0b49075e0b8c","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:32:12,575 minium.Conn6800 connection#653 __on_message] RECV < {"id":"8391d618-ca3c-4081-b29e-0b49075e0b8c","result":{}}
[D 2024-05-22 14:32:12,576 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:32:12,576 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"1d5fd9a2-c200-43f8-9621-0d85f499c9cf","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:32:12,590 minium.Conn6800 connection#653 __on_message] RECV < {"id":"1d5fd9a2-c200-43f8-9621-0d85f499c9cf","result":{}}
[D 2024-05-22 14:32:12,591 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:32:12,592 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"db4216e1-7433-4820-a35d-a613e9fa8c29","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:32:12,603 minium.Conn6800 connection#653 __on_message] RECV < {"id":"db4216e1-7433-4820-a35d-a613e9fa8c29","result":{}}
[D 2024-05-22 14:32:12,604 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:32:12,605 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"2b1767af-8a1e-4dfe-8664-2d966159024d","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:32:12,614 minium.Conn6800 connection#653 __on_message] RECV < {"id":"2b1767af-8a1e-4dfe-8664-2d966159024d","result":{"result":true}}
[D 2024-05-22 14:32:12,615 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"4960d631-779f-48e3-9ed0-dcba9c8d27cf","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:32:12,625 minium.Conn6800 connection#651 __on_message] RECV < {"id":"4960d631-779f-48e3-9ed0-dcba9c8d27cf","result":{"result":{"pages":["pages/shop/index/index","pages/member/member","pages/member/register/register","pages/cart/cart","pages/classify/classify","pages/integral/integral_convert/integral_convert","pages/integral/integral_record/integral_record","pages/member/barCode/barCode","pages/member/member_infor/member_infor","pages/shop/activityIndex/activityIndex","pages/group/group_detail/group_detail","pages/card/card_setIndex/card_setIndex","pages/card/card_...
[D 2024-05-22 14:32:12,627 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"e931b3d4-ed32-417a-8c87-68da88ae62b7","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:32:12,634 minium.Conn6800 connection#653 __on_message] RECV < {"id":"e931b3d4-ed32-417a-8c87-68da88ae62b7","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:32:12,635 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"ad2aa26d-da38-4eaa-ad26-be08e3b765c6","method":"App.addBinding","params":{"name":"showModal_before_1716402732635"}}
[D 2024-05-22 14:32:12,642 minium.Conn6800 connection#653 __on_message] RECV < {"id":"ad2aa26d-da38-4eaa-ad26-be08e3b765c6","result":{}}
[D 2024-05-22 14:32:12,644 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"466b5d5c-6af1-47fd-9aa2-60e9147f5ca9","method":"App.addBinding","params":{"name":"showModal_callback_1716402732635"}}
[D 2024-05-22 14:32:12,651 minium.Conn6800 connection#653 __on_message] RECV < {"id":"466b5d5c-6af1-47fd-9aa2-60e9147f5ca9","result":{}}
[D 2024-05-22 14:32:12,652 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:32:12,653 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"1f88f3de-0d5a-4b03-8e3f-8f6ce76da463","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716402732635,after:undefined,callback:showModal_callback_1716402732635},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716402732635,true]}}
[D 2024-05-22 14:32:12,662 minium.Conn6800 connection#653 __on_message] RECV < {"id":"1f88f3de-0d5a-4b03-8e3f-8f6ce76da463","result":{}}
[D 2024-05-22 14:32:12,663 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"bb25bf23-9cfd-4517-84d6-c7d21681d1de","method":"App.addBinding","params":{"name":"showToast_before_1716402732663"}}
[D 2024-05-22 14:32:12,671 minium.Conn6800 connection#653 __on_message] RECV < {"id":"bb25bf23-9cfd-4517-84d6-c7d21681d1de","result":{}}
[D 2024-05-22 14:32:12,672 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"b4ee1def-d402-4ed9-a782-f0faedc8e5fc","method":"App.addBinding","params":{"name":"showToast_callback_1716402732663"}}
[D 2024-05-22 14:32:12,679 minium.Conn6800 connection#653 __on_message] RECV < {"id":"b4ee1def-d402-4ed9-a782-f0faedc8e5fc","result":{}}
[D 2024-05-22 14:32:12,680 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:32:12,681 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"b3d813fa-39aa-4836-905a-c2614dda92cc","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716402732663,after:undefined,callback:showToast_callback_1716402732663},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716402732663,true]}}
[D 2024-05-22 14:32:12,690 minium.Conn6800 connection#653 __on_message] RECV < {"id":"b3d813fa-39aa-4836-905a-c2614dda92cc","result":{}}
[D 2024-05-22 14:32:12,691 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"752d628c-89ed-40db-a05b-e694688e084b","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:32:12,698 minium.Conn6800 connection#653 __on_message] RECV < {"id":"752d628c-89ed-40db-a05b-e694688e084b","result":{"result":{"path":"pages/shop/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:32:12,700 minium app#731 relaunch] ReLaunch: /pages/shop/index/index
[D 2024-05-22 14:32:12,701 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"02532b31-2a89-4b4c-9f78-08f6f4e056c6","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:32:12,708 minium.Conn6800 connection#653 __on_message] RECV < {"id":"02532b31-2a89-4b4c-9f78-08f6f4e056c6","result":{"pageId":1,"path":"pages/shop/index/index","query":{}}}
[D 2024-05-22 14:32:12,710 minium.Conn6800 connection#417 _safely_send] ASYNC_SEND > {"id":"c23efc95-fa62-4fe5-95b7-ccd4889b724c","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/shop/index/index"}]}}
[D 2024-05-22 14:32:12,869 minium.Conn6800 connection#653 __on_message] RECV < {"id":"c23efc95-fa62-4fe5-95b7-ccd4889b724c","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:32:12,870 minium.Conn6800 connection#697 _handle_async_msg] received async msg: c23efc95-fa62-4fe5-95b7-ccd4889b724c
[D 2024-05-22 14:32:13,861 minium.Conn6800 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/shop/index/index","query":{},"openType":"reLaunch","__ts__":1716402733793},1716402733795]}}
[I 2024-05-22 14:32:13,863 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/shop/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716402733793}, 1716402733795]}
[D 2024-05-22 14:32:13,865 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"a52589d2-e541-4852-98f5-e853370afa91","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:32:13,872 minium.Conn6800 connection#653 __on_message] RECV < {"id":"a52589d2-e541-4852-98f5-e853370afa91","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:32:13,874 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"c0bd0400-7210-481d-a27d-dcf26b7608db","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:32:13,885 minium.Conn6800 connection#653 __on_message] RECV < {"id":"c0bd0400-7210-481d-a27d-dcf26b7608db","result":{"result":false}}
[D 2024-05-22 14:32:13,887 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:32:13,887 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"81dde9c9-ac7f-42e7-9141-6711e7882879","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:32:13,902 minium.Conn6800 connection#653 __on_message] RECV < {"id":"81dde9c9-ac7f-42e7-9141-6711e7882879","result":{}}
[D 2024-05-22 14:32:13,903 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"c7a9401b-887d-4540-ad66-798355ea3db2","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:32:14,633 minium.Conn6800 connection#653 __on_message] RECV < {"id":"c7a9401b-887d-4540-ad66-798355ea3db2","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:32:14,635 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"36ca284f-402f-4cf8-b4b1-c0e654bf6a36","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:32:14,642 minium.Conn6800 connection#653 __on_message] RECV < {"id":"36ca284f-402f-4cf8-b4b1-c0e654bf6a36","result":{}}
[D 2024-05-22 14:32:14,643 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"8626accf-10fb-45ac-a7e9-2a59e97448cd","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:32:14,664 minium.Conn6800 connection#653 __on_message] RECV < {"id":"8626accf-10fb-45ac-a7e9-2a59e97448cd","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:32:14,665 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"38a37c83-42cf-4ae4-8f70-3cec04a16efa","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:32:14,704 minium.Conn6800 connection#651 __on_message] RECV < {"id":"38a37c83-42cf-4ae4-8f70-3cec04a16efa","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":55,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:32:14,705 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:32:14,710 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:32:14,711 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:32:14,711 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:32:14,712 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:32:14,712 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:32:14,712 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:32:14,712 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:32:14,713 minium.Conn6800 connection#417 _safely_send] ASYNC_SEND > {"id":"f587ef60-8efb-4036-a2d5-e54a1b590b13","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/shop/index/index"}]}}
[D 2024-05-22 14:32:14,794 minium.Conn6800 connection#653 __on_message] RECV < {"id":"f587ef60-8efb-4036-a2d5-e54a1b590b13","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:32:14,795 minium.Conn6800 connection#697 _handle_async_msg] received async msg: f587ef60-8efb-4036-a2d5-e54a1b590b13
[I 2024-05-22 14:32:14,798 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:32:14,798 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:32:14,799 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"ec639746-f992-4651-ab2f-34e8c93984f9","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:32:14,887 minium.Conn6800 connection#651 __on_message] RECV < {"id":"ec639746-f992-4651-ab2f-34e8c93984f9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:32:14,889 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:32:14,890 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:32:14,890 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"2440d30b-4a89-4753-ac54-d37efbe1d63f","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:32:14,898 minium.Conn6800 connection#653 __on_message] RECV < {"id":"2440d30b-4a89-4753-ac54-d37efbe1d63f","result":{"pageId":2,"path":"pages/shop/index/index","query":{}}}
[I 2024-05-22 14:32:14,899 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/shop/index/index, query={})
[D 2024-05-22 14:32:24,905 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:32:24,906 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:32:24,907 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:32:24,908 minium.Conn6800 connection#417 _safely_send] SEND > {"id":"742322d0-0175-4720-88df-eda10449bc41","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:32:25,027 minium.Conn6800 connection#651 __on_message] RECV < {"id":"742322d0-0175-4720-88df-eda10449bc41","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:32:25,029 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:32:25,030 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:32:25,030 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:32:25,052 minium.Conn6800 connection#417 _safely_send] ASYNC_SEND > {"id":"3e57f4ba-2a6a-4bec-984f-49c75b1a2cd4","method":"Tool.close","params":{}}
[D 2024-05-22 14:32:25,056 minium.Conn6800 connection#653 __on_message] RECV < {"id":"3e57f4ba-2a6a-4bec-984f-49c75b1a2cd4","result":{}}
[I 2024-05-22 14:32:25,057 minium.Conn6800 connection#697 _handle_async_msg] received async msg: 3e57f4ba-2a6a-4bec-984f-49c75b1a2cd4, maybe command ignore response
[E 2024-05-22 14:32:25,078 minium.Conn6800 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:32:25,079 minium.Conn6800 connection#697 _handle_async_msg] received async msg: 46b3b0f8-ee89-44f5-9d67-863b3d542971
[I 2024-05-22 14:32:25,080 minium.Conn6800 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:32:26,614 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:32:26,616 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:32:26,616 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:32:26,618 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:32:26,619 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx94dce66285a76941" --auto-port 9420
[I 2024-05-22 14:32:32,029 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:21578
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:32:32,030 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:32:37,035 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:32:37,224 minium.Conn2880 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:32:37,225 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"bff926b1-c374-4dd7-bd3f-11911ba9a760","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:32:37,361 minium.Conn2880 connection#653 __on_message] RECV < {"id":"bff926b1-c374-4dd7-bd3f-11911ba9a760","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:32:37,362 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"4c965dd9-aed5-41ac-ad1d-3d6738c5e600","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:32:53,557 minium.Conn2880 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:32:53,558 minium.Conn2880 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:10176:21)\n    at Object.scriptLoaded (<anonymous>:10204:5)\n    at Object.<anonymous> (<anonymous>:10229:22)"}}
[D 2024-05-22 14:32:54,623 minium.Conn2880 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:32:54,630 minium.Conn2880 connection#651 __on_message] RECV < {"id":"4c965dd9-aed5-41ac-ad1d-3d6738c5e600","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":54,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:32:54,631 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:32:54,633 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"3ddbe152-f054-4b5e-88e0-430363d6be53","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:32:54,642 minium.Conn2880 connection#653 __on_message] RECV < {"id":"3ddbe152-f054-4b5e-88e0-430363d6be53","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:32:54,643 minium.Conn2880 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:32:54,644 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"97c9a444-3d54-425b-a59e-373a6620629f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:32:54,650 minium.Conn2880 connection#653 __on_message] RECV < {"id":"97c9a444-3d54-425b-a59e-373a6620629f","result":{}}
[D 2024-05-22 14:32:54,652 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"b3aa751e-b606-4193-a379-3b192a9d412b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:32:54,672 minium.Conn2880 connection#653 __on_message] RECV < {"id":"b3aa751e-b606-4193-a379-3b192a9d412b","result":{}}
[D 2024-05-22 14:32:54,674 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:32:54,675 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"cad35411-4838-4d05-8c21-c3da49700fc0","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:32:54,696 minium.Conn2880 connection#653 __on_message] RECV < {"id":"cad35411-4838-4d05-8c21-c3da49700fc0","result":{}}
[D 2024-05-22 14:32:54,699 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:32:54,700 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"2ea0dc90-7560-4a63-b81d-4e55c2e7e3a4","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:32:54,719 minium.Conn2880 connection#653 __on_message] RECV < {"id":"2ea0dc90-7560-4a63-b81d-4e55c2e7e3a4","result":{}}
[D 2024-05-22 14:32:54,720 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:32:54,722 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"ffe6eee3-5317-4bec-bbf2-70c5d495a1db","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:32:54,735 minium.Conn2880 connection#653 __on_message] RECV < {"id":"ffe6eee3-5317-4bec-bbf2-70c5d495a1db","result":{"result":true}}
[D 2024-05-22 14:32:54,737 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"e98ea5c7-aa23-46e3-b793-777956c058b4","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:32:54,748 minium.Conn2880 connection#651 __on_message] RECV < {"id":"e98ea5c7-aa23-46e3-b793-777956c058b4","result":{"result":{"pages":["pages/home/dashboard/index","pages/template/getcouponlist/index","pages/template/shenfen/index","pages/usercenter/dashboard/index","pages/usercenter/issue/index","pages/usercenter/join/index","pages/usercenter/yuyue/index","pages/usercenter/rank/index","pages/usercenter/rank/ranking","pages/usercenter/recharge/index","pages/issue/issue","pages/detail/index","pages/about/about","pages/register/register","pages/usercenter/payorder/i...
[D 2024-05-22 14:32:54,750 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"f5fb629a-774b-4adf-93ff-25aa76929742","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:32:54,766 minium.Conn2880 connection#653 __on_message] RECV < {"id":"f5fb629a-774b-4adf-93ff-25aa76929742","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:32:54,768 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"a01991fd-40a3-49c6-8464-3d37be3ed864","method":"App.addBinding","params":{"name":"showModal_before_1716402774767"}}
[D 2024-05-22 14:32:54,774 minium.Conn2880 connection#653 __on_message] RECV < {"id":"a01991fd-40a3-49c6-8464-3d37be3ed864","result":{}}
[D 2024-05-22 14:32:54,776 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"dd1de330-b3a0-432d-9666-7160c0e5d9e0","method":"App.addBinding","params":{"name":"showModal_callback_1716402774767"}}
[D 2024-05-22 14:32:54,784 minium.Conn2880 connection#653 __on_message] RECV < {"id":"dd1de330-b3a0-432d-9666-7160c0e5d9e0","result":{}}
[D 2024-05-22 14:32:54,785 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:32:54,786 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"2c86b40b-c52e-415c-b1e7-5d699ab4df55","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716402774767,after:undefined,callback:showModal_callback_1716402774767},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716402774767,true]}}
[D 2024-05-22 14:32:54,796 minium.Conn2880 connection#653 __on_message] RECV < {"id":"2c86b40b-c52e-415c-b1e7-5d699ab4df55","result":{}}
[D 2024-05-22 14:32:54,797 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"48d2504f-8a28-48dc-93b2-80efed45d0c6","method":"App.addBinding","params":{"name":"showToast_before_1716402774797"}}
[D 2024-05-22 14:32:54,809 minium.Conn2880 connection#653 __on_message] RECV < {"id":"48d2504f-8a28-48dc-93b2-80efed45d0c6","result":{}}
[D 2024-05-22 14:32:54,810 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"3a3f2195-ca3c-42d3-b8cc-ce2e16802a8f","method":"App.addBinding","params":{"name":"showToast_callback_1716402774797"}}
[D 2024-05-22 14:32:54,817 minium.Conn2880 connection#653 __on_message] RECV < {"id":"3a3f2195-ca3c-42d3-b8cc-ce2e16802a8f","result":{}}
[D 2024-05-22 14:32:54,818 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:32:54,820 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"b22bbbef-468b-491c-8c76-8c976cc0895b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716402774797,after:undefined,callback:showToast_callback_1716402774797},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716402774797,true]}}
[D 2024-05-22 14:32:54,830 minium.Conn2880 connection#653 __on_message] RECV < {"id":"b22bbbef-468b-491c-8c76-8c976cc0895b","result":{}}
[D 2024-05-22 14:32:54,833 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"d2be50a8-a284-41f4-b0c2-5d653ab6bea7","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:32:54,842 minium.Conn2880 connection#653 __on_message] RECV < {"id":"d2be50a8-a284-41f4-b0c2-5d653ab6bea7","result":{"result":{"path":"pages/home/dashboard/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:32:54,844 minium app#731 relaunch] ReLaunch: /pages/home/dashboard/index
[D 2024-05-22 14:32:54,846 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"134fa2c0-b58b-4eef-93f0-36776138be1e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:32:54,858 minium.Conn2880 connection#653 __on_message] RECV < {"id":"134fa2c0-b58b-4eef-93f0-36776138be1e","result":{"pageId":1,"path":"pages/home/dashboard/index","query":{}}}
[D 2024-05-22 14:32:54,859 minium.Conn2880 connection#417 _safely_send] ASYNC_SEND > {"id":"3e510015-9ed6-44ea-a6dc-8fd97f422b16","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 14:32:54,937 minium.Conn2880 connection#653 __on_message] RECV < {"id":"3e510015-9ed6-44ea-a6dc-8fd97f422b16","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:32:54,938 minium.Conn2880 connection#697 _handle_async_msg] received async msg: 3e510015-9ed6-44ea-a6dc-8fd97f422b16
[D 2024-05-22 14:32:56,610 minium.Conn2880 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/dashboard/index","query":{},"openType":"reLaunch","__ts__":1716402776538},1716402776541]}}
[I 2024-05-22 14:32:56,612 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/dashboard/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716402776538}, 1716402776541]}
[D 2024-05-22 14:32:56,614 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"a4e2aa3c-b5a7-423c-b055-b0c3226c4206","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:32:56,623 minium.Conn2880 connection#653 __on_message] RECV < {"id":"a4e2aa3c-b5a7-423c-b055-b0c3226c4206","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:32:56,624 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"4c5fb989-8359-4771-9f14-d44d10019bc0","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:32:56,648 minium.Conn2880 connection#653 __on_message] RECV < {"id":"4c5fb989-8359-4771-9f14-d44d10019bc0","result":{"result":false}}
[D 2024-05-22 14:32:56,650 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:32:56,650 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"9114842f-9779-4c29-8ab3-e7c69ff43c3c","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:32:56,675 minium.Conn2880 connection#653 __on_message] RECV < {"id":"9114842f-9779-4c29-8ab3-e7c69ff43c3c","result":{}}
[D 2024-05-22 14:32:56,677 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"1e091896-38c1-429f-942e-2d71c2c4d95b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:32:57,422 minium.Conn2880 connection#653 __on_message] RECV < {"id":"1e091896-38c1-429f-942e-2d71c2c4d95b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:32:57,423 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"05d80558-315c-4872-9579-49e6974bbf21","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:32:57,432 minium.Conn2880 connection#653 __on_message] RECV < {"id":"05d80558-315c-4872-9579-49e6974bbf21","result":{}}
[D 2024-05-22 14:32:57,434 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"4f750f39-980e-42c2-a58c-9d5e10e033ee","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:32:57,440 minium.Conn2880 connection#653 __on_message] RECV < {"id":"4f750f39-980e-42c2-a58c-9d5e10e033ee","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:32:57,442 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"04e51b97-e568-49b4-b294-cc716196b8f2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:32:57,449 minium.Conn2880 connection#651 __on_message] RECV < {"id":"04e51b97-e568-49b4-b294-cc716196b8f2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":54,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:32:57,450 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:32:57,454 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:32:57,455 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:32:57,455 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:32:57,455 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:32:57,455 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:32:57,455 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:32:57,455 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:32:57,456 minium.Conn2880 connection#417 _safely_send] ASYNC_SEND > {"id":"6cbfa7b8-bef0-45a0-8b81-361400da581a","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 14:32:57,544 minium.Conn2880 connection#653 __on_message] RECV < {"id":"6cbfa7b8-bef0-45a0-8b81-361400da581a","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:32:57,545 minium.Conn2880 connection#697 _handle_async_msg] received async msg: 6cbfa7b8-bef0-45a0-8b81-361400da581a
[I 2024-05-22 14:32:57,548 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:32:57,548 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:32:57,549 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"108df60c-9df2-4958-89a8-5797dfd95a44","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:32:57,674 minium.Conn2880 connection#651 __on_message] RECV < {"id":"108df60c-9df2-4958-89a8-5797dfd95a44","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:32:57,675 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:32:57,676 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:32:57,677 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"3accf082-b597-4fb1-ac2d-6b39b60c10ba","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:32:57,682 minium.Conn2880 connection#653 __on_message] RECV < {"id":"3accf082-b597-4fb1-ac2d-6b39b60c10ba","result":{"pageId":2,"path":"pages/home/dashboard/index","query":{}}}
[I 2024-05-22 14:32:57,684 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/home/dashboard/index, query={})
[D 2024-05-22 14:33:07,686 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:33:07,686 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:33:07,687 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:33:07,687 minium.Conn2880 connection#417 _safely_send] SEND > {"id":"e9e4dfe4-3b5b-4e64-b2fb-61076af4dd6e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:33:07,801 minium.Conn2880 connection#651 __on_message] RECV < {"id":"e9e4dfe4-3b5b-4e64-b2fb-61076af4dd6e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:33:07,803 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:33:07,804 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:33:07,804 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:33:07,812 minium.Conn2880 connection#417 _safely_send] ASYNC_SEND > {"id":"41137a35-b8f7-41d9-8eeb-e540d934e49c","method":"Tool.close","params":{}}
[D 2024-05-22 14:33:07,815 minium.Conn2880 connection#653 __on_message] RECV < {"id":"41137a35-b8f7-41d9-8eeb-e540d934e49c","result":{}}
[I 2024-05-22 14:33:07,816 minium.Conn2880 connection#697 _handle_async_msg] received async msg: 41137a35-b8f7-41d9-8eeb-e540d934e49c, maybe command ignore response
[E 2024-05-22 14:33:07,838 minium.Conn2880 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:33:07,838 minium.Conn2880 connection#697 _handle_async_msg] received async msg: d9884e39-bbcc-49a7-a57d-c3ff41cb2f49
[I 2024-05-22 14:33:07,839 minium.Conn2880 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:33:09,300 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:33:09,301 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:33:09,301 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:33:09,302 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:33:09,303 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxaf291362a455b5e1" --auto-port 9420
[I 2024-05-22 14:48:57,131 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:48:57,132 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:48:57,132 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:48:57,133 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:48:57,135 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxaf291362a455b5e1" --auto-port 9420
[I 2024-05-22 14:49:09,177 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 47638, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:49:09,178 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:49:14,183 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:49:15,292 minium.Conn3072 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:49:15,293 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"ddd0c353-4493-41e1-a484-93c4225420bf","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:49:15,304 minium.Conn3072 connection#653 __on_message] RECV < {"id":"ddd0c353-4493-41e1-a484-93c4225420bf","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:49:15,305 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"ac37f4bb-e8b5-43ce-a7e4-dfa5d0584afd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:49:31,339 minium.Conn3072 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:49:31,347 minium.Conn3072 connection#651 __on_message] RECV < {"id":"ac37f4bb-e8b5-43ce-a7e4-dfa5d0584afd","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":45,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:49:31,349 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:49:31,350 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"b1423ba1-1be5-4dce-ae88-6bc91c368199","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:49:31,358 minium.Conn3072 connection#653 __on_message] RECV < {"id":"b1423ba1-1be5-4dce-ae88-6bc91c368199","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:49:31,359 minium.Conn3072 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:49:31,360 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"c2d4bf25-9f27-4e3b-862f-fb86ac9b620d","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:49:31,380 minium.Conn3072 connection#653 __on_message] RECV < {"id":"c2d4bf25-9f27-4e3b-862f-fb86ac9b620d","result":{}}
[D 2024-05-22 14:49:31,381 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"4240e8f1-d523-41d9-b5b2-df1399b70787","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:49:31,391 minium.Conn3072 connection#653 __on_message] RECV < {"id":"4240e8f1-d523-41d9-b5b2-df1399b70787","result":{}}
[D 2024-05-22 14:49:31,393 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:49:31,394 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"746f811f-c5f4-4641-bd0e-ace642533c5e","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:49:31,404 minium.Conn3072 connection#653 __on_message] RECV < {"id":"746f811f-c5f4-4641-bd0e-ace642533c5e","result":{}}
[D 2024-05-22 14:49:31,406 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:49:31,406 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"b4cb12c5-4f85-470e-9fde-cac1f7d7d1c0","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:49:31,428 minium.Conn3072 connection#653 __on_message] RECV < {"id":"b4cb12c5-4f85-470e-9fde-cac1f7d7d1c0","result":{}}
[D 2024-05-22 14:49:31,429 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:49:31,430 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"082e145a-e750-472f-b8a6-567fa39f1c95","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:49:31,440 minium.Conn3072 connection#653 __on_message] RECV < {"id":"082e145a-e750-472f-b8a6-567fa39f1c95","result":{"result":true}}
[D 2024-05-22 14:49:31,441 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"9a30e523-fae7-4236-931b-5111005dacd1","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:49:31,451 minium.Conn3072 connection#651 __on_message] RECV < {"id":"9a30e523-fae7-4236-931b-5111005dacd1","result":{"result":{"pages":["pages/sdf_firstpage/sdf_firstpage","pages/member_mainpage/member_mainpage","pages/order_index/order_index","pages/new_order_list/new_order_list","pages/store_list/store_list","pages/order_info/order_info","pages/order_table/order_table","pages/turn_table/turn_table","pages/grade_list/grade_list","pages/grade_buy/grade_buy","pages/action_list/action_list","pages/adver_index/adver_index","pages/register_member/register_member","page...
[D 2024-05-22 14:49:31,452 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"22dac607-a522-4120-aeda-bfff7d71fbaa","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:49:31,468 minium.Conn3072 connection#653 __on_message] RECV < {"id":"22dac607-a522-4120-aeda-bfff7d71fbaa","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:49:31,470 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"80a3c13e-fe6b-4a0a-b707-003db63ac9cf","method":"App.addBinding","params":{"name":"showModal_before_1716403771470"}}
[D 2024-05-22 14:49:31,493 minium.Conn3072 connection#653 __on_message] RECV < {"id":"80a3c13e-fe6b-4a0a-b707-003db63ac9cf","result":{}}
[D 2024-05-22 14:49:31,499 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"e2be4079-5d5b-4983-b79c-b58673aa4e14","method":"App.addBinding","params":{"name":"showModal_callback_1716403771470"}}
[D 2024-05-22 14:49:31,510 minium.Conn3072 connection#653 __on_message] RECV < {"id":"e2be4079-5d5b-4983-b79c-b58673aa4e14","result":{}}
[D 2024-05-22 14:49:31,511 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:49:31,513 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"1b4d4809-cfe3-43c2-aa00-b851bb937d8c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403771470,after:undefined,callback:showModal_callback_1716403771470},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403771470,true]}}
[D 2024-05-22 14:49:31,524 minium.Conn3072 connection#653 __on_message] RECV < {"id":"1b4d4809-cfe3-43c2-aa00-b851bb937d8c","result":{}}
[D 2024-05-22 14:49:31,526 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"c895e369-5f42-4e8a-8443-a894d4fafc1e","method":"App.addBinding","params":{"name":"showToast_before_1716403771526"}}
[D 2024-05-22 14:49:31,534 minium.Conn3072 connection#653 __on_message] RECV < {"id":"c895e369-5f42-4e8a-8443-a894d4fafc1e","result":{}}
[D 2024-05-22 14:49:31,536 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"53c19515-b55e-474b-a820-cd8a091b90e6","method":"App.addBinding","params":{"name":"showToast_callback_1716403771526"}}
[D 2024-05-22 14:49:31,542 minium.Conn3072 connection#653 __on_message] RECV < {"id":"53c19515-b55e-474b-a820-cd8a091b90e6","result":{}}
[D 2024-05-22 14:49:31,544 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:49:31,545 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"ff8ebdd9-b05d-4130-9659-5d108716a9c7","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403771526,after:undefined,callback:showToast_callback_1716403771526},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403771526,true]}}
[D 2024-05-22 14:49:31,551 minium.Conn3072 connection#653 __on_message] RECV < {"id":"ff8ebdd9-b05d-4130-9659-5d108716a9c7","result":{}}
[D 2024-05-22 14:49:31,554 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"4cf1adbf-aa99-407e-8879-21517ff6e5d2","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:49:31,565 minium.Conn3072 connection#653 __on_message] RECV < {"id":"4cf1adbf-aa99-407e-8879-21517ff6e5d2","result":{"result":{"path":"pages/sdf_firstpage/sdf_firstpage","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:49:31,567 minium app#731 relaunch] ReLaunch: /pages/sdf_firstpage/sdf_firstpage
[D 2024-05-22 14:49:31,569 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"63d64f58-a377-4bc6-a9b8-de4ad7521c63","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:49:31,578 minium.Conn3072 connection#653 __on_message] RECV < {"id":"63d64f58-a377-4bc6-a9b8-de4ad7521c63","result":{"pageId":2,"path":"pages/sdf_firstpage/sdf_firstpage","query":{}}}
[D 2024-05-22 14:49:31,579 minium.Conn3072 connection#417 _safely_send] ASYNC_SEND > {"id":"a748c50c-a8f3-4bb3-ab76-9d4f4bfa7854","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/sdf_firstpage/sdf_firstpage"}]}}
[D 2024-05-22 14:49:31,683 minium.Conn3072 connection#653 __on_message] RECV < {"id":"a748c50c-a8f3-4bb3-ab76-9d4f4bfa7854","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:49:31,684 minium.Conn3072 connection#697 _handle_async_msg] received async msg: a748c50c-a8f3-4bb3-ab76-9d4f4bfa7854
[D 2024-05-22 14:49:32,655 minium.Conn3072 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/sdf_firstpage/sdf_firstpage","query":{},"openType":"reLaunch","__ts__":1716403772579},1716403772582]}}
[I 2024-05-22 14:49:32,656 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/sdf_firstpage/sdf_firstpage', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403772579}, 1716403772582]}
[D 2024-05-22 14:49:32,658 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"c6d8ca90-89ca-450b-b673-76a47c9439ea","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:49:32,667 minium.Conn3072 connection#653 __on_message] RECV < {"id":"c6d8ca90-89ca-450b-b673-76a47c9439ea","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:49:32,669 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"3b8e9771-18c3-469d-ad53-5b04b3893f7b","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:49:32,711 minium.Conn3072 connection#653 __on_message] RECV < {"id":"3b8e9771-18c3-469d-ad53-5b04b3893f7b","result":{"result":false}}
[D 2024-05-22 14:49:32,713 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:49:32,715 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"0c8ee713-ccbc-45f4-8c14-2451193edb0a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:49:32,753 minium.Conn3072 connection#653 __on_message] RECV < {"id":"0c8ee713-ccbc-45f4-8c14-2451193edb0a","result":{}}
[D 2024-05-22 14:49:32,756 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"2e9ab4b5-b24a-4a31-933a-28e047ca4744","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:49:33,418 minium.Conn3072 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716403771470","args":[{"title":"提示","content":"invalid code, rid: 664e3e3c-52dd3967-0b93822e","showCancel":false,"confirmColor":"#576B95"},0.5802296334606132]}}
[D 2024-05-22 14:49:33,422 minium app#1074 super_before] showModal before hook result: [{'title': '提示', 'content': 'invalid code, rid: 664e3e3c-52dd3967-0b93822e', 'showCancel': False, 'confirmColor': '#576B95'}, 0.5802296334606132]
[D 2024-05-22 14:49:33,633 minium.Conn3072 connection#653 __on_message] RECV < {"id":"2e9ab4b5-b24a-4a31-933a-28e047ca4744","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:49:33,635 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"30f9d603-c14d-4369-9ff9-425936e3b03f","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:49:33,642 minium.Conn3072 connection#653 __on_message] RECV < {"id":"30f9d603-c14d-4369-9ff9-425936e3b03f","result":{}}
[D 2024-05-22 14:49:33,646 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"20dd2d3f-de65-42e2-966f-73fa3cf150cb","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:49:33,655 minium.Conn3072 connection#653 __on_message] RECV < {"id":"20dd2d3f-de65-42e2-966f-73fa3cf150cb","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:49:33,656 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"c9880668-efd0-4da1-8578-cb945c8c9643","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:49:33,674 minium.Conn3072 connection#651 __on_message] RECV < {"id":"c9880668-efd0-4da1-8578-cb945c8c9643","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":45,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:49:33,675 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:49:33,679 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:49:33,679 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:49:33,680 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:49:33,680 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:49:33,681 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:49:33,681 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:49:33,682 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:49:33,683 minium.Conn3072 connection#417 _safely_send] ASYNC_SEND > {"id":"702f8772-d406-4225-94ea-4a435bcc774f","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/sdf_firstpage/sdf_firstpage"}]}}
[D 2024-05-22 14:49:33,695 minium.Conn3072 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716403771470","args":[{"title":"提示","content":"invalid code, rid: 664e3e3d-4c73061e-47f24784","showCancel":false,"confirmColor":"#576B95"},0.23451788449662025]}}
[D 2024-05-22 14:49:33,700 minium app#1074 super_before] showModal before hook result: [{'title': '提示', 'content': 'invalid code, rid: 664e3e3d-4c73061e-47f24784', 'showCancel': False, 'confirmColor': '#576B95'}, 0.23451788449662025]
[D 2024-05-22 14:49:33,778 minium.Conn3072 connection#653 __on_message] RECV < {"id":"702f8772-d406-4225-94ea-4a435bcc774f","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:49:33,779 minium.Conn3072 connection#697 _handle_async_msg] received async msg: 702f8772-d406-4225-94ea-4a435bcc774f
[I 2024-05-22 14:49:33,782 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:49:33,782 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:49:33,783 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"e3e4b96b-1463-4d88-a005-58d67d352e16","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:49:33,957 minium.Conn3072 connection#651 __on_message] RECV < {"id":"e3e4b96b-1463-4d88-a005-58d67d352e16","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:49:33,959 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:49:33,960 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:49:33,961 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"c48efe29-b9e6-415b-a527-c26dca13976c","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:49:33,965 minium.Conn3072 connection#653 __on_message] RECV < {"id":"c48efe29-b9e6-415b-a527-c26dca13976c","result":{"pageId":3,"path":"pages/sdf_firstpage/sdf_firstpage","query":{}}}
[I 2024-05-22 14:49:33,966 minium app#689 navigate_to] NavigateTo: Page(id=3, path=/pages/sdf_firstpage/sdf_firstpage, query={})
[D 2024-05-22 14:49:43,968 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:49:43,969 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:49:43,969 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:49:43,970 minium.Conn3072 connection#417 _safely_send] SEND > {"id":"51229e7c-d822-4d85-b504-b8a5e2e56a43","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:49:44,065 minium.Conn3072 connection#651 __on_message] RECV < {"id":"51229e7c-d822-4d85-b504-b8a5e2e56a43","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:49:44,068 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:49:44,069 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:49:44,069 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:49:44,087 minium.Conn3072 connection#417 _safely_send] ASYNC_SEND > {"id":"4d8862f6-c497-4a45-aad0-951a53842bc2","method":"Tool.close","params":{}}
[D 2024-05-22 14:49:44,090 minium.Conn3072 connection#653 __on_message] RECV < {"id":"4d8862f6-c497-4a45-aad0-951a53842bc2","result":{}}
[I 2024-05-22 14:49:44,091 minium.Conn3072 connection#697 _handle_async_msg] received async msg: 4d8862f6-c497-4a45-aad0-951a53842bc2, maybe command ignore response
[E 2024-05-22 14:49:44,112 minium.Conn3072 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:49:44,113 minium.Conn3072 connection#697 _handle_async_msg] received async msg: 734b0bf2-9464-4b1e-abba-ed8c6847155b
[I 2024-05-22 14:49:44,113 minium.Conn3072 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:49:45,557 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:49:45,558 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:49:45,558 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:49:45,559 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:49:45,559 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx78d2ee5255a3ed63" --auto-port 9420
[I 2024-05-22 14:49:51,362 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:49:51,362 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:49:56,368 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:49:56,791 minium.Conn2128 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:49:56,791 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"530fa35b-ae8f-4f90-b9d2-04b4f62c7425","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:49:57,968 minium.Conn2128 connection#653 __on_message] RECV < {"id":"530fa35b-ae8f-4f90-b9d2-04b4f62c7425","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:49:57,969 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"a26e9b8a-bbd3-4683-8211-f68bef7adb0b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:50:08,675 minium.Conn2128 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:50:08,682 minium.Conn2128 connection#651 __on_message] RECV < {"id":"a26e9b8a-bbd3-4683-8211-f68bef7adb0b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":45,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:50:08,685 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:50:08,686 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"e9d0fc45-e230-4577-9040-556f01da73b5","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:50:08,694 minium.Conn2128 connection#653 __on_message] RECV < {"id":"e9d0fc45-e230-4577-9040-556f01da73b5","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:50:08,695 minium.Conn2128 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:50:08,696 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"0f23f877-791f-4da6-8c47-83ea3ad5c3c7","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:50:08,704 minium.Conn2128 connection#653 __on_message] RECV < {"id":"0f23f877-791f-4da6-8c47-83ea3ad5c3c7","result":{}}
[D 2024-05-22 14:50:08,705 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"7eec1d28-9791-4191-9dd5-5ab8c1e27607","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:50:08,730 minium.Conn2128 connection#653 __on_message] RECV < {"id":"7eec1d28-9791-4191-9dd5-5ab8c1e27607","result":{}}
[D 2024-05-22 14:50:08,733 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:50:08,734 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"0872d173-9977-49b2-a3c7-dfefcfc2649f","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:50:08,752 minium.Conn2128 connection#653 __on_message] RECV < {"id":"0872d173-9977-49b2-a3c7-dfefcfc2649f","result":{}}
[D 2024-05-22 14:50:08,753 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:50:08,754 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"06b927d0-eb1b-43b0-8234-0bc1b4fc1077","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:50:08,768 minium.Conn2128 connection#653 __on_message] RECV < {"id":"06b927d0-eb1b-43b0-8234-0bc1b4fc1077","result":{}}
[D 2024-05-22 14:50:08,769 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:50:08,770 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"d9b114da-5ae1-4f5a-9153-df69b9b337df","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:50:08,781 minium.Conn2128 connection#653 __on_message] RECV < {"id":"d9b114da-5ae1-4f5a-9153-df69b9b337df","result":{"result":true}}
[D 2024-05-22 14:50:08,782 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"a0572e9e-6f25-40e7-a79f-86efc6f11932","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:50:08,791 minium.Conn2128 connection#651 __on_message] RECV < {"id":"a0572e9e-6f25-40e7-a79f-86efc6f11932","result":{"result":{"pages":["pages/welcome/welcome","pages/news/news","pages/index/index","pages/history/history","weather/pages/index/index","weather/pages/add/add","weather/pages/logs/logs","weather/pages/payment/donate","pages/partake/partake","pages/address/address","pages/problem/problem","pages/lottery/lottery","pages/questionList/questionList","pages/withdrawals/withdrawals","pages/set/set","pages/all/all","pages/share/share","pages/head/head","pages/s...
[D 2024-05-22 14:50:08,793 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"430c2ca2-29fd-4bb9-b859-803ec5bc91ac","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:50:08,805 minium.Conn2128 connection#653 __on_message] RECV < {"id":"430c2ca2-29fd-4bb9-b859-803ec5bc91ac","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:50:08,807 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"b4f38885-8d37-4e61-8add-a9fd3a30d9da","method":"App.addBinding","params":{"name":"showModal_before_1716403808807"}}
[D 2024-05-22 14:50:08,812 minium.Conn2128 connection#653 __on_message] RECV < {"id":"b4f38885-8d37-4e61-8add-a9fd3a30d9da","result":{}}
[D 2024-05-22 14:50:08,814 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"9e8de0a8-875b-4a7e-bf1a-4c7bca9e334f","method":"App.addBinding","params":{"name":"showModal_callback_1716403808807"}}
[D 2024-05-22 14:50:08,820 minium.Conn2128 connection#653 __on_message] RECV < {"id":"9e8de0a8-875b-4a7e-bf1a-4c7bca9e334f","result":{}}
[D 2024-05-22 14:50:08,821 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:50:08,822 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"1e278b01-cfb9-4194-a863-f10d2ae45640","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403808807,after:undefined,callback:showModal_callback_1716403808807},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403808807,true]}}
[D 2024-05-22 14:50:08,831 minium.Conn2128 connection#653 __on_message] RECV < {"id":"1e278b01-cfb9-4194-a863-f10d2ae45640","result":{}}
[D 2024-05-22 14:50:08,832 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"1a45b469-5b37-4102-a294-ad3642b3bd71","method":"App.addBinding","params":{"name":"showToast_before_1716403808832"}}
[D 2024-05-22 14:50:08,842 minium.Conn2128 connection#653 __on_message] RECV < {"id":"1a45b469-5b37-4102-a294-ad3642b3bd71","result":{}}
[D 2024-05-22 14:50:08,843 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"4a6fefe6-22b1-4038-baf3-bfb69261082d","method":"App.addBinding","params":{"name":"showToast_callback_1716403808832"}}
[D 2024-05-22 14:50:08,857 minium.Conn2128 connection#653 __on_message] RECV < {"id":"4a6fefe6-22b1-4038-baf3-bfb69261082d","result":{}}
[D 2024-05-22 14:50:08,859 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:50:08,860 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"fb973d52-2c56-4710-ab51-6e0026395ebe","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403808832,after:undefined,callback:showToast_callback_1716403808832},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403808832,true]}}
[D 2024-05-22 14:50:08,867 minium.Conn2128 connection#653 __on_message] RECV < {"id":"fb973d52-2c56-4710-ab51-6e0026395ebe","result":{}}
[D 2024-05-22 14:50:08,869 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"e90080ae-96b2-4cb8-8699-327928bbdbbe","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:50:08,875 minium.Conn2128 connection#653 __on_message] RECV < {"id":"e90080ae-96b2-4cb8-8699-327928bbdbbe","result":{"result":{"path":"pages/welcome/welcome","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:50:08,877 minium app#731 relaunch] ReLaunch: /pages/welcome/welcome
[D 2024-05-22 14:50:08,880 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"08576adc-25ba-4ad0-9fd4-5c18f6495d9d","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:50:08,888 minium.Conn2128 connection#653 __on_message] RECV < {"id":"08576adc-25ba-4ad0-9fd4-5c18f6495d9d","result":{"pageId":1,"path":"pages/welcome/welcome","query":{}}}
[D 2024-05-22 14:50:08,889 minium.Conn2128 connection#417 _safely_send] ASYNC_SEND > {"id":"91ab6bad-cd2f-4a9d-a3f6-8e65649ba914","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/welcome/welcome"}]}}
[D 2024-05-22 14:50:08,979 minium.Conn2128 connection#653 __on_message] RECV < {"id":"91ab6bad-cd2f-4a9d-a3f6-8e65649ba914","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:50:08,980 minium.Conn2128 connection#697 _handle_async_msg] received async msg: 91ab6bad-cd2f-4a9d-a3f6-8e65649ba914
[D 2024-05-22 14:50:09,800 minium.Conn2128 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/welcome/welcome","query":{},"openType":"reLaunch","__ts__":1716403809783},1716403809787]}}
[I 2024-05-22 14:50:09,801 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/welcome/welcome', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403809783}, 1716403809787]}
[D 2024-05-22 14:50:09,803 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"b0a28944-a77d-42d5-a620-d547933e7fc4","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:50:09,811 minium.Conn2128 connection#653 __on_message] RECV < {"id":"b0a28944-a77d-42d5-a620-d547933e7fc4","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:50:09,815 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"ef0759cb-d90a-400f-9998-c3fcd8c0e050","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:50:09,842 minium.Conn2128 connection#653 __on_message] RECV < {"id":"ef0759cb-d90a-400f-9998-c3fcd8c0e050","result":{"result":false}}
[D 2024-05-22 14:50:09,845 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:50:09,846 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"17fff848-e1a3-4670-baf1-4c8884e96b18","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:50:09,860 minium.Conn2128 connection#653 __on_message] RECV < {"id":"17fff848-e1a3-4670-baf1-4c8884e96b18","result":{}}
[D 2024-05-22 14:50:09,861 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"bde17033-9c07-4c51-ab26-e9db2cc28665","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:50:10,565 minium.Conn2128 connection#653 __on_message] RECV < {"id":"bde17033-9c07-4c51-ab26-e9db2cc28665","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:50:10,567 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"4249a8f1-627c-49aa-8fb5-3cebd7a62e17","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:50:10,572 minium.Conn2128 connection#653 __on_message] RECV < {"id":"4249a8f1-627c-49aa-8fb5-3cebd7a62e17","result":{}}
[D 2024-05-22 14:50:10,574 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"8947fcbd-586d-4d80-aa4c-c4647f75a510","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:50:10,579 minium.Conn2128 connection#653 __on_message] RECV < {"id":"8947fcbd-586d-4d80-aa4c-c4647f75a510","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:50:10,580 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"7542adae-9102-4e79-9fdd-6acad1ae5009","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:50:10,589 minium.Conn2128 connection#651 __on_message] RECV < {"id":"7542adae-9102-4e79-9fdd-6acad1ae5009","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":45,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:50:10,590 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:50:10,592 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:50:10,592 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:50:10,593 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:50:10,593 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:50:10,594 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:50:10,594 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:50:10,594 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 14:50:10,597 minium app#731 relaunch] ReLaunch: /pages/welcome/welcome
[D 2024-05-22 14:50:10,598 minium.Conn2128 connection#417 _safely_send] ASYNC_SEND > {"id":"c67f6831-e6d8-4ad3-b51f-a1c07a29a314","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/welcome/welcome"}]}}
[D 2024-05-22 14:50:10,721 minium.Conn2128 connection#653 __on_message] RECV < {"id":"c67f6831-e6d8-4ad3-b51f-a1c07a29a314","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:50:10,722 minium.Conn2128 connection#697 _handle_async_msg] received async msg: c67f6831-e6d8-4ad3-b51f-a1c07a29a314
[D 2024-05-22 14:50:11,266 minium.Conn2128 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/welcome/welcome","query":{},"openType":"reLaunch","__ts__":1716403811239},1716403811242]}}
[I 2024-05-22 14:50:11,268 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/welcome/welcome', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403811239}, 1716403811242]}
[I 2024-05-22 14:50:11,272 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:50:11,274 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:50:11,275 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"4682773b-2ec5-4cfc-a4f3-1adf541cd819","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:50:11,491 minium.Conn2128 connection#651 __on_message] RECV < {"id":"4682773b-2ec5-4cfc-a4f3-1adf541cd819","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoBJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 14:50:11,492 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:50:11,494 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:50:11,495 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"22a51ff9-09fe-4756-9846-108a58efabbf","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:50:11,500 minium.Conn2128 connection#653 __on_message] RECV < {"id":"22a51ff9-09fe-4756-9846-108a58efabbf","result":{"pageId":4,"path":"pages/welcome/welcome","query":{}}}
[I 2024-05-22 14:50:11,501 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/welcome/welcome, query={})
[D 2024-05-22 14:50:21,503 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:50:21,504 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:50:21,504 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:50:21,504 minium.Conn2128 connection#417 _safely_send] SEND > {"id":"e78e8a9a-f480-4dda-a8d8-d1a75a6987da","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:50:21,600 minium.Conn2128 connection#651 __on_message] RECV < {"id":"e78e8a9a-f480-4dda-a8d8-d1a75a6987da","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAABoBJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 14:50:21,602 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:50:21,602 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:50:21,602 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:50:21,621 minium.Conn2128 connection#417 _safely_send] ASYNC_SEND > {"id":"96ffd72e-e70b-4a0a-9384-7e0bae0b6739","method":"Tool.close","params":{}}
[D 2024-05-22 14:50:21,623 minium.Conn2128 connection#653 __on_message] RECV < {"id":"96ffd72e-e70b-4a0a-9384-7e0bae0b6739","result":{}}
[I 2024-05-22 14:50:21,624 minium.Conn2128 connection#697 _handle_async_msg] received async msg: 96ffd72e-e70b-4a0a-9384-7e0bae0b6739, maybe command ignore response
[E 2024-05-22 14:50:21,646 minium.Conn2128 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:50:21,647 minium.Conn2128 connection#697 _handle_async_msg] received async msg: 89712b6d-b7c2-4a51-b213-71474ba05f2d
[I 2024-05-22 14:50:21,648 minium.Conn2128 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:50:23,159 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:50:23,160 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:50:23,160 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:50:23,161 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:50:23,162 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx94eb4215c646f0c4" --auto-port 9420
[I 2024-05-22 14:50:28,677 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:50:28,678 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:50:33,683 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:50:33,770 minium.Conn2992 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:50:33,772 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"4b9497f0-e302-4afd-bb0a-a72dd9efb981","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:50:33,915 minium.Conn2992 connection#653 __on_message] RECV < {"id":"4b9497f0-e302-4afd-bb0a-a72dd9efb981","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:50:33,916 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"635ffbae-452c-490f-9e40-3d515b60f499","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:50:47,492 minium.Conn2992 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:50:47,494 minium.Conn2992 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:10200:21)\n    at Object.scriptLoaded (<anonymous>:10228:5)\n    at Object.<anonymous> (<anonymous>:10253:22)"}}
[D 2024-05-22 14:50:49,612 minium.Conn2992 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:50:49,637 minium.Conn2992 connection#651 __on_message] RECV < {"id":"635ffbae-452c-490f-9e40-3d515b60f499","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:50:49,639 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:50:49,641 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"a0128935-afdb-4638-859f-7a9c0b5e0cf3","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:50:49,687 minium.Conn2992 connection#653 __on_message] RECV < {"id":"a0128935-afdb-4638-859f-7a9c0b5e0cf3","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:50:49,688 minium.Conn2992 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:50:49,689 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"60eec0b8-b2e1-4ece-937e-bc07bc49ebc1","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:50:49,732 minium.Conn2992 connection#653 __on_message] RECV < {"id":"60eec0b8-b2e1-4ece-937e-bc07bc49ebc1","result":{}}
[D 2024-05-22 14:50:49,733 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"0d3106b9-d41d-4dba-a2da-8e6aee34f2a9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:50:49,757 minium.Conn2992 connection#653 __on_message] RECV < {"id":"0d3106b9-d41d-4dba-a2da-8e6aee34f2a9","result":{}}
[D 2024-05-22 14:50:49,758 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:50:49,760 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"32e81864-8f6f-41e9-ba02-098cac82fc03","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:50:49,804 minium.Conn2992 connection#653 __on_message] RECV < {"id":"32e81864-8f6f-41e9-ba02-098cac82fc03","result":{}}
[D 2024-05-22 14:50:49,805 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:50:49,806 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"f6295fa8-59d3-4db5-bcbb-576dd37de77c","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:50:49,821 minium.Conn2992 connection#653 __on_message] RECV < {"id":"f6295fa8-59d3-4db5-bcbb-576dd37de77c","result":{}}
[D 2024-05-22 14:50:49,822 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:50:49,823 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"a8652a09-7bc2-4838-b3ba-cd2b86fd470d","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:50:49,918 minium.Conn2992 connection#653 __on_message] RECV < {"id":"a8652a09-7bc2-4838-b3ba-cd2b86fd470d","result":{"result":true}}
[D 2024-05-22 14:50:49,919 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"54abceac-beef-46a0-a5f6-8d98401279e8","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:50:49,946 minium.Conn2992 connection#651 __on_message] RECV < {"id":"54abceac-beef-46a0-a5f6-8d98401279e8","result":{"result":{"pages":["pages/home/dashboard/index","pages/template/getcouponlist/index","pages/template/shenfen/index","pages/usercenter/dashboard/index","pages/usercenter/issue/index","pages/usercenter/join/index","pages/usercenter/yuyue/index","pages/usercenter/rank/index","pages/usercenter/rank/ranking","pages/usercenter/recharge/index","pages/issue/issue","pages/detail/index","pages/about/about","pages/register/register","pages/usercenter/payorder/i...
[D 2024-05-22 14:50:49,950 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"bdfc46e0-8e53-4aec-9648-0b58e10c174b","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:50:49,968 minium.Conn2992 connection#653 __on_message] RECV < {"id":"bdfc46e0-8e53-4aec-9648-0b58e10c174b","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:50:49,969 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"12872961-9c38-4161-ad17-047de8889f33","method":"App.addBinding","params":{"name":"showModal_before_1716403849969"}}
[D 2024-05-22 14:50:49,977 minium.Conn2992 connection#653 __on_message] RECV < {"id":"12872961-9c38-4161-ad17-047de8889f33","result":{}}
[D 2024-05-22 14:50:49,979 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"24accd1e-44a9-4bfc-95cb-1807c503c524","method":"App.addBinding","params":{"name":"showModal_callback_1716403849969"}}
[D 2024-05-22 14:50:49,989 minium.Conn2992 connection#653 __on_message] RECV < {"id":"24accd1e-44a9-4bfc-95cb-1807c503c524","result":{}}
[D 2024-05-22 14:50:49,990 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:50:49,991 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"8aa06202-e1ea-4137-a17f-e7f7debf0164","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403849969,after:undefined,callback:showModal_callback_1716403849969},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403849969,true]}}
[D 2024-05-22 14:50:50,011 minium.Conn2992 connection#653 __on_message] RECV < {"id":"8aa06202-e1ea-4137-a17f-e7f7debf0164","result":{}}
[D 2024-05-22 14:50:50,013 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"d2844757-0ff8-4451-b796-d61855b65dfb","method":"App.addBinding","params":{"name":"showToast_before_1716403850013"}}
[D 2024-05-22 14:50:50,032 minium.Conn2992 connection#653 __on_message] RECV < {"id":"d2844757-0ff8-4451-b796-d61855b65dfb","result":{}}
[D 2024-05-22 14:50:50,033 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"0dad7d7b-233e-4cf7-a97b-d68ca41d3726","method":"App.addBinding","params":{"name":"showToast_callback_1716403850013"}}
[D 2024-05-22 14:50:50,047 minium.Conn2992 connection#653 __on_message] RECV < {"id":"0dad7d7b-233e-4cf7-a97b-d68ca41d3726","result":{}}
[D 2024-05-22 14:50:50,048 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:50:50,049 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"19a12ff5-ae49-4bc7-a53f-c872e1f9c4d2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403850013,after:undefined,callback:showToast_callback_1716403850013},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403850013,true]}}
[D 2024-05-22 14:50:50,073 minium.Conn2992 connection#653 __on_message] RECV < {"id":"19a12ff5-ae49-4bc7-a53f-c872e1f9c4d2","result":{}}
[D 2024-05-22 14:50:50,075 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"626de888-8488-4418-9b56-53c5cbd79fee","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:50:50,107 minium.Conn2992 connection#653 __on_message] RECV < {"id":"626de888-8488-4418-9b56-53c5cbd79fee","result":{"result":{"path":"pages/home/dashboard/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:50:50,113 minium app#731 relaunch] ReLaunch: /pages/home/dashboard/index
[D 2024-05-22 14:50:50,114 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"9aaa8557-1579-4ee4-8405-2b8eb1755e9f","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:50:50,135 minium.Conn2992 connection#653 __on_message] RECV < {"id":"9aaa8557-1579-4ee4-8405-2b8eb1755e9f","result":{"pageId":1,"path":"pages/home/dashboard/index","query":{}}}
[D 2024-05-22 14:50:50,138 minium.Conn2992 connection#417 _safely_send] ASYNC_SEND > {"id":"9d91ac46-0a0b-4e40-87bc-c0574cd11d24","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 14:50:50,377 minium.Conn2992 connection#653 __on_message] RECV < {"id":"9d91ac46-0a0b-4e40-87bc-c0574cd11d24","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:50:50,378 minium.Conn2992 connection#697 _handle_async_msg] received async msg: 9d91ac46-0a0b-4e40-87bc-c0574cd11d24
[D 2024-05-22 14:50:52,371 minium.Conn2992 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/dashboard/index","query":{},"openType":"reLaunch","__ts__":1716403852291},1716403852293]}}
[I 2024-05-22 14:50:52,372 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/dashboard/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403852291}, 1716403852293]}
[D 2024-05-22 14:50:52,389 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"978a2d89-c17d-4dce-abcb-3f56765d75a6","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:50:52,415 minium.Conn2992 connection#653 __on_message] RECV < {"id":"978a2d89-c17d-4dce-abcb-3f56765d75a6","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:50:52,417 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"e1b83339-cd46-4139-bc91-4b786e89d59d","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:50:52,465 minium.Conn2992 connection#653 __on_message] RECV < {"id":"e1b83339-cd46-4139-bc91-4b786e89d59d","result":{"result":false}}
[D 2024-05-22 14:50:52,466 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:50:52,467 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"5e5728d2-d4be-44ef-a283-9daec420dc32","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:50:52,481 minium.Conn2992 connection#653 __on_message] RECV < {"id":"5e5728d2-d4be-44ef-a283-9daec420dc32","result":{}}
[D 2024-05-22 14:50:52,482 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"8f26f291-8559-4936-b501-af48abc3c775","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:50:53,257 minium.Conn2992 connection#653 __on_message] RECV < {"id":"8f26f291-8559-4936-b501-af48abc3c775","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:50:53,259 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"fe018413-5996-4452-b522-39bd14b222de","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:50:53,263 minium.Conn2992 connection#653 __on_message] RECV < {"id":"fe018413-5996-4452-b522-39bd14b222de","result":{}}
[D 2024-05-22 14:50:53,264 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"b28040b1-bb21-4633-abd6-fa577c2ba08b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:50:53,278 minium.Conn2992 connection#653 __on_message] RECV < {"id":"b28040b1-bb21-4633-abd6-fa577c2ba08b","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:50:53,280 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"b904580b-3bbb-4318-9a84-dbb7c9c0f2fc","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:50:53,290 minium.Conn2992 connection#651 __on_message] RECV < {"id":"b904580b-3bbb-4318-9a84-dbb7c9c0f2fc","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:50:53,291 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:50:53,294 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:50:53,294 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:50:53,295 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:50:53,295 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:50:53,295 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:50:53,296 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:50:53,296 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:50:53,296 minium.Conn2992 connection#417 _safely_send] ASYNC_SEND > {"id":"afb97608-3d14-4b5d-afd4-caa76488d3f0","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 14:50:53,366 minium.Conn2992 connection#653 __on_message] RECV < {"id":"afb97608-3d14-4b5d-afd4-caa76488d3f0","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:50:53,367 minium.Conn2992 connection#697 _handle_async_msg] received async msg: afb97608-3d14-4b5d-afd4-caa76488d3f0
[I 2024-05-22 14:50:53,372 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:50:53,372 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:50:53,373 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"d6997479-f6b2-426b-a5a1-d69fe2c22a82","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:50:53,485 minium.Conn2992 connection#651 __on_message] RECV < {"id":"d6997479-f6b2-426b-a5a1-d69fe2c22a82","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:50:53,487 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:50:53,487 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:50:53,488 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"c020df1a-f2d9-459c-93b9-6f071d6e4f5c","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:50:53,493 minium.Conn2992 connection#653 __on_message] RECV < {"id":"c020df1a-f2d9-459c-93b9-6f071d6e4f5c","result":{"pageId":2,"path":"pages/home/dashboard/index","query":{}}}
[I 2024-05-22 14:50:53,495 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/home/dashboard/index, query={})
[D 2024-05-22 14:51:03,498 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:51:03,499 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:51:03,499 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:51:03,500 minium.Conn2992 connection#417 _safely_send] SEND > {"id":"60a0eb48-f9ae-45b7-9046-08792616890f","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:51:03,636 minium.Conn2992 connection#651 __on_message] RECV < {"id":"60a0eb48-f9ae-45b7-9046-08792616890f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:51:03,638 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:51:03,639 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:51:03,639 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:51:03,651 minium.Conn2992 connection#417 _safely_send] ASYNC_SEND > {"id":"002161f3-b2bf-4ad0-9273-7d12cd13b8ac","method":"Tool.close","params":{}}
[D 2024-05-22 14:51:03,655 minium.Conn2992 connection#653 __on_message] RECV < {"id":"002161f3-b2bf-4ad0-9273-7d12cd13b8ac","result":{}}
[I 2024-05-22 14:51:03,656 minium.Conn2992 connection#697 _handle_async_msg] received async msg: 002161f3-b2bf-4ad0-9273-7d12cd13b8ac, maybe command ignore response
[E 2024-05-22 14:51:03,678 minium.Conn2992 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:51:03,679 minium.Conn2992 connection#697 _handle_async_msg] received async msg: be893438-12f9-422f-9e64-10dfc94bd64f
[I 2024-05-22 14:51:03,679 minium.Conn2992 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:51:05,102 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:51:05,103 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:51:05,103 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:51:05,104 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:51:05,105 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx881b6d478deb81b0" --auto-port 9420
[I 2024-05-22 14:51:11,050 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:51:11,051 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:51:16,056 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:51:16,625 minium.Conn6576 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:51:16,626 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"688b8c78-209f-4130-b825-e431c9de7e5c","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:51:16,631 minium.Conn6576 connection#653 __on_message] RECV < {"id":"688b8c78-209f-4130-b825-e431c9de7e5c","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:51:16,631 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"e271d7ce-da27-4f02-80e7-fef792bbaf43","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:51:29,218 minium.Conn6576 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL is not defined","stack":"ReferenceError: VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL is not defined\n    at Component (http://127.0.0.1:43173/appservice/utils/ald-stat.js?t=wechat&s=1716403871972&v=739075cbb446b0866673b62a075ef2fe:429:17)\n    at http://127.0.0.1:43173/appservice/components/child/child.js?t=wechat&s=1716403871972&v=6227ddaa770d023a57a4364bdccd27b7:1:833\n    at http://127.0.0.1:...
[D 2024-05-22 14:51:30,255 minium.Conn6576 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:51:30,263 minium.Conn6576 connection#651 __on_message] RECV < {"id":"e271d7ce-da27-4f02-80e7-fef792bbaf43","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:51:30,264 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:51:30,265 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"878fbc12-2281-464c-8b9b-a92a58a453dd","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:51:30,284 minium.Conn6576 connection#653 __on_message] RECV < {"id":"878fbc12-2281-464c-8b9b-a92a58a453dd","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:51:30,285 minium.Conn6576 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:51:30,286 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"40d2f095-5296-45d4-8425-538ed45197ab","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:51:30,305 minium.Conn6576 connection#653 __on_message] RECV < {"id":"40d2f095-5296-45d4-8425-538ed45197ab","result":{}}
[D 2024-05-22 14:51:30,306 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"2f02fb4e-3b30-4c4b-84e7-d8f5e8019f5b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:51:30,329 minium.Conn6576 connection#653 __on_message] RECV < {"id":"2f02fb4e-3b30-4c4b-84e7-d8f5e8019f5b","result":{}}
[D 2024-05-22 14:51:30,330 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:51:30,331 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"d0b11530-87ad-4795-a1d3-be611d942280","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:51:30,344 minium.Conn6576 connection#653 __on_message] RECV < {"id":"d0b11530-87ad-4795-a1d3-be611d942280","result":{}}
[D 2024-05-22 14:51:30,346 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:51:30,347 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"5846ed18-e985-43ee-9fb3-863b9b0a2bc8","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:51:30,356 minium.Conn6576 connection#653 __on_message] RECV < {"id":"5846ed18-e985-43ee-9fb3-863b9b0a2bc8","result":{}}
[D 2024-05-22 14:51:30,356 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:51:30,358 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"c56b14f0-2127-4022-b5f0-2496df4c2bcb","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:51:30,366 minium.Conn6576 connection#653 __on_message] RECV < {"id":"c56b14f0-2127-4022-b5f0-2496df4c2bcb","result":{"result":true}}
[D 2024-05-22 14:51:30,368 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"434b2cda-f7c4-40a0-9bc8-62b87c61ef84","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:51:30,376 minium.Conn6576 connection#651 __on_message] RECV < {"id":"434b2cda-f7c4-40a0-9bc8-62b87c61ef84","result":{"result":{"pages":["pages/home/home","pages/my/my","pages/proveList/proveList","pages/study/study","pages/videoDisplay1/videoDisplay","pages/ggjStydyLearn/ggjStydyLearn","pages/myOrder/myOrder","pages/orderDetail/orderDetail","pages/kjPage/kjPage","pages/selectCourses/selectCourses","pages/paySuccess/paySuccess","pages/affirmMessage/affirmMessage","pages/login_accout/login","pages/statistics/statistics","pages/courseSelect/courseSelect","pages/couple...
[D 2024-05-22 14:51:30,377 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"0a1c590b-9b28-442e-a623-78221d80b762","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:51:30,385 minium.Conn6576 connection#653 __on_message] RECV < {"id":"0a1c590b-9b28-442e-a623-78221d80b762","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:51:30,386 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"8762b9e9-655d-410d-a466-6f2569355e03","method":"App.addBinding","params":{"name":"showModal_before_1716403890386"}}
[D 2024-05-22 14:51:30,392 minium.Conn6576 connection#653 __on_message] RECV < {"id":"8762b9e9-655d-410d-a466-6f2569355e03","result":{}}
[D 2024-05-22 14:51:30,394 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"d9fb991c-c422-47ee-b11f-4a5b511dd3c1","method":"App.addBinding","params":{"name":"showModal_callback_1716403890386"}}
[D 2024-05-22 14:51:30,405 minium.Conn6576 connection#653 __on_message] RECV < {"id":"d9fb991c-c422-47ee-b11f-4a5b511dd3c1","result":{}}
[D 2024-05-22 14:51:30,406 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:51:30,407 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"af0cd031-793a-4959-b49a-23703c18ba2f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403890386,after:undefined,callback:showModal_callback_1716403890386},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403890386,true]}}
[D 2024-05-22 14:51:30,417 minium.Conn6576 connection#653 __on_message] RECV < {"id":"af0cd031-793a-4959-b49a-23703c18ba2f","result":{}}
[D 2024-05-22 14:51:30,419 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"6a4363d1-864a-4df4-9c48-de2451643b2e","method":"App.addBinding","params":{"name":"showToast_before_1716403890419"}}
[D 2024-05-22 14:51:30,425 minium.Conn6576 connection#653 __on_message] RECV < {"id":"6a4363d1-864a-4df4-9c48-de2451643b2e","result":{}}
[D 2024-05-22 14:51:30,427 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"747a9c95-ca0a-448e-b955-798a45b7b6e9","method":"App.addBinding","params":{"name":"showToast_callback_1716403890419"}}
[D 2024-05-22 14:51:30,433 minium.Conn6576 connection#653 __on_message] RECV < {"id":"747a9c95-ca0a-448e-b955-798a45b7b6e9","result":{}}
[D 2024-05-22 14:51:30,434 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:51:30,435 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"71f89181-42ba-449f-a7cb-92b3059a6587","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403890419,after:undefined,callback:showToast_callback_1716403890419},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403890419,true]}}
[D 2024-05-22 14:51:30,441 minium.Conn6576 connection#653 __on_message] RECV < {"id":"71f89181-42ba-449f-a7cb-92b3059a6587","result":{}}
[D 2024-05-22 14:51:30,444 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"95dc8ff9-743b-47ca-889c-3e7e49f597be","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:51:30,455 minium.Conn6576 connection#653 __on_message] RECV < {"id":"95dc8ff9-743b-47ca-889c-3e7e49f597be","result":{"result":{"path":"pages/home/home","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:51:30,456 minium app#731 relaunch] ReLaunch: /pages/home/home
[D 2024-05-22 14:51:30,458 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"672a2278-df2a-4691-82a9-0483e51d9fc7","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:51:30,464 minium.Conn6576 connection#653 __on_message] RECV < {"id":"672a2278-df2a-4691-82a9-0483e51d9fc7","result":{"pageId":1,"path":"pages/home/home","query":{}}}
[D 2024-05-22 14:51:30,466 minium.Conn6576 connection#417 _safely_send] ASYNC_SEND > {"id":"ac8927b5-0773-4ece-846b-1a535811d40c","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/home"}]}}
[D 2024-05-22 14:51:30,641 minium.Conn6576 connection#653 __on_message] RECV < {"id":"ac8927b5-0773-4ece-846b-1a535811d40c","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:51:30,647 minium.Conn6576 connection#697 _handle_async_msg] received async msg: ac8927b5-0773-4ece-846b-1a535811d40c
[D 2024-05-22 14:51:31,105 minium.Conn6576 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/home","query":{},"openType":"reLaunch","__ts__":1716403891053},1716403891055]}}
[I 2024-05-22 14:51:31,107 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/home', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403891053}, 1716403891055]}
[D 2024-05-22 14:51:31,108 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"5e99e986-ec43-40bd-bd7c-1f41b6af1968","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:51:31,118 minium.Conn6576 connection#653 __on_message] RECV < {"id":"5e99e986-ec43-40bd-bd7c-1f41b6af1968","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:51:31,120 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"ed7d9f79-6be3-44b7-9531-18799e33dbe8","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:51:31,143 minium.Conn6576 connection#653 __on_message] RECV < {"id":"ed7d9f79-6be3-44b7-9531-18799e33dbe8","result":{"result":false}}
[D 2024-05-22 14:51:31,145 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:51:31,146 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"985c6f8f-afa7-451b-a46f-a90f242595b5","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:51:31,170 minium.Conn6576 connection#653 __on_message] RECV < {"id":"985c6f8f-afa7-451b-a46f-a90f242595b5","result":{}}
[D 2024-05-22 14:51:31,171 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"5b62f840-0b55-4a40-9228-83ba5c14f7db","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:51:31,936 minium.Conn6576 connection#653 __on_message] RECV < {"id":"5b62f840-0b55-4a40-9228-83ba5c14f7db","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:51:31,938 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"9289124b-99f2-4274-ad91-06c82244b6b7","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:51:31,944 minium.Conn6576 connection#653 __on_message] RECV < {"id":"9289124b-99f2-4274-ad91-06c82244b6b7","result":{}}
[D 2024-05-22 14:51:31,946 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"73dd3c84-d988-4804-9326-bea852eb8066","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:51:31,954 minium.Conn6576 connection#653 __on_message] RECV < {"id":"73dd3c84-d988-4804-9326-bea852eb8066","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:51:31,955 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"be654de3-edcb-4b0e-952b-d26ab222bb68","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:51:31,963 minium.Conn6576 connection#651 __on_message] RECV < {"id":"be654de3-edcb-4b0e-952b-d26ab222bb68","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:51:31,965 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:51:31,971 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:51:31,971 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:51:31,972 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:51:31,972 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:51:31,972 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:51:31,972 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:51:31,973 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:51:31,973 minium.Conn6576 connection#417 _safely_send] ASYNC_SEND > {"id":"e2b4163c-b0f8-4239-aded-983d6d863a3a","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/home"}]}}
[D 2024-05-22 14:51:32,067 minium.Conn6576 connection#653 __on_message] RECV < {"id":"e2b4163c-b0f8-4239-aded-983d6d863a3a","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:51:32,068 minium.Conn6576 connection#697 _handle_async_msg] received async msg: e2b4163c-b0f8-4239-aded-983d6d863a3a
[I 2024-05-22 14:51:32,072 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:51:32,073 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:51:32,075 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"aa3c65e1-7768-4bf9-be8e-4defeb985e43","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:51:32,198 minium.Conn6576 connection#651 __on_message] RECV < {"id":"aa3c65e1-7768-4bf9-be8e-4defeb985e43","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:51:32,200 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:51:32,200 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:51:32,206 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"6045108a-1ff3-43d1-b96d-0fb79f72241e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:51:32,214 minium.Conn6576 connection#653 __on_message] RECV < {"id":"6045108a-1ff3-43d1-b96d-0fb79f72241e","result":{"pageId":2,"path":"pages/home/home","query":{}}}
[I 2024-05-22 14:51:32,216 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/home/home, query={})
[D 2024-05-22 14:51:42,217 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:51:42,221 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:51:42,221 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:51:42,221 minium.Conn6576 connection#417 _safely_send] SEND > {"id":"c9798407-2f34-450c-85cb-6bcef49f5612","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:51:42,337 minium.Conn6576 connection#651 __on_message] RECV < {"id":"c9798407-2f34-450c-85cb-6bcef49f5612","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 14:51:42,339 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:51:42,340 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:51:42,344 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:51:42,356 minium.Conn6576 connection#417 _safely_send] ASYNC_SEND > {"id":"7e8740e4-5427-44e6-acf1-e3b5940a831d","method":"Tool.close","params":{}}
[D 2024-05-22 14:51:42,359 minium.Conn6576 connection#653 __on_message] RECV < {"id":"7e8740e4-5427-44e6-acf1-e3b5940a831d","result":{}}
[I 2024-05-22 14:51:42,360 minium.Conn6576 connection#697 _handle_async_msg] received async msg: 7e8740e4-5427-44e6-acf1-e3b5940a831d, maybe command ignore response
[E 2024-05-22 14:51:42,381 minium.Conn6576 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:51:42,382 minium.Conn6576 connection#697 _handle_async_msg] received async msg: 83fd6533-35f3-476c-ba20-d077a3b641fb
[I 2024-05-22 14:51:42,383 minium.Conn6576 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:51:43,990 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:51:43,991 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:51:43,991 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:51:43,991 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:51:43,992 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx88703a7be7f52af6" --auto-port 9420
[I 2024-05-22 14:51:49,924 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:51:49,924 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:51:54,931 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:51:55,117 minium.Conn9600 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:51:55,118 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"1b2a57e0-f9f7-4e91-8a18-8de03c7547f9","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:51:55,129 minium.Conn9600 connection#653 __on_message] RECV < {"id":"1b2a57e0-f9f7-4e91-8a18-8de03c7547f9","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:51:55,131 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"cf2f8429-c6b7-4fc2-bb6b-29bd099fcf1c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:52:10,325 minium.Conn9600 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:52:10,327 minium.Conn9600 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22542:21)\n    at Object.scriptLoaded (<anonymous>:22570:5)\n    at Object.<anonymous> (<anonymous>:22595:22)"}}
[D 2024-05-22 14:52:11,494 minium.Conn9600 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:52:11,500 minium.Conn9600 connection#651 __on_message] RECV < {"id":"cf2f8429-c6b7-4fc2-bb6b-29bd099fcf1c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:52:11,502 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:52:11,504 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"cea3df2d-33d6-4530-8d50-23827a7764b6","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:52:11,526 minium.Conn9600 connection#653 __on_message] RECV < {"id":"cea3df2d-33d6-4530-8d50-23827a7764b6","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:52:11,528 minium.Conn9600 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:52:11,528 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"d36b384b-60c8-468d-95b2-c1350ea3a7c8","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:52:11,539 minium.Conn9600 connection#653 __on_message] RECV < {"id":"d36b384b-60c8-468d-95b2-c1350ea3a7c8","result":{}}
[D 2024-05-22 14:52:11,546 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"3de5c28d-7631-4b3d-a4c5-1d0ad0b40dc3","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:52:11,690 minium.Conn9600 connection#653 __on_message] RECV < {"id":"3de5c28d-7631-4b3d-a4c5-1d0ad0b40dc3","result":{}}
[D 2024-05-22 14:52:11,693 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:52:11,695 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"45c0bd30-77cd-48b4-9f8d-97608294c176","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:52:11,723 minium.Conn9600 connection#653 __on_message] RECV < {"id":"45c0bd30-77cd-48b4-9f8d-97608294c176","result":{}}
[D 2024-05-22 14:52:11,725 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:52:11,726 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"52c069dd-6fae-48c3-8f4c-2f2a3dfb91b2","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:52:11,744 minium.Conn9600 connection#653 __on_message] RECV < {"id":"52c069dd-6fae-48c3-8f4c-2f2a3dfb91b2","result":{}}
[D 2024-05-22 14:52:11,745 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:52:11,746 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"71853976-6c87-443d-af8e-1648e3083abe","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:52:11,767 minium.Conn9600 connection#653 __on_message] RECV < {"id":"71853976-6c87-443d-af8e-1648e3083abe","result":{"result":true}}
[D 2024-05-22 14:52:11,768 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"03449817-783f-46b3-90b2-9fc6a094adbd","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:52:11,901 minium.Conn9600 connection#651 __on_message] RECV < {"id":"03449817-783f-46b3-90b2-9fc6a094adbd","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 14:52:11,903 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"50458570-b48a-4133-b7e1-44cd60843fbe","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:52:11,943 minium.Conn9600 connection#653 __on_message] RECV < {"id":"50458570-b48a-4133-b7e1-44cd60843fbe","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:52:11,945 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"4ab0f2dc-6952-44d7-937c-3b3647b9cfbc","method":"App.addBinding","params":{"name":"showModal_before_1716403931945"}}
[D 2024-05-22 14:52:11,976 minium.Conn9600 connection#653 __on_message] RECV < {"id":"4ab0f2dc-6952-44d7-937c-3b3647b9cfbc","result":{}}
[D 2024-05-22 14:52:11,977 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"97fc7644-6ec0-4ca4-b3a3-4566696d92cf","method":"App.addBinding","params":{"name":"showModal_callback_1716403931945"}}
[D 2024-05-22 14:52:12,001 minium.Conn9600 connection#653 __on_message] RECV < {"id":"97fc7644-6ec0-4ca4-b3a3-4566696d92cf","result":{}}
[D 2024-05-22 14:52:12,002 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:52:12,003 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"d3f5208b-d77d-4a67-9393-1d8c2005baf2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403931945,after:undefined,callback:showModal_callback_1716403931945},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403931945,true]}}
[D 2024-05-22 14:52:12,027 minium.Conn9600 connection#653 __on_message] RECV < {"id":"d3f5208b-d77d-4a67-9393-1d8c2005baf2","result":{}}
[D 2024-05-22 14:52:12,029 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"9c7d6bc8-f4ec-4c83-938d-040e53181211","method":"App.addBinding","params":{"name":"showToast_before_1716403932029"}}
[D 2024-05-22 14:52:12,069 minium.Conn9600 connection#653 __on_message] RECV < {"id":"9c7d6bc8-f4ec-4c83-938d-040e53181211","result":{}}
[D 2024-05-22 14:52:12,071 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"d44034a7-6fe5-45e9-af0f-899fd22b6411","method":"App.addBinding","params":{"name":"showToast_callback_1716403932029"}}
[D 2024-05-22 14:52:12,083 minium.Conn9600 connection#653 __on_message] RECV < {"id":"d44034a7-6fe5-45e9-af0f-899fd22b6411","result":{}}
[D 2024-05-22 14:52:12,084 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:52:12,085 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"c5dfe668-64e4-4731-9619-98876db1551f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403932029,after:undefined,callback:showToast_callback_1716403932029},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403932029,true]}}
[D 2024-05-22 14:52:12,097 minium.Conn9600 connection#653 __on_message] RECV < {"id":"c5dfe668-64e4-4731-9619-98876db1551f","result":{}}
[D 2024-05-22 14:52:12,100 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"89613dae-bb6a-4ec5-b002-e35988196baf","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:52:12,159 minium.Conn9600 connection#653 __on_message] RECV < {"id":"89613dae-bb6a-4ec5-b002-e35988196baf","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:52:12,161 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:52:12,164 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"01ea62f2-bcd4-4944-a496-12003220d36c","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:52:12,255 minium.Conn9600 connection#653 __on_message] RECV < {"id":"01ea62f2-bcd4-4944-a496-12003220d36c","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:52:12,256 minium.Conn9600 connection#417 _safely_send] ASYNC_SEND > {"id":"f98e2f23-5e9d-4ba2-a046-5f184631e05e","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:52:12,358 minium.Conn9600 connection#653 __on_message] RECV < {"id":"f98e2f23-5e9d-4ba2-a046-5f184631e05e","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:52:12,358 minium.Conn9600 connection#697 _handle_async_msg] received async msg: f98e2f23-5e9d-4ba2-a046-5f184631e05e
[D 2024-05-22 14:52:14,400 minium.Conn9600 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716403934318},1716403934321]}}
[I 2024-05-22 14:52:14,402 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403934318}, 1716403934321]}
[D 2024-05-22 14:52:14,404 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"71b16bdd-196d-41da-b492-e6265efbf334","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:52:14,415 minium.Conn9600 connection#653 __on_message] RECV < {"id":"71b16bdd-196d-41da-b492-e6265efbf334","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:52:14,421 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"1b9a77a8-a9ff-49a0-bddd-48d6d9c637d5","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:52:14,466 minium.Conn9600 connection#653 __on_message] RECV < {"id":"1b9a77a8-a9ff-49a0-bddd-48d6d9c637d5","result":{"result":false}}
[D 2024-05-22 14:52:14,468 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:52:14,468 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"eb1f82e0-b0a1-4da7-9a52-1ee353bb9e18","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:52:14,500 minium.Conn9600 connection#653 __on_message] RECV < {"id":"eb1f82e0-b0a1-4da7-9a52-1ee353bb9e18","result":{}}
[D 2024-05-22 14:52:14,501 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"5b372dc6-5dab-42f5-bfa1-e58e185aa92d","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:52:15,237 minium.Conn9600 connection#653 __on_message] RECV < {"id":"5b372dc6-5dab-42f5-bfa1-e58e185aa92d","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:52:15,240 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"3a616a28-1666-4785-b75f-4fb7587ba9e9","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:52:15,245 minium.Conn9600 connection#653 __on_message] RECV < {"id":"3a616a28-1666-4785-b75f-4fb7587ba9e9","result":{}}
[D 2024-05-22 14:52:15,247 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"0e6f2068-11a1-41b9-bc26-1601e4ce46ce","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:52:15,253 minium.Conn9600 connection#653 __on_message] RECV < {"id":"0e6f2068-11a1-41b9-bc26-1601e4ce46ce","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:52:15,254 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"5727d589-29d2-403f-8fb0-5f825e8876e2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:52:15,263 minium.Conn9600 connection#651 __on_message] RECV < {"id":"5727d589-29d2-403f-8fb0-5f825e8876e2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":43,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:52:15,264 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:52:15,270 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:52:15,272 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:52:15,272 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:52:15,273 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:52:15,273 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:52:15,274 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:52:15,274 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:52:15,274 minium.Conn9600 connection#417 _safely_send] ASYNC_SEND > {"id":"7bb41181-4e34-4311-956c-a8dd52236d78","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:52:15,344 minium.Conn9600 connection#653 __on_message] RECV < {"id":"7bb41181-4e34-4311-956c-a8dd52236d78","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:52:15,344 minium.Conn9600 connection#697 _handle_async_msg] received async msg: 7bb41181-4e34-4311-956c-a8dd52236d78
[I 2024-05-22 14:52:15,346 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:52:15,346 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:52:15,347 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"2732ff54-20cd-40ae-b138-73f23e7d3167","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:52:15,461 minium.Conn9600 connection#651 __on_message] RECV < {"id":"2732ff54-20cd-40ae-b138-73f23e7d3167","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:52:15,463 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:52:15,464 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:52:15,464 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"aca976a1-bca2-4515-9039-7947c00177f3","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:52:15,475 minium.Conn9600 connection#653 __on_message] RECV < {"id":"aca976a1-bca2-4515-9039-7947c00177f3","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:52:15,478 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:52:25,480 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:52:25,481 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:52:25,482 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:52:25,483 minium.Conn9600 connection#417 _safely_send] SEND > {"id":"fb02fc6c-a138-40c3-92be-d3ac71848625","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:52:25,579 minium.Conn9600 connection#651 __on_message] RECV < {"id":"fb02fc6c-a138-40c3-92be-d3ac71848625","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:52:25,580 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:52:25,580 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:52:25,581 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:52:25,595 minium.Conn9600 connection#417 _safely_send] ASYNC_SEND > {"id":"2cc87902-efbb-4277-8c3a-bc37101c7b57","method":"Tool.close","params":{}}
[D 2024-05-22 14:52:25,598 minium.Conn9600 connection#653 __on_message] RECV < {"id":"2cc87902-efbb-4277-8c3a-bc37101c7b57","result":{}}
[I 2024-05-22 14:52:25,598 minium.Conn9600 connection#697 _handle_async_msg] received async msg: 2cc87902-efbb-4277-8c3a-bc37101c7b57, maybe command ignore response
[E 2024-05-22 14:52:25,621 minium.Conn9600 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:52:25,622 minium.Conn9600 connection#697 _handle_async_msg] received async msg: 56b32397-b1c9-4ab4-b44c-003604e113df
[I 2024-05-22 14:52:25,623 minium.Conn9600 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:52:27,054 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:52:27,055 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:52:27,055 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:52:27,056 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:52:27,057 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7c544dd972e54c8e" --auto-port 9420
[I 2024-05-22 14:52:32,845 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:52:32,846 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:52:37,851 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:52:37,913 minium.Conn5376 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:52:37,914 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"7eed48c7-7324-4ecc-99c1-0def9424feb1","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:52:37,959 minium.Conn5376 connection#653 __on_message] RECV < {"id":"7eed48c7-7324-4ecc-99c1-0def9424feb1","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:52:37,960 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"1d6c8aca-bd1a-4369-a631-5b407838bec1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:52:52,694 minium.Conn5376 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'url' of undefined","stack":"TypeError: Cannot read property 'url' of undefined\n    at Ct.request (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa68760441f25f53eba47e579625:218:61)\n    at Ct.<anonymous> (http://127.0.0.1:61859/appservice/__dev__/WASubContext.js?t=wechat&s=1716403953780&v=3.4.3:1:473794)\n    at Ct.onShow (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa68760441...
[D 2024-05-22 14:52:53,620 minium.Conn5376 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'url' of undefined","stack":"TypeError: Cannot read property 'url' of undefined\n    at Ct.request (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa68760441f25f53eba47e579625:218:61)\n    at Ct.<anonymous> (http://127.0.0.1:61859/appservice/__dev__/WASubContext.js?t=wechat&s=1716403953780&v=3.4.3:1:473794)\n    at yi.initData (http://127.0.0.1:61859/appservice/pages/index/index.js?t=wechat&s=1716403953780&...
[D 2024-05-22 14:52:53,835 minium.Conn5376 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'url' of undefined","stack":"TypeError: Cannot read property 'url' of undefined\n    at Ct.request (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa68760441f25f53eba47e579625:218:61)\n    at Ct.<anonymous> (http://127.0.0.1:61859/appservice/__dev__/WASubContext.js?t=wechat&s=1716403953780&v=3.4.3:1:473794)\n    at Ct.tryLogin (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa687604...
[D 2024-05-22 14:52:54,475 minium.Conn5376 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:52:54,481 minium.Conn5376 connection#651 __on_message] RECV < {"id":"1d6c8aca-bd1a-4369-a631-5b407838bec1","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":43,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:52:54,482 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:52:54,484 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"a75a8004-7884-4a95-84d1-0369a487ee37","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:52:54,492 minium.Conn5376 connection#653 __on_message] RECV < {"id":"a75a8004-7884-4a95-84d1-0369a487ee37","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:52:54,493 minium.Conn5376 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:52:54,493 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"1e3c122c-0cfa-4edd-b6cd-768f4d9abce5","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:52:54,504 minium.Conn5376 connection#653 __on_message] RECV < {"id":"1e3c122c-0cfa-4edd-b6cd-768f4d9abce5","result":{}}
[D 2024-05-22 14:52:54,505 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"0b58880a-3661-4e7c-b21d-5e4a7e812f72","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:52:54,517 minium.Conn5376 connection#653 __on_message] RECV < {"id":"0b58880a-3661-4e7c-b21d-5e4a7e812f72","result":{}}
[D 2024-05-22 14:52:54,518 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:52:54,521 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"3cc0f635-d71a-4f8e-9900-2690cb522cb1","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:52:54,534 minium.Conn5376 connection#653 __on_message] RECV < {"id":"3cc0f635-d71a-4f8e-9900-2690cb522cb1","result":{}}
[D 2024-05-22 14:52:54,536 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:52:54,537 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"dc557a37-9ca9-4a38-894e-ff76666a2583","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:52:54,548 minium.Conn5376 connection#653 __on_message] RECV < {"id":"dc557a37-9ca9-4a38-894e-ff76666a2583","result":{}}
[D 2024-05-22 14:52:54,549 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:52:54,552 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"3629b87b-a53d-482e-81c5-0a800445090f","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:52:54,567 minium.Conn5376 connection#653 __on_message] RECV < {"id":"3629b87b-a53d-482e-81c5-0a800445090f","result":{"result":true}}
[D 2024-05-22 14:52:54,571 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"7fc74461-70fb-469d-93ea-9694a664fa40","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:52:54,590 minium.Conn5376 connection#651 __on_message] RECV < {"id":"7fc74461-70fb-469d-93ea-9694a664fa40","result":{"result":{"pages":["pages/index/index","pages/category/category","pages/shopcart/shopcart","pages/membercenter/membercenter","pages/detail/detail","pages/confirmorder/confirmorder","pages/order/orderlist","pages/orderdetail/orderdetail","pages/guide/guide","pages/productlist/productlist","pages/address/address","pages/myaddress/myaddress","pages/addresslist/addresslist","pages/binduser/binduser","pages/userset/userset","pages/logisticsdetail/logistic...
[D 2024-05-22 14:52:54,592 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"bcb4dda5-5fd8-4b98-94b4-48141fead5a9","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:52:54,603 minium.Conn5376 connection#653 __on_message] RECV < {"id":"bcb4dda5-5fd8-4b98-94b4-48141fead5a9","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:52:54,604 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"59f5481a-be2b-4eae-a7c2-3609cd682f5f","method":"App.addBinding","params":{"name":"showModal_before_1716403974604"}}
[D 2024-05-22 14:52:54,618 minium.Conn5376 connection#653 __on_message] RECV < {"id":"59f5481a-be2b-4eae-a7c2-3609cd682f5f","result":{}}
[D 2024-05-22 14:52:54,620 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"6d0d005e-d196-477d-894a-9e190db6388c","method":"App.addBinding","params":{"name":"showModal_callback_1716403974604"}}
[D 2024-05-22 14:52:54,626 minium.Conn5376 connection#653 __on_message] RECV < {"id":"6d0d005e-d196-477d-894a-9e190db6388c","result":{}}
[D 2024-05-22 14:52:54,637 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:52:54,638 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"914753e2-3e9e-4aaa-ac7f-0605bb40369b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716403974604,after:undefined,callback:showModal_callback_1716403974604},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716403974604,true]}}
[D 2024-05-22 14:52:54,647 minium.Conn5376 connection#653 __on_message] RECV < {"id":"914753e2-3e9e-4aaa-ac7f-0605bb40369b","result":{}}
[D 2024-05-22 14:52:54,648 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"e7b899a0-f21f-4e15-b690-5bc62dc23049","method":"App.addBinding","params":{"name":"showToast_before_1716403974648"}}
[D 2024-05-22 14:52:54,660 minium.Conn5376 connection#653 __on_message] RECV < {"id":"e7b899a0-f21f-4e15-b690-5bc62dc23049","result":{}}
[D 2024-05-22 14:52:54,661 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"e67875e0-fcf3-41ff-8627-ee92ff682830","method":"App.addBinding","params":{"name":"showToast_callback_1716403974648"}}
[D 2024-05-22 14:52:54,668 minium.Conn5376 connection#653 __on_message] RECV < {"id":"e67875e0-fcf3-41ff-8627-ee92ff682830","result":{}}
[D 2024-05-22 14:52:54,670 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:52:54,670 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"098af438-23ea-442b-9150-b6d96072f5fe","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716403974648,after:undefined,callback:showToast_callback_1716403974648},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716403974648,true]}}
[D 2024-05-22 14:52:54,680 minium.Conn5376 connection#653 __on_message] RECV < {"id":"098af438-23ea-442b-9150-b6d96072f5fe","result":{}}
[D 2024-05-22 14:52:54,684 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"278984a4-1fe3-4d65-bd7b-705542d796f4","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:52:54,697 minium.Conn5376 connection#653 __on_message] RECV < {"id":"278984a4-1fe3-4d65-bd7b-705542d796f4","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:52:54,699 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:52:54,700 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"b839dd0e-8811-4d17-b3c9-6cfbbb99c5ff","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:52:54,709 minium.Conn5376 connection#653 __on_message] RECV < {"id":"b839dd0e-8811-4d17-b3c9-6cfbbb99c5ff","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:52:54,712 minium.Conn5376 connection#417 _safely_send] ASYNC_SEND > {"id":"c495e507-6d7f-44ed-bae7-ee00200e7d7d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:52:54,941 minium.Conn5376 connection#653 __on_message] RECV < {"id":"c495e507-6d7f-44ed-bae7-ee00200e7d7d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:52:54,941 minium.Conn5376 connection#697 _handle_async_msg] received async msg: c495e507-6d7f-44ed-bae7-ee00200e7d7d
[D 2024-05-22 14:52:55,400 minium.Conn5376 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'url' of undefined","stack":"TypeError: Cannot read property 'url' of undefined\n    at Ct.request (http://127.0.0.1:61859/appservice/app.js?t=wechat&s=1716403953780&v=5414aa68760441f25f53eba47e579625:218:61)\n    at Ct.<anonymous> (http://127.0.0.1:61859/appservice/__dev__/WASubContext.js?t=wechat&s=1716403953780&v=3.4.3:1:473794)\n    at yi.initData (http://127.0.0.1:61859/appservice/pages/index/index.js?t=wechat&s=1716403953780&...
[D 2024-05-22 14:52:55,539 minium.Conn5376 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716403975466},1716403975471]}}
[I 2024-05-22 14:52:55,540 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716403975466}, 1716403975471]}
[D 2024-05-22 14:52:55,543 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"bd6abc2b-e8eb-4c5f-baf7-96cf38ae1f12","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:52:55,563 minium.Conn5376 connection#653 __on_message] RECV < {"id":"bd6abc2b-e8eb-4c5f-baf7-96cf38ae1f12","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:52:55,568 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"8ec6b0e5-6a0e-4a38-8331-5db1666b2319","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:52:55,595 minium.Conn5376 connection#653 __on_message] RECV < {"id":"8ec6b0e5-6a0e-4a38-8331-5db1666b2319","result":{"result":false}}
[D 2024-05-22 14:52:55,597 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:52:55,597 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"5c7fe526-1542-40bc-8a18-eab6f2f1bf49","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:52:55,623 minium.Conn5376 connection#653 __on_message] RECV < {"id":"5c7fe526-1542-40bc-8a18-eab6f2f1bf49","result":{}}
[D 2024-05-22 14:52:55,624 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"9cb9c4d6-4102-46fd-93c3-b9374374d3bf","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:52:56,412 minium.Conn5376 connection#653 __on_message] RECV < {"id":"9cb9c4d6-4102-46fd-93c3-b9374374d3bf","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:52:56,414 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"60c70beb-ee7a-4f7b-a8ab-67949dbf0647","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:52:56,429 minium.Conn5376 connection#653 __on_message] RECV < {"id":"60c70beb-ee7a-4f7b-a8ab-67949dbf0647","result":{}}
[D 2024-05-22 14:52:56,431 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"e6edebab-26fe-4aec-b515-3196c348ab29","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:52:56,438 minium.Conn5376 connection#653 __on_message] RECV < {"id":"e6edebab-26fe-4aec-b515-3196c348ab29","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:52:56,439 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"cd05c3c3-98b0-4207-8940-6df97cbd0b08","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:52:56,455 minium.Conn5376 connection#651 __on_message] RECV < {"id":"cd05c3c3-98b0-4207-8940-6df97cbd0b08","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":43,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:52:56,456 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:52:56,464 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:52:56,465 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:52:56,465 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:52:56,465 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:52:56,466 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:52:56,466 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:52:56,467 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:52:56,468 minium.Conn5376 connection#417 _safely_send] ASYNC_SEND > {"id":"535710ef-861f-4ed7-b716-86db95c1551b","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:52:56,563 minium.Conn5376 connection#653 __on_message] RECV < {"id":"535710ef-861f-4ed7-b716-86db95c1551b","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:52:56,566 minium.Conn5376 connection#697 _handle_async_msg] received async msg: 535710ef-861f-4ed7-b716-86db95c1551b
[I 2024-05-22 14:52:56,569 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:52:56,572 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:52:56,572 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"9bf387ea-bfd5-4c67-a07e-e83c63236c30","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:52:56,726 minium.Conn5376 connection#651 __on_message] RECV < {"id":"9bf387ea-bfd5-4c67-a07e-e83c63236c30","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAButJREFUeJzt281u4kgYQFEIf23e/1UNOIA9CzTZjYbuSTpz6XOWqEr6JOuqLGyvx3FcAU1v3z0A8OsEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhA...
[I 2024-05-22 14:52:56,727 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:52:56,728 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:52:56,729 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"4eb8cdfb-713a-45ea-bbd2-43f7a47d65d2","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:52:56,736 minium.Conn5376 connection#653 __on_message] RECV < {"id":"4eb8cdfb-713a-45ea-bbd2-43f7a47d65d2","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:52:56,739 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:53:06,741 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:53:06,741 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:53:06,742 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:53:06,742 minium.Conn5376 connection#417 _safely_send] SEND > {"id":"719f06ae-9350-4a40-be31-4fb3908eaafd","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:53:06,850 minium.Conn5376 connection#651 __on_message] RECV < {"id":"719f06ae-9350-4a40-be31-4fb3908eaafd","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAB1ZJREFUeJzt3MtS3EYAQFEhzRP4/y81MMxDykIxXsWxncTkwjkrVQFVXTXcaqlbPXdPT08D0DS+9wCAXydgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmI...
[I 2024-05-22 14:53:06,851 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:53:06,852 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:53:06,852 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:53:06,858 minium.Conn5376 connection#417 _safely_send] ASYNC_SEND > {"id":"279af79e-ee89-4809-9d9f-38cf9d508fa5","method":"Tool.close","params":{}}
[D 2024-05-22 14:53:06,861 minium.Conn5376 connection#653 __on_message] RECV < {"id":"279af79e-ee89-4809-9d9f-38cf9d508fa5","result":{}}
[I 2024-05-22 14:53:06,861 minium.Conn5376 connection#697 _handle_async_msg] received async msg: 279af79e-ee89-4809-9d9f-38cf9d508fa5, maybe command ignore response
[E 2024-05-22 14:53:06,882 minium.Conn5376 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:53:06,883 minium.Conn5376 connection#697 _handle_async_msg] received async msg: 82b9e1a9-3dcb-475b-a701-6d9721bf723b
[I 2024-05-22 14:53:06,884 minium.Conn5376 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:53:08,369 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:53:08,371 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:53:08,371 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:53:08,372 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:53:08,373 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx94453ac9e8af894a" --auto-port 9420
[I 2024-05-22 14:53:14,238 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:53:14,239 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:53:19,245 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:53:19,660 minium.Conn1648 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:53:19,661 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"c160f30b-fadb-4699-8a6e-b2029b02bbe2","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:53:19,681 minium.Conn1648 connection#653 __on_message] RECV < {"id":"c160f30b-fadb-4699-8a6e-b2029b02bbe2","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:53:19,683 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"ff04321c-7fa8-40d9-aab4-9883b244e08a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:53:32,655 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:53:32,664 minium.Conn1648 connection#651 __on_message] RECV < {"id":"ff04321c-7fa8-40d9-aab4-9883b244e08a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":43,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:53:32,667 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:53:32,669 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"032aa7bf-ca8e-479b-8a80-bdbc1e67389a","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:53:32,678 minium.Conn1648 connection#653 __on_message] RECV < {"id":"032aa7bf-ca8e-479b-8a80-bdbc1e67389a","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:53:32,690 minium.Conn1648 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:53:32,691 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"6006c65b-8c7c-4e48-92c9-c5b89420765b","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:53:32,730 minium.Conn1648 connection#653 __on_message] RECV < {"id":"6006c65b-8c7c-4e48-92c9-c5b89420765b","result":{}}
[D 2024-05-22 14:53:32,732 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"4a05f026-6135-46e5-bbfc-c8f35f4bc28b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:53:32,741 minium.Conn1648 connection#653 __on_message] RECV < {"id":"4a05f026-6135-46e5-bbfc-c8f35f4bc28b","result":{}}
[D 2024-05-22 14:53:32,742 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:53:32,743 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"e7c35918-552b-4799-b8c9-88d9a38af269","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:53:32,754 minium.Conn1648 connection#653 __on_message] RECV < {"id":"e7c35918-552b-4799-b8c9-88d9a38af269","result":{}}
[D 2024-05-22 14:53:32,755 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:53:32,756 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"d50e9c6c-4fa3-4825-81d5-0ae34094bcc9","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:53:32,776 minium.Conn1648 connection#653 __on_message] RECV < {"id":"d50e9c6c-4fa3-4825-81d5-0ae34094bcc9","result":{}}
[D 2024-05-22 14:53:32,777 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:53:32,778 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"01468da1-8f0c-4b2d-b69e-013292dfe5f1","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:53:32,807 minium.Conn1648 connection#653 __on_message] RECV < {"id":"01468da1-8f0c-4b2d-b69e-013292dfe5f1","result":{"result":true}}
[D 2024-05-22 14:53:32,809 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"7272d3c0-f23e-41b6-88ef-49e0a84970c9","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:53:32,819 minium.Conn1648 connection#651 __on_message] RECV < {"id":"7272d3c0-f23e-41b6-88ef-49e0a84970c9","result":{"result":{"pages":["pages/index/index","pages/physical/physical","pages/closedoor/closedoor","pages/recharge/recharge","pages/iccard/iccard","pages/familyface/familyface","pages/refund/refund","pages/index2/index","pages/auth/auth","pages/auth/face_device","pages/my/my","pages/cabinet/cabinet","pages/unpay/unpay","pages/unpay_order/unpay","pages/memberinfo/memberinfo","pages/logs/logs","pages/record/record","pages/coupon/coupon","pages/couponover/cou...
[D 2024-05-22 14:53:32,820 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"a031c5a3-0e76-4044-a464-dbc0cb19ed74","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:53:32,856 minium.Conn1648 connection#653 __on_message] RECV < {"id":"a031c5a3-0e76-4044-a464-dbc0cb19ed74","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:53:32,860 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"6802e8f4-af05-48fb-873d-482ae82a8c14","method":"App.addBinding","params":{"name":"showModal_before_1716404012859"}}
[D 2024-05-22 14:53:32,883 minium.Conn1648 connection#653 __on_message] RECV < {"id":"6802e8f4-af05-48fb-873d-482ae82a8c14","result":{}}
[D 2024-05-22 14:53:32,884 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"08155dcc-0a43-4c13-8ed2-06b49347506f","method":"App.addBinding","params":{"name":"showModal_callback_1716404012859"}}
[D 2024-05-22 14:53:32,893 minium.Conn1648 connection#653 __on_message] RECV < {"id":"08155dcc-0a43-4c13-8ed2-06b49347506f","result":{}}
[D 2024-05-22 14:53:32,894 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:53:32,895 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"0f1f4d66-b9af-4900-8367-7bd3ca58f7a9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404012859,after:undefined,callback:showModal_callback_1716404012859},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404012859,true]}}
[D 2024-05-22 14:53:32,921 minium.Conn1648 connection#653 __on_message] RECV < {"id":"0f1f4d66-b9af-4900-8367-7bd3ca58f7a9","result":{}}
[D 2024-05-22 14:53:32,923 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"9bb44207-036f-4b91-8911-acc8b21160bd","method":"App.addBinding","params":{"name":"showToast_before_1716404012922"}}
[D 2024-05-22 14:53:32,929 minium.Conn1648 connection#653 __on_message] RECV < {"id":"9bb44207-036f-4b91-8911-acc8b21160bd","result":{}}
[D 2024-05-22 14:53:32,930 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"0db78607-cbad-42d3-bad6-9b3d6586c7f4","method":"App.addBinding","params":{"name":"showToast_callback_1716404012922"}}
[D 2024-05-22 14:53:32,937 minium.Conn1648 connection#653 __on_message] RECV < {"id":"0db78607-cbad-42d3-bad6-9b3d6586c7f4","result":{}}
[D 2024-05-22 14:53:32,940 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:53:32,941 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"30dc0308-4c24-4277-a5c9-7b753d9e4458","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404012922,after:undefined,callback:showToast_callback_1716404012922},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404012922,true]}}
[D 2024-05-22 14:53:32,948 minium.Conn1648 connection#653 __on_message] RECV < {"id":"30dc0308-4c24-4277-a5c9-7b753d9e4458","result":{}}
[D 2024-05-22 14:53:32,950 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"4f88e482-b1f6-43e3-a328-393eb1858008","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:53:32,961 minium.Conn1648 connection#653 __on_message] RECV < {"id":"4f88e482-b1f6-43e3-a328-393eb1858008","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:53:32,963 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:53:32,964 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"7c978112-d2aa-4348-b455-3fca8ab96bbc","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:53:32,974 minium.Conn1648 connection#653 __on_message] RECV < {"id":"7c978112-d2aa-4348-b455-3fca8ab96bbc","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:53:32,976 minium.Conn1648 connection#417 _safely_send] ASYNC_SEND > {"id":"6999453b-d46c-4f0f-8d24-e90f58dd0373","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:53:33,093 minium.Conn1648 connection#653 __on_message] RECV < {"id":"6999453b-d46c-4f0f-8d24-e90f58dd0373","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:53:33,094 minium.Conn1648 connection#697 _handle_async_msg] received async msg: 6999453b-d46c-4f0f-8d24-e90f58dd0373
[D 2024-05-22 14:53:33,819 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404013792},1716404013795]}}
[I 2024-05-22 14:53:33,820 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404013792}, 1716404013795]}
[D 2024-05-22 14:53:33,822 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"db1f8123-3905-41f0-9f2b-f4ef7b0ca735","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:53:33,836 minium.Conn1648 connection#653 __on_message] RECV < {"id":"db1f8123-3905-41f0-9f2b-f4ef7b0ca735","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:53:33,837 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"5b3c7252-f6ee-4752-8e9f-d5b89494fc86","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:53:33,861 minium.Conn1648 connection#653 __on_message] RECV < {"id":"5b3c7252-f6ee-4752-8e9f-d5b89494fc86","result":{"result":false}}
[D 2024-05-22 14:53:33,863 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:53:33,864 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"2b977687-519c-4ff2-a0b0-3fd663aa6909","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:53:33,875 minium.Conn1648 connection#653 __on_message] RECV < {"id":"2b977687-519c-4ff2-a0b0-3fd663aa6909","result":{}}
[D 2024-05-22 14:53:33,877 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"135512dd-5fd7-4d61-9d6b-8b2056d9ec7c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:53:34,570 minium.Conn1648 connection#653 __on_message] RECV < {"id":"135512dd-5fd7-4d61-9d6b-8b2056d9ec7c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:53:34,572 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"fd6c43ca-43db-477e-b330-d98dc5fbdd79","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:53:34,580 minium.Conn1648 connection#653 __on_message] RECV < {"id":"fd6c43ca-43db-477e-b330-d98dc5fbdd79","result":{}}
[D 2024-05-22 14:53:34,582 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"564bdf59-736e-4d52-90de-e0713a5ea6dd","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:53:34,587 minium.Conn1648 connection#653 __on_message] RECV < {"id":"564bdf59-736e-4d52-90de-e0713a5ea6dd","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:53:34,589 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"06bf5981-fa77-46dd-be23-eca8a3062368","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:53:34,597 minium.Conn1648 connection#651 __on_message] RECV < {"id":"06bf5981-fa77-46dd-be23-eca8a3062368","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":43,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:53:34,598 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:53:34,600 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:53:34,600 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:53:34,600 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:53:34,601 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:53:34,601 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:53:34,601 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:53:34,601 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 14:53:34,602 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:53:34,603 minium.Conn1648 connection#417 _safely_send] ASYNC_SEND > {"id":"6d8735ab-8180-40c3-a640-c235c7d81215","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:53:34,754 minium.Conn1648 connection#653 __on_message] RECV < {"id":"6d8735ab-8180-40c3-a640-c235c7d81215","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:53:34,755 minium.Conn1648 connection#697 _handle_async_msg] received async msg: 6d8735ab-8180-40c3-a640-c235c7d81215
[D 2024-05-22 14:53:35,378 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404015352},1716404015356]}}
[I 2024-05-22 14:53:35,381 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404015352}, 1716404015356]}
[I 2024-05-22 14:53:35,384 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:53:35,385 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:53:35,385 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"97327b88-f947-4298-8b1c-9ad9ff41931f","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:53:35,591 minium.Conn1648 connection#651 __on_message] RECV < {"id":"97327b88-f947-4298-8b1c-9ad9ff41931f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3Xd4FNX+P/DP1O2b3kgI6RBCBwUBC3gVUSyIKIqCXLFe+F5FRL2Wa0FFxZ9dEQSkWK6goggIgtIEQu+dNEhCetm+U87vjwmbZRNCDAnJgc/r4ckzmZ2dnQzz3nPmzJkzDCEEEEJ0Ylt7AxBCTYcBRohiGGCEKIYBRohiGGCEKIYBRohiGGCEKIYBRohiGGCEKIYBRohiGGCEKMa39gbQx2azWSyWhpeRJEkQhIuzPYhSTqfT5XI1vIzBYDAajQ0s0OIl8Pbt2//zn/9o05WVlXfffbc2/cYbbxQVFfkv6XA4srKy1q1bt3DhwuPHjwesZ8qUKbt37667/rKyspycHADIycl5++23tfX88ssvf+smDbvdnp...
[I 2024-05-22 14:53:35,593 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:53:35,594 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:53:35,595 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"d3b360fe-b6cc-49c4-9df1-40f3bfd70ea1","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:53:35,620 minium.Conn1648 connection#653 __on_message] RECV < {"id":"d3b360fe-b6cc-49c4-9df1-40f3bfd70ea1","result":{"pageId":4,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:53:35,622 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/index/index, query={})
[D 2024-05-22 14:53:35,715 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716404012922","args":[{"title":"解密错误","icon":"none"},0.10008438204641834]}}
[D 2024-05-22 14:53:35,717 minium app#1074 super_before] showToast before hook result: [{'title': '解密错误', 'icon': 'none'}, 0.10008438204641834]
[D 2024-05-22 14:53:35,741 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716404012922","args":[{"errMsg":"showToast:ok"},0.10008438204641834]}}
[D 2024-05-22 14:53:35,742 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.10008438204641834]
[D 2024-05-22 14:53:38,209 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716404012922","args":[{"title":"解密错误","icon":"none"},0.17413144088364918]}}
[D 2024-05-22 14:53:38,212 minium app#1074 super_before] showToast before hook result: [{'title': '解密错误', 'icon': 'none'}, 0.17413144088364918]
[D 2024-05-22 14:53:38,255 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716404012922","args":[{"errMsg":"showToast:ok"},0.17413144088364918]}}
[D 2024-05-22 14:53:38,257 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.17413144088364918]
[D 2024-05-22 14:53:41,815 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716404012922","args":[{"title":"解密错误","icon":"none"},0.954781775087747]}}
[D 2024-05-22 14:53:41,816 minium app#1074 super_before] showToast before hook result: [{'title': '解密错误', 'icon': 'none'}, 0.954781775087747]
[D 2024-05-22 14:53:41,886 minium.Conn1648 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716404012922","args":[{"errMsg":"showToast:ok"},0.954781775087747]}}
[D 2024-05-22 14:53:41,887 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.954781775087747]
[D 2024-05-22 14:53:45,623 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:53:45,624 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:53:45,624 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:53:45,625 minium.Conn1648 connection#417 _safely_send] SEND > {"id":"81861f4c-d2c0-4ff1-87f2-1d9a04e87f6f","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:53:45,773 minium.Conn1648 connection#651 __on_message] RECV < {"id":"81861f4c-d2c0-4ff1-87f2-1d9a04e87f6f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3Xd4FFX7N/B76vZNb6SQCoTQQUHAAhZEsQIKooCC9Qc+iIg+tseCioqvYKMJSFEUEFGEABKkCYQeahDSe89m+057/5iwLJuQhJAQBu7PxZVrdnb27Oww3zlnzjRCkiRACCkT2dYzgBBqPgwwQgqGAUZIwTDACCkYBhghBcMAI6RgGGCEFAwDjJCC0U2fVBTF7Ozs8vJyf3//2NhYksTwI9TGmhTCqqqqRYsWdenSJT4+vm/fvgkJCYmJiQsXLqyoqGjt+UMINYBo9FTK6urq+++/PzU1VRAEz/EkSfbt2zc5OdnHx6c15xAhdEmNBNhkMg0ZMiQ1NfVSE/Ts2XPbtm2+vr6tMG/XKLPZbDAYGp6G4ziGYa...
[I 2024-05-22 14:53:45,775 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:53:45,775 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:53:45,776 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:53:45,782 minium.Conn1648 connection#417 _safely_send] ASYNC_SEND > {"id":"06d86d36-9bd6-457d-88f5-15c96d704d10","method":"Tool.close","params":{}}
[D 2024-05-22 14:53:45,784 minium.Conn1648 connection#653 __on_message] RECV < {"id":"06d86d36-9bd6-457d-88f5-15c96d704d10","result":{}}
[I 2024-05-22 14:53:45,785 minium.Conn1648 connection#697 _handle_async_msg] received async msg: 06d86d36-9bd6-457d-88f5-15c96d704d10, maybe command ignore response
[E 2024-05-22 14:53:45,808 minium.Conn1648 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:53:45,809 minium.Conn1648 connection#697 _handle_async_msg] received async msg: b689dc8d-3576-474a-8bf9-97fe5ae78d70
[I 2024-05-22 14:53:45,809 minium.Conn1648 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:53:47,349 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:53:47,350 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:53:47,350 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:53:47,351 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:53:47,351 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx759c45a8c54a72b7" --auto-port 9420
[I 2024-05-22 14:53:52,593 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:53:52,593 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:53:57,598 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:53:57,760 minium.Conn8480 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:53:57,761 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"9b3add98-03fa-428e-9fe5-d2645c6369c1","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:53:57,774 minium.Conn8480 connection#653 __on_message] RECV < {"id":"9b3add98-03fa-428e-9fe5-d2645c6369c1","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:53:57,776 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"c58020d7-9fcd-4ecd-ab89-59ba5e8e0309","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:54:13,444 minium.Conn8480 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:54:13,445 minium.Conn8480 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22699:21)\n    at Object.scriptLoaded (<anonymous>:22727:5)\n    at Object.<anonymous> (<anonymous>:22752:22)"}}
[D 2024-05-22 14:54:15,253 minium.Conn8480 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:54:15,281 minium.Conn8480 connection#651 __on_message] RECV < {"id":"c58020d7-9fcd-4ecd-ab89-59ba5e8e0309","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":42,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:54:15,283 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:54:15,285 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"82a31ebd-7ff0-4b2c-b226-499d2153a56c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:54:15,340 minium.Conn8480 connection#653 __on_message] RECV < {"id":"82a31ebd-7ff0-4b2c-b226-499d2153a56c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:54:15,340 minium.Conn8480 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:54:15,341 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"e0811511-ab5f-49c4-819d-fc9641c80714","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:54:15,365 minium.Conn8480 connection#653 __on_message] RECV < {"id":"e0811511-ab5f-49c4-819d-fc9641c80714","result":{}}
[D 2024-05-22 14:54:15,366 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"7cd4e71a-15a4-47f5-9e7c-d3fbe51278de","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:54:15,391 minium.Conn8480 connection#653 __on_message] RECV < {"id":"7cd4e71a-15a4-47f5-9e7c-d3fbe51278de","result":{}}
[D 2024-05-22 14:54:15,392 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:54:15,393 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"6f5d3c1c-c8f9-48cb-8750-51f3467ed97d","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:54:15,410 minium.Conn8480 connection#653 __on_message] RECV < {"id":"6f5d3c1c-c8f9-48cb-8750-51f3467ed97d","result":{}}
[D 2024-05-22 14:54:15,411 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:54:15,413 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"984b0127-fed8-473d-9430-696d7d901231","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:54:15,426 minium.Conn8480 connection#653 __on_message] RECV < {"id":"984b0127-fed8-473d-9430-696d7d901231","result":{}}
[D 2024-05-22 14:54:15,427 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:54:15,429 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"c4677588-34d3-425d-835c-bac87c2176fe","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:54:15,489 minium.Conn8480 connection#653 __on_message] RECV < {"id":"c4677588-34d3-425d-835c-bac87c2176fe","result":{"result":true}}
[D 2024-05-22 14:54:15,491 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"5d934d2e-5751-4974-83a1-889c1dd91d78","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:54:15,522 minium.Conn8480 connection#651 __on_message] RECV < {"id":"5d934d2e-5751-4974-83a1-889c1dd91d78","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 14:54:15,523 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"4f1fa400-8522-4400-b412-6a87cb982d52","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:54:15,536 minium.Conn8480 connection#653 __on_message] RECV < {"id":"4f1fa400-8522-4400-b412-6a87cb982d52","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:54:15,538 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"ec092b42-067a-412b-855d-94f6be5ddfc9","method":"App.addBinding","params":{"name":"showModal_before_1716404055538"}}
[D 2024-05-22 14:54:15,555 minium.Conn8480 connection#653 __on_message] RECV < {"id":"ec092b42-067a-412b-855d-94f6be5ddfc9","result":{}}
[D 2024-05-22 14:54:15,557 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"f6f21028-0f51-4574-8478-19026beeba5a","method":"App.addBinding","params":{"name":"showModal_callback_1716404055538"}}
[D 2024-05-22 14:54:15,574 minium.Conn8480 connection#653 __on_message] RECV < {"id":"f6f21028-0f51-4574-8478-19026beeba5a","result":{}}
[D 2024-05-22 14:54:15,575 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:54:15,577 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"af96f62d-b548-4f26-8338-e9f1c7f5f909","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404055538,after:undefined,callback:showModal_callback_1716404055538},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404055538,true]}}
[D 2024-05-22 14:54:15,589 minium.Conn8480 connection#653 __on_message] RECV < {"id":"af96f62d-b548-4f26-8338-e9f1c7f5f909","result":{}}
[D 2024-05-22 14:54:15,591 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"4be9f5ba-c5ff-4465-be0d-dd4ab97f06a5","method":"App.addBinding","params":{"name":"showToast_before_1716404055590"}}
[D 2024-05-22 14:54:15,600 minium.Conn8480 connection#653 __on_message] RECV < {"id":"4be9f5ba-c5ff-4465-be0d-dd4ab97f06a5","result":{}}
[D 2024-05-22 14:54:15,602 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"6a1e16ad-a6a7-4827-b96d-f198ab8c77a6","method":"App.addBinding","params":{"name":"showToast_callback_1716404055590"}}
[D 2024-05-22 14:54:15,610 minium.Conn8480 connection#653 __on_message] RECV < {"id":"6a1e16ad-a6a7-4827-b96d-f198ab8c77a6","result":{}}
[D 2024-05-22 14:54:15,611 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:54:15,612 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"4609c65c-9d00-43cd-b2a6-6b4a1d209af8","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404055590,after:undefined,callback:showToast_callback_1716404055590},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404055590,true]}}
[D 2024-05-22 14:54:15,686 minium.Conn8480 connection#653 __on_message] RECV < {"id":"4609c65c-9d00-43cd-b2a6-6b4a1d209af8","result":{}}
[D 2024-05-22 14:54:15,689 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"4974419b-f25f-4c82-bf77-5dc40823b630","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:54:15,703 minium.Conn8480 connection#653 __on_message] RECV < {"id":"4974419b-f25f-4c82-bf77-5dc40823b630","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:54:15,705 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:54:15,706 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"650ec4bf-1697-467e-b06b-951c14d61d6a","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:54:15,727 minium.Conn8480 connection#653 __on_message] RECV < {"id":"650ec4bf-1697-467e-b06b-951c14d61d6a","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:54:15,728 minium.Conn8480 connection#417 _safely_send] ASYNC_SEND > {"id":"c6e7412e-8b3a-4aef-a568-a79f2dab2318","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:54:15,914 minium.Conn8480 connection#653 __on_message] RECV < {"id":"c6e7412e-8b3a-4aef-a568-a79f2dab2318","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:54:15,915 minium.Conn8480 connection#697 _handle_async_msg] received async msg: c6e7412e-8b3a-4aef-a568-a79f2dab2318
[D 2024-05-22 14:54:17,934 minium.Conn8480 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404057870},1716404057873]}}
[I 2024-05-22 14:54:17,935 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404057870}, 1716404057873]}
[D 2024-05-22 14:54:17,937 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"ccdf98ff-4a82-4e8c-a20b-51c87bd552e9","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:54:17,942 minium.Conn8480 connection#653 __on_message] RECV < {"id":"ccdf98ff-4a82-4e8c-a20b-51c87bd552e9","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:54:20,943 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"60c1d9ba-7c26-4830-bb70-d1d388a1fe21","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:54:20,952 minium.Conn8480 connection#653 __on_message] RECV < {"id":"60c1d9ba-7c26-4830-bb70-d1d388a1fe21","result":{"result":false}}
[D 2024-05-22 14:54:20,955 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:54:20,955 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"ce559bab-d693-4dd3-94bd-bc0ee066d2d8","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:54:20,967 minium.Conn8480 connection#653 __on_message] RECV < {"id":"ce559bab-d693-4dd3-94bd-bc0ee066d2d8","result":{}}
[D 2024-05-22 14:54:20,968 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"d17388b9-0212-4a55-9fd1-f9592a494e4e","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:54:21,691 minium.Conn8480 connection#653 __on_message] RECV < {"id":"d17388b9-0212-4a55-9fd1-f9592a494e4e","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:54:21,694 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"faa181ca-299d-4581-9b4d-530845bb0954","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:54:21,704 minium.Conn8480 connection#653 __on_message] RECV < {"id":"faa181ca-299d-4581-9b4d-530845bb0954","result":{}}
[D 2024-05-22 14:54:21,705 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"8929f85b-3b01-421c-b9eb-4477e5cab0e5","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:54:21,710 minium.Conn8480 connection#653 __on_message] RECV < {"id":"8929f85b-3b01-421c-b9eb-4477e5cab0e5","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:54:21,712 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"4f50745b-766f-42db-9c3f-305eb48f5212","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:54:21,720 minium.Conn8480 connection#651 __on_message] RECV < {"id":"4f50745b-766f-42db-9c3f-305eb48f5212","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":42,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:54:21,722 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:54:21,724 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:54:21,724 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:54:21,724 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:54:21,725 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:54:21,725 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:54:21,725 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:54:21,726 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:54:21,726 minium.Conn8480 connection#417 _safely_send] ASYNC_SEND > {"id":"288bb944-0299-4615-8035-2b1ca84eeb3a","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:54:21,824 minium.Conn8480 connection#653 __on_message] RECV < {"id":"288bb944-0299-4615-8035-2b1ca84eeb3a","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:54:21,825 minium.Conn8480 connection#697 _handle_async_msg] received async msg: 288bb944-0299-4615-8035-2b1ca84eeb3a
[I 2024-05-22 14:54:21,826 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:54:21,827 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:54:21,827 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"739408d9-148e-4b04-ada6-47a247648582","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:54:21,970 minium.Conn8480 connection#651 __on_message] RECV < {"id":"739408d9-148e-4b04-ada6-47a247648582","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:54:21,972 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:54:21,972 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:54:21,973 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"6abd780e-46fa-41fc-a370-0c4565299ed6","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:54:21,978 minium.Conn8480 connection#653 __on_message] RECV < {"id":"6abd780e-46fa-41fc-a370-0c4565299ed6","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:54:21,979 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:54:31,981 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:54:31,982 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:54:31,982 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:54:31,983 minium.Conn8480 connection#417 _safely_send] SEND > {"id":"9a38478f-812f-49df-b51e-47efe1ad6cfb","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:54:32,077 minium.Conn8480 connection#651 __on_message] RECV < {"id":"9a38478f-812f-49df-b51e-47efe1ad6cfb","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 14:54:32,079 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:54:32,079 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:54:32,079 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:54:32,085 minium.Conn8480 connection#417 _safely_send] ASYNC_SEND > {"id":"482cbb1a-9992-4848-b0e8-da897be594e1","method":"Tool.close","params":{}}
[D 2024-05-22 14:54:32,087 minium.Conn8480 connection#653 __on_message] RECV < {"id":"482cbb1a-9992-4848-b0e8-da897be594e1","result":{}}
[I 2024-05-22 14:54:32,087 minium.Conn8480 connection#697 _handle_async_msg] received async msg: 482cbb1a-9992-4848-b0e8-da897be594e1, maybe command ignore response
[E 2024-05-22 14:54:32,109 minium.Conn8480 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:54:32,110 minium.Conn8480 connection#697 _handle_async_msg] received async msg: a6291ef9-b481-4bf5-b447-2f2fc61546a7
[I 2024-05-22 14:54:32,110 minium.Conn8480 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:54:33,577 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:54:33,578 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:54:33,578 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:54:33,579 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:54:33,579 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4b7fbaa1c41967fe" --auto-port 9420
[I 2024-05-22 14:54:39,454 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:54:39,454 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:54:44,458 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:54:45,160 minium.Conn4992 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:54:45,161 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"21dc8817-e04c-49e9-bb76-e5dbb800ffe7","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:54:45,168 minium.Conn4992 connection#653 __on_message] RECV < {"id":"21dc8817-e04c-49e9-bb76-e5dbb800ffe7","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:54:45,170 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"31ff4b79-3b6a-4bef-93c7-0f751415903b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:55:04,472 minium.Conn4992 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"This application has not registered any plugins yet.","stack":"Error: This application has not registered any plugins yet.\n    at http://127.0.0.1:31580/appservice/__dev__/WASubContext.js?t=wechat&s=1716404080337&v=3.4.3:1:516011\n    at I (http://127.0.0.1:31580/appservice/__dev__/WASubContext.js?t=wechat&s=1716404080337&v=3.4.3:1:516078)\n    at http://127.0.0.1:31580/appservice/pages/postvc4/postvc4.js:11:7\n    at http://127.0.0.1:31580/appservice...
[D 2024-05-22 14:55:05,951 minium.Conn4992 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:55:05,962 minium.Conn4992 connection#651 __on_message] RECV < {"id":"31ff4b79-3b6a-4bef-93c7-0f751415903b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":41,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:55:05,964 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:55:05,966 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"9b78dcc5-5749-427e-a0a6-8c6f1c2d05ef","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:55:05,979 minium.Conn4992 connection#653 __on_message] RECV < {"id":"9b78dcc5-5749-427e-a0a6-8c6f1c2d05ef","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:55:05,980 minium.Conn4992 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:55:05,981 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"b36930e8-a117-47ff-9c0f-c05aff1d24c6","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:55:05,988 minium.Conn4992 connection#653 __on_message] RECV < {"id":"b36930e8-a117-47ff-9c0f-c05aff1d24c6","result":{}}
[D 2024-05-22 14:55:05,989 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"abd83602-fb26-4d76-b6eb-e8c8a3b4dd6e","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:55:06,000 minium.Conn4992 connection#653 __on_message] RECV < {"id":"abd83602-fb26-4d76-b6eb-e8c8a3b4dd6e","result":{}}
[D 2024-05-22 14:55:06,002 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:55:06,003 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"fefcaf7e-2f78-4abe-a7da-9abd21faaa8c","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:55:06,012 minium.Conn4992 connection#653 __on_message] RECV < {"id":"fefcaf7e-2f78-4abe-a7da-9abd21faaa8c","result":{}}
[D 2024-05-22 14:55:06,013 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:55:06,015 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"94a5fa4a-acf2-40a0-bc95-e0dce58a5b4f","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:55:06,029 minium.Conn4992 connection#653 __on_message] RECV < {"id":"94a5fa4a-acf2-40a0-bc95-e0dce58a5b4f","result":{}}
[D 2024-05-22 14:55:06,030 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:55:06,031 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"981053e3-4490-4e7d-996f-9d6cba57ce48","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:55:06,041 minium.Conn4992 connection#653 __on_message] RECV < {"id":"981053e3-4490-4e7d-996f-9d6cba57ce48","result":{"result":true}}
[D 2024-05-22 14:55:06,043 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"54558c48-995a-4cd1-82f1-c4c7407a40b6","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:55:06,054 minium.Conn4992 connection#651 __on_message] RECV < {"id":"54558c48-995a-4cd1-82f1-c4c7407a40b6","result":{"result":{"pages":["pages/index/index","pages/yanglebao/yanglebao","pages/chatvc/chatvc","pages/planlist/planlist","pages/mine/mine","pages/setname/setname","pages/getphone/getphone","pages/postvc4/postvc4","pages/postvc5/postvc5","pages/selectcumty/selectcumty","pages/plantdetail/plantdetail","pages/personpicvc/personpicvc","pages/personpicvc1/personpicvc1","pages/mychat/mychat","pages/pstypevc/pstypevc","pages/webview/webview","pages/mycollect/myco...
[D 2024-05-22 14:55:06,056 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"02fb93cc-2bb4-4890-9333-a6048a590c57","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:55:06,064 minium.Conn4992 connection#653 __on_message] RECV < {"id":"02fb93cc-2bb4-4890-9333-a6048a590c57","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:55:06,066 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"2b72752e-cdd4-4d85-a131-5b6a6e847bf6","method":"App.addBinding","params":{"name":"showModal_before_1716404106066"}}
[D 2024-05-22 14:55:06,076 minium.Conn4992 connection#653 __on_message] RECV < {"id":"2b72752e-cdd4-4d85-a131-5b6a6e847bf6","result":{}}
[D 2024-05-22 14:55:06,077 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"e67b88b2-78e4-4568-a345-3d6901270313","method":"App.addBinding","params":{"name":"showModal_callback_1716404106066"}}
[D 2024-05-22 14:55:06,085 minium.Conn4992 connection#653 __on_message] RECV < {"id":"e67b88b2-78e4-4568-a345-3d6901270313","result":{}}
[D 2024-05-22 14:55:06,086 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:55:06,088 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"fa5408cf-5772-485e-b990-483f4b70bed2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404106066,after:undefined,callback:showModal_callback_1716404106066},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404106066,true]}}
[D 2024-05-22 14:55:06,095 minium.Conn4992 connection#653 __on_message] RECV < {"id":"fa5408cf-5772-485e-b990-483f4b70bed2","result":{}}
[D 2024-05-22 14:55:06,097 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"53102b62-4105-43f5-a280-eefdd879fba2","method":"App.addBinding","params":{"name":"showToast_before_1716404106097"}}
[D 2024-05-22 14:55:06,107 minium.Conn4992 connection#653 __on_message] RECV < {"id":"53102b62-4105-43f5-a280-eefdd879fba2","result":{}}
[D 2024-05-22 14:55:06,109 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"bef61222-70f9-4289-a87e-5ca185a1c9e0","method":"App.addBinding","params":{"name":"showToast_callback_1716404106097"}}
[D 2024-05-22 14:55:06,118 minium.Conn4992 connection#653 __on_message] RECV < {"id":"bef61222-70f9-4289-a87e-5ca185a1c9e0","result":{}}
[D 2024-05-22 14:55:06,119 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:55:06,120 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"9f077e2c-2f94-4248-9024-0ad33a9ac929","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404106097,after:undefined,callback:showToast_callback_1716404106097},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404106097,true]}}
[D 2024-05-22 14:55:06,131 minium.Conn4992 connection#653 __on_message] RECV < {"id":"9f077e2c-2f94-4248-9024-0ad33a9ac929","result":{}}
[D 2024-05-22 14:55:06,136 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"82ff41a1-2a76-428e-967b-3e0a6eee268d","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:55:06,174 minium.Conn4992 connection#653 __on_message] RECV < {"id":"82ff41a1-2a76-428e-967b-3e0a6eee268d","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:55:06,176 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:55:06,177 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"0a29c164-6082-424e-8576-46c95bffb846","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:55:06,205 minium.Conn4992 connection#653 __on_message] RECV < {"id":"0a29c164-6082-424e-8576-46c95bffb846","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:55:06,209 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"4aca5819-31fa-42d2-952b-f332ec97566e","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:55:06,392 minium.Conn4992 connection#653 __on_message] RECV < {"id":"4aca5819-31fa-42d2-952b-f332ec97566e","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:55:06,393 minium.Conn4992 connection#697 _handle_async_msg] received async msg: 4aca5819-31fa-42d2-952b-f332ec97566e
[D 2024-05-22 14:55:07,390 minium.Conn4992 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404107250},1716404107255]}}
[I 2024-05-22 14:55:07,392 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404107250}, 1716404107255]}
[D 2024-05-22 14:55:07,399 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"a1468305-7934-4eb7-862f-14682cf1e61d","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:55:07,415 minium.Conn4992 connection#653 __on_message] RECV < {"id":"a1468305-7934-4eb7-862f-14682cf1e61d","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:55:07,419 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"c2375553-327b-4467-bca9-1e91ec5dd3e3","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:55:07,438 minium.Conn4992 connection#653 __on_message] RECV < {"id":"c2375553-327b-4467-bca9-1e91ec5dd3e3","result":{"result":false}}
[D 2024-05-22 14:55:07,440 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:55:07,442 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"64690978-0c10-4106-8a50-ee2ce0f527b3","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:55:07,469 minium.Conn4992 connection#653 __on_message] RECV < {"id":"64690978-0c10-4106-8a50-ee2ce0f527b3","result":{}}
[D 2024-05-22 14:55:07,470 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"1e20f1e3-2dff-43ba-8279-87b92f48f7df","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:55:08,261 minium.Conn4992 connection#653 __on_message] RECV < {"id":"1e20f1e3-2dff-43ba-8279-87b92f48f7df","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:55:08,264 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"5a98497c-2216-4bd0-9f18-4b56ef64d16d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:55:08,292 minium.Conn4992 connection#653 __on_message] RECV < {"id":"5a98497c-2216-4bd0-9f18-4b56ef64d16d","result":{}}
[D 2024-05-22 14:55:08,294 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"b18bd106-9ea5-4815-b8a6-0a0f43a4ca7e","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:55:08,304 minium.Conn4992 connection#653 __on_message] RECV < {"id":"b18bd106-9ea5-4815-b8a6-0a0f43a4ca7e","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:55:08,305 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"605c3082-977b-4a24-978a-59401b8f28ae","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:55:08,326 minium.Conn4992 connection#651 __on_message] RECV < {"id":"605c3082-977b-4a24-978a-59401b8f28ae","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":41,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:55:08,329 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:55:08,334 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:55:08,335 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:55:08,337 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:55:08,344 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:55:08,345 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:55:08,346 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:55:08,347 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 14:55:08,348 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"1a708f55-8be6-4b89-8253-070041942f96","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:55:08,474 minium.Conn4992 connection#653 __on_message] RECV < {"id":"1a708f55-8be6-4b89-8253-070041942f96","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 14:55:08,476 minium.Conn4992 connection#697 _handle_async_msg] received async msg: 1a708f55-8be6-4b89-8253-070041942f96
[I 2024-05-22 14:55:08,479 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:55:08,480 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:55:08,481 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"bee40898-c0ac-457e-9c5f-a02d11e948ed","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:55:08,743 minium.Conn4992 connection#651 __on_message] RECV < {"id":"bee40898-c0ac-457e-9c5f-a02d11e948ed","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3XlAFOf9P/DP7OzFLrucciNyiKAiIh54K954GxPTmLSxTVKbX02/MWlN2vSbu02bb3N55NA0ahONZ/DG+wAFFEHkFpD7XpaFva+Z3x9PM9miwmqBZNzP66/dmWeu1TfPM8fzDJWrY6E3Tx+s6bXMT9z2FWE/9i4g1PcEP/YOIIQeHAYYIR7DACPEYxhghHgMA4wQj2GAEeIxDDBCPIYBRojHfrQAzx8i/8f0QXed/uIYL8cph5YG+0jpgdovhPhE+GPvQHeXG42/G+O1JV9jtt/zEbGLj4VSFLD3mP/kiaY6ra2/9g+hn5IBDfALCZ6LI9zJZ4mQktDU6UdCuLlzDtTPCZMFyYXflWsfH6b4tkzbQ4aXpD...
[I 2024-05-22 14:55:08,748 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:55:08,749 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:55:08,750 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"9100553b-d463-41e1-a5cf-e6d6c632e409","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:55:08,786 minium.Conn4992 connection#653 __on_message] RECV < {"id":"9100553b-d463-41e1-a5cf-e6d6c632e409","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:55:08,788 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 14:55:18,789 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:55:18,791 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:55:18,791 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:55:18,792 minium.Conn4992 connection#417 _safely_send] SEND > {"id":"77123b92-bee7-43bf-be7f-e6b8c2c1a475","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:55:18,966 minium.Conn4992 connection#651 __on_message] RECV < {"id":"77123b92-bee7-43bf-be7f-e6b8c2c1a475","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXe8HddxJvhVndPdN7yIhweAAJFJgCAJAgyiGMycRImkKFHBErWSLI89smV7vJbtXWvsnfU6jGfGlkdaWU6SPZZl5WhJpBgkUcwRDGAAM0DEh5ffu6m7z6naP07fiwsQJAESoMKifiRwcV+/7nO6T52q+uqranps1uOV5L3f3PqKx/yUyxfetvgnPYQjckQOvfBPegBH5IgckVcvRxT4iByRn2E5osBH5Ij8DMsRBT4iR+RnWA6BAkdHNoEjckR+QmIzolc8SF/6RyfNTT5+/vAV39ze8i9z1E9eDmSaR+SIvFhYwYB2tIBJAEC9avjSCgHUWV+qCkChAIi6fvAqRRXqSRViQIARUvGaeSci1kT2tZz77I...
[I 2024-05-22 14:55:18,968 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:55:18,969 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:55:18,969 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:55:18,975 minium.Conn4992 connection#417 _safely_send] ASYNC_SEND > {"id":"e9789b86-0a88-42f9-8085-8fc5f60da8a3","method":"Tool.close","params":{}}
[D 2024-05-22 14:55:18,978 minium.Conn4992 connection#653 __on_message] RECV < {"id":"e9789b86-0a88-42f9-8085-8fc5f60da8a3","result":{}}
[I 2024-05-22 14:55:18,978 minium.Conn4992 connection#697 _handle_async_msg] received async msg: e9789b86-0a88-42f9-8085-8fc5f60da8a3, maybe command ignore response
[E 2024-05-22 14:55:19,001 minium.Conn4992 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:55:19,002 minium.Conn4992 connection#697 _handle_async_msg] received async msg: e3ee23e7-05d4-468f-8bfe-689742417d91
[I 2024-05-22 14:55:19,003 minium.Conn4992 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 14:55:20,571 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 14:55:20,573 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 14:55:20,573 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 14:55:20,574 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 14:55:20,575 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxafc30d8c2288eb78" --auto-port 9420
[I 2024-05-22 14:55:25,940 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:32836
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 14:55:25,941 minium minium_object#102 _do_shell] out:

[I 2024-05-22 14:55:30,946 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 14:55:31,009 minium.Conn3520 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 14:55:31,010 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"1ab95a93-4166-466f-9981-b2d519a8d69f","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:55:31,036 minium.Conn3520 connection#653 __on_message] RECV < {"id":"1ab95a93-4166-466f-9981-b2d519a8d69f","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:55:31,038 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"1009dcee-5afc-4fe6-9440-fb9f9c8fa4f5","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:55:48,223 minium.Conn3520 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 14:55:48,225 minium.Conn3520 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:17140:21)\n    at Object.scriptLoaded (<anonymous>:17168:5)\n    at Object.<anonymous> (<anonymous>:17193:22)"}}
[D 2024-05-22 14:55:49,851 minium.Conn3520 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 14:55:49,858 minium.Conn3520 connection#651 __on_message] RECV < {"id":"1009dcee-5afc-4fe6-9440-fb9f9c8fa4f5","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":41,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 14:55:49,860 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 14:55:49,861 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"cb4c8ac8-94d3-4f56-b882-856393566733","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 14:55:49,879 minium.Conn3520 connection#653 __on_message] RECV < {"id":"cb4c8ac8-94d3-4f56-b882-856393566733","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 14:55:49,879 minium.Conn3520 connection#283 remove] remove key which is not in observers
[D 2024-05-22 14:55:49,880 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"b9afc44f-1588-420a-af94-74eb46c62b32","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 14:55:49,888 minium.Conn3520 connection#653 __on_message] RECV < {"id":"b9afc44f-1588-420a-af94-74eb46c62b32","result":{}}
[D 2024-05-22 14:55:49,889 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"c09a6768-f75a-4407-af8b-052f860acd18","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 14:55:49,906 minium.Conn3520 connection#653 __on_message] RECV < {"id":"c09a6768-f75a-4407-af8b-052f860acd18","result":{}}
[D 2024-05-22 14:55:49,907 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 14:55:49,908 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"c4b7cade-ea03-41eb-835d-f7dd946a37e1","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 14:55:49,919 minium.Conn3520 connection#653 __on_message] RECV < {"id":"c4b7cade-ea03-41eb-835d-f7dd946a37e1","result":{}}
[D 2024-05-22 14:55:49,920 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 14:55:49,920 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"6517f3fe-2a29-4e9f-8851-389eadaebb5d","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 14:55:49,940 minium.Conn3520 connection#653 __on_message] RECV < {"id":"6517f3fe-2a29-4e9f-8851-389eadaebb5d","result":{}}
[D 2024-05-22 14:55:49,940 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 14:55:49,941 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"db472bb7-bdab-4ac0-af6c-3a9485a69ec0","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 14:55:49,965 minium.Conn3520 connection#653 __on_message] RECV < {"id":"db472bb7-bdab-4ac0-af6c-3a9485a69ec0","result":{"result":true}}
[D 2024-05-22 14:55:49,966 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"e79db0c5-2760-42e0-9c2a-505b8a7fc3d2","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 14:55:49,986 minium.Conn3520 connection#651 __on_message] RECV < {"id":"e79db0c5-2760-42e0-9c2a-505b8a7fc3d2","result":{"result":{"pages":["pages/index/index","pages/cart/cart","pages/goods/goods","pages/list/list","pages/user/user","pages/search/search","pages/order-submit/order-submit","pages/order/order","pages/order-detail/order-detail","pages/address/address","pages/address-edit/address-edit","pages/address-picker/address-picker","pages/test/test","pages/favorite/favorite","pages/order-refund/order-refund","pages/order-refund-detail/order-refund-detail","pages/ad...
[D 2024-05-22 14:55:49,990 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"706a19e1-880b-47b0-9674-aede3385c47d","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 14:55:50,010 minium.Conn3520 connection#653 __on_message] RECV < {"id":"706a19e1-880b-47b0-9674-aede3385c47d","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 14:55:50,012 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"68c0569f-1fab-46b8-b38f-d31b74bcfe8f","method":"App.addBinding","params":{"name":"showModal_before_1716404150011"}}
[D 2024-05-22 14:55:50,027 minium.Conn3520 connection#653 __on_message] RECV < {"id":"68c0569f-1fab-46b8-b38f-d31b74bcfe8f","result":{}}
[D 2024-05-22 14:55:50,028 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"50b87541-2500-451e-81a8-6644985bc147","method":"App.addBinding","params":{"name":"showModal_callback_1716404150011"}}
[D 2024-05-22 14:55:50,041 minium.Conn3520 connection#653 __on_message] RECV < {"id":"50b87541-2500-451e-81a8-6644985bc147","result":{}}
[D 2024-05-22 14:55:50,045 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:55:50,048 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"ef5df4ca-0aae-49f3-bac3-3efc316fa0e0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404150011,after:undefined,callback:showModal_callback_1716404150011},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404150011,true]}}
[D 2024-05-22 14:55:50,061 minium.Conn3520 connection#653 __on_message] RECV < {"id":"ef5df4ca-0aae-49f3-bac3-3efc316fa0e0","result":{}}
[D 2024-05-22 14:55:50,062 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"73d4c452-d551-40d3-ac4a-5be4c4c58584","method":"App.addBinding","params":{"name":"showToast_before_1716404150062"}}
[D 2024-05-22 14:55:50,069 minium.Conn3520 connection#653 __on_message] RECV < {"id":"73d4c452-d551-40d3-ac4a-5be4c4c58584","result":{}}
[D 2024-05-22 14:55:50,071 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"9204a383-e279-49b7-8f4e-0f3b211a2c2d","method":"App.addBinding","params":{"name":"showToast_callback_1716404150062"}}
[D 2024-05-22 14:55:50,077 minium.Conn3520 connection#653 __on_message] RECV < {"id":"9204a383-e279-49b7-8f4e-0f3b211a2c2d","result":{}}
[D 2024-05-22 14:55:50,078 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 14:55:50,079 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"dfcb67ef-d07d-4f8d-974e-b1765528b8ea","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404150062,after:undefined,callback:showToast_callback_1716404150062},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404150062,true]}}
[D 2024-05-22 14:55:50,087 minium.Conn3520 connection#653 __on_message] RECV < {"id":"dfcb67ef-d07d-4f8d-974e-b1765528b8ea","result":{}}
[D 2024-05-22 14:55:50,095 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"5d4f5506-963d-4e0d-8b4c-0dc66c005bde","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 14:55:50,104 minium.Conn3520 connection#653 __on_message] RECV < {"id":"5d4f5506-963d-4e0d-8b4c-0dc66c005bde","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 14:55:50,106 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:55:50,109 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"45dded9e-3f2d-4886-9180-68f881af7cc0","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:55:50,134 minium.Conn3520 connection#653 __on_message] RECV < {"id":"45dded9e-3f2d-4886-9180-68f881af7cc0","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 14:55:50,136 minium.Conn3520 connection#417 _safely_send] ASYNC_SEND > {"id":"92ad4e26-7266-4485-9854-f9bb87104c64","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:55:50,302 minium.Conn3520 connection#653 __on_message] RECV < {"id":"92ad4e26-7266-4485-9854-f9bb87104c64","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:55:50,303 minium.Conn3520 connection#697 _handle_async_msg] received async msg: 92ad4e26-7266-4485-9854-f9bb87104c64
[D 2024-05-22 14:55:51,430 minium.Conn3520 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404151411},1716404151415]}}
[I 2024-05-22 14:55:51,433 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404151411}, 1716404151415]}
[D 2024-05-22 14:55:51,435 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"db415f64-eacb-4a97-98e0-3e317819e470","method":"Tool.getInfo","params":{}}
[D 2024-05-22 14:55:51,466 minium.Conn3520 connection#653 __on_message] RECV < {"id":"db415f64-eacb-4a97-98e0-3e317819e470","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 14:55:51,467 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"c26da154-c51a-4fd1-919d-0b4725d30ab3","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 14:55:51,479 minium.Conn3520 connection#653 __on_message] RECV < {"id":"c26da154-c51a-4fd1-919d-0b4725d30ab3","result":{"result":false}}
[D 2024-05-22 14:55:51,482 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 14:55:51,485 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"22e66b1b-5b6c-49ce-b3ca-550dfea19864","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 14:55:51,521 minium.Conn3520 connection#653 __on_message] RECV < {"id":"22e66b1b-5b6c-49ce-b3ca-550dfea19864","result":{}}
[D 2024-05-22 14:55:51,522 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"ac90791e-85dd-47bf-a031-6af545bf89c5","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 14:55:52,310 minium.Conn3520 connection#653 __on_message] RECV < {"id":"ac90791e-85dd-47bf-a031-6af545bf89c5","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 14:55:52,312 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"92fbbea2-e254-42f3-9afd-6064a4db8342","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 14:55:52,331 minium.Conn3520 connection#653 __on_message] RECV < {"id":"92fbbea2-e254-42f3-9afd-6064a4db8342","result":{}}
[D 2024-05-22 14:55:52,335 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"020018ff-082c-44c0-9b26-b0b85ef87bcf","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 14:55:52,343 minium.Conn3520 connection#653 __on_message] RECV < {"id":"020018ff-082c-44c0-9b26-b0b85ef87bcf","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 14:55:52,347 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"54382027-6e99-48c6-803c-f9b1e336c2ea","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 14:55:52,373 minium.Conn3520 connection#651 __on_message] RECV < {"id":"54382027-6e99-48c6-803c-f9b1e336c2ea","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":41,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 14:55:52,375 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 14:55:52,377 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 14:55:52,377 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 14:55:52,378 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 14:55:52,378 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 14:55:52,378 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 14:55:52,379 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 14:55:52,379 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 14:55:52,379 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 14:55:52,380 minium.Conn3520 connection#417 _safely_send] ASYNC_SEND > {"id":"53a8bb43-de9d-48e2-917a-ec4e2bcf4d36","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 14:55:52,528 minium.Conn3520 connection#653 __on_message] RECV < {"id":"53a8bb43-de9d-48e2-917a-ec4e2bcf4d36","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 14:55:52,528 minium.Conn3520 connection#697 _handle_async_msg] received async msg: 53a8bb43-de9d-48e2-917a-ec4e2bcf4d36
[D 2024-05-22 14:55:53,621 minium.Conn3520 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404153598},1716404153601]}}
[I 2024-05-22 14:55:53,623 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404153598}, 1716404153601]}
[I 2024-05-22 14:55:53,626 minium minitest#717 capture] capture setup.png
[I 2024-05-22 14:55:53,626 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:55:53,627 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"cef1d511-5d46-4f0f-9623-ce038f2cef08","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:55:53,767 minium.Conn3520 connection#651 __on_message] RECV < {"id":"cef1d511-5d46-4f0f-9623-ce038f2cef08","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABcpJREFUeJzt0zENACAAwDDAv1ceBOCBhyxpFezZ3PsMoGn9DgDeGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEG...
[I 2024-05-22 14:55:53,768 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:55:53,769 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 14:55:53,770 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"a967ed72-fdd5-4949-90f5-fac0e3b290b6","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 14:55:53,776 minium.Conn3520 connection#653 __on_message] RECV < {"id":"a967ed72-fdd5-4949-90f5-fac0e3b290b6","result":{"pageId":4,"path":"pages/index/index","query":{}}}
[I 2024-05-22 14:55:53,777 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/index/index, query={})
[D 2024-05-22 14:56:03,779 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 14:56:03,781 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 14:56:03,782 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 14:56:03,785 minium.Conn3520 connection#417 _safely_send] SEND > {"id":"aa6c1198-de96-4a6d-b834-84ec6e4cdf70","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 14:56:03,916 minium.Conn3520 connection#651 __on_message] RECV < {"id":"aa6c1198-de96-4a6d-b834-84ec6e4cdf70","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABcpJREFUeJzt0zENACAAwDDAv1ceBOCBhyxpFezZ3PsMoGn9DgDeGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEG...
[I 2024-05-22 14:56:03,917 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 14:56:03,918 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 14:56:03,918 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 14:56:03,929 minium.Conn3520 connection#417 _safely_send] ASYNC_SEND > {"id":"ac354500-5c14-44ab-a3df-3bf357d76add","method":"Tool.close","params":{}}
[D 2024-05-22 14:56:03,931 minium.Conn3520 connection#653 __on_message] RECV < {"id":"ac354500-5c14-44ab-a3df-3bf357d76add","result":{}}
[I 2024-05-22 14:56:03,932 minium.Conn3520 connection#697 _handle_async_msg] received async msg: ac354500-5c14-44ab-a3df-3bf357d76add, maybe command ignore response
[E 2024-05-22 14:56:03,954 minium.Conn3520 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 14:56:03,966 minium.Conn3520 connection#697 _handle_async_msg] received async msg: 2473c019-3b7a-4f35-98f7-3af1688ced76
[I 2024-05-22 14:56:03,967 minium.Conn3520 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:04:49,404 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:04:49,405 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:04:49,405 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:04:49,406 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:04:49,407 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx44f5fe051e87eb7c" --auto-port 9420
[I 2024-05-22 15:05:00,373 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 23963, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:05:00,374 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:05:05,378 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:05:05,433 minium.Conn7760 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:05:05,438 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"0172d3e2-1edf-4c16-8f4c-11a6130212bc","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:05:05,452 minium.Conn7760 connection#653 __on_message] RECV < {"id":"0172d3e2-1edf-4c16-8f4c-11a6130212bc","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:05:05,456 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"64f7979d-527c-4436-9e37-c11b315493c9","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:05:20,319 minium.Conn7760 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"This application has not registered any plugins yet.","stack":"Error: This application has not registered any plugins yet.\n    at http://127.0.0.1:25433/appservice/__dev__/WASubContext.js?t=wechat&s=1716404701437&v=3.4.3:1:516011\n    at I (http://127.0.0.1:25433/appservice/__dev__/WASubContext.js?t=wechat&s=1716404701437&v=3.4.3:1:516078)\n    at http://127.0.0.1:25433/appservice/pages/postvc4/postvc4.js?t=wechat&s=1716404701437&v=4673576e42fce06f1b3...
[D 2024-05-22 15:05:21,875 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:05:21,891 minium.Conn7760 connection#651 __on_message] RECV < {"id":"64f7979d-527c-4436-9e37-c11b315493c9","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:05:21,892 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:05:21,894 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"fb920750-6eac-4ea7-856c-4a0c9e5f6155","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:05:21,932 minium.Conn7760 connection#653 __on_message] RECV < {"id":"fb920750-6eac-4ea7-856c-4a0c9e5f6155","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:05:21,933 minium.Conn7760 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:05:21,934 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"28911a10-525b-4304-8eb9-f5e9061a03e3","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:05:21,959 minium.Conn7760 connection#653 __on_message] RECV < {"id":"28911a10-525b-4304-8eb9-f5e9061a03e3","result":{}}
[D 2024-05-22 15:05:21,960 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"ff477ad0-2b28-47a1-b0c4-37055da47887","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:05:21,988 minium.Conn7760 connection#653 __on_message] RECV < {"id":"ff477ad0-2b28-47a1-b0c4-37055da47887","result":{}}
[D 2024-05-22 15:05:21,990 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:05:21,990 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"1d8e3f6b-d820-4053-9db6-9788aed46950","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:05:22,040 minium.Conn7760 connection#653 __on_message] RECV < {"id":"1d8e3f6b-d820-4053-9db6-9788aed46950","result":{}}
[D 2024-05-22 15:05:22,041 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:05:22,043 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"9b85ce4d-96dc-448d-840e-26e8f545ddc3","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:05:22,055 minium.Conn7760 connection#653 __on_message] RECV < {"id":"9b85ce4d-96dc-448d-840e-26e8f545ddc3","result":{}}
[D 2024-05-22 15:05:22,057 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:05:22,058 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"959bb411-fe62-4072-b691-9b94ef897463","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:05:22,107 minium.Conn7760 connection#653 __on_message] RECV < {"id":"959bb411-fe62-4072-b691-9b94ef897463","result":{"result":true}}
[D 2024-05-22 15:05:22,109 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"ebd81fa7-32ad-4c85-808b-27a67844b251","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:05:22,126 minium.Conn7760 connection#651 __on_message] RECV < {"id":"ebd81fa7-32ad-4c85-808b-27a67844b251","result":{"result":{"pages":["pages/index/index","pages/yanglebao/yanglebao","pages/chatvc/chatvc","pages/planlist/planlist","pages/mine/mine","pages/setname/setname","pages/getphone/getphone","pages/postvc4/postvc4","pages/postvc5/postvc5","pages/selectcumty/selectcumty","pages/plantdetail/plantdetail","pages/personpicvc/personpicvc","pages/personpicvc1/personpicvc1","pages/mychat/mychat","pages/pstypevc/pstypevc","pages/webview/webview","pages/mycollect/myco...
[D 2024-05-22 15:05:22,128 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"36e5992f-462f-4d00-84ef-82d3f6a83096","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:05:22,141 minium.Conn7760 connection#653 __on_message] RECV < {"id":"36e5992f-462f-4d00-84ef-82d3f6a83096","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:05:22,145 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"fecc783c-7611-473c-b40f-5cbb1d14c75a","method":"App.addBinding","params":{"name":"showModal_before_1716404722145"}}
[D 2024-05-22 15:05:22,153 minium.Conn7760 connection#653 __on_message] RECV < {"id":"fecc783c-7611-473c-b40f-5cbb1d14c75a","result":{}}
[D 2024-05-22 15:05:22,154 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"4de8c991-0e2b-403a-a413-b81c0786780c","method":"App.addBinding","params":{"name":"showModal_callback_1716404722145"}}
[D 2024-05-22 15:05:22,164 minium.Conn7760 connection#653 __on_message] RECV < {"id":"4de8c991-0e2b-403a-a413-b81c0786780c","result":{}}
[D 2024-05-22 15:05:22,165 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:05:22,167 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"b9c9f8e6-335e-420b-80b5-e547d6b24d0b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404722145,after:undefined,callback:showModal_callback_1716404722145},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404722145,true]}}
[D 2024-05-22 15:05:22,174 minium.Conn7760 connection#653 __on_message] RECV < {"id":"b9c9f8e6-335e-420b-80b5-e547d6b24d0b","result":{}}
[D 2024-05-22 15:05:22,175 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"f171c8ed-57f0-4e95-a1c6-e401f8c30763","method":"App.addBinding","params":{"name":"showToast_before_1716404722175"}}
[D 2024-05-22 15:05:22,182 minium.Conn7760 connection#653 __on_message] RECV < {"id":"f171c8ed-57f0-4e95-a1c6-e401f8c30763","result":{}}
[D 2024-05-22 15:05:22,184 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"7fd18537-fc69-42f1-87dd-573aca83843e","method":"App.addBinding","params":{"name":"showToast_callback_1716404722175"}}
[D 2024-05-22 15:05:22,191 minium.Conn7760 connection#653 __on_message] RECV < {"id":"7fd18537-fc69-42f1-87dd-573aca83843e","result":{}}
[D 2024-05-22 15:05:22,192 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:05:22,193 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"a678a284-2ace-4767-ba22-459b277ed3e1","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404722175,after:undefined,callback:showToast_callback_1716404722175},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404722175,true]}}
[D 2024-05-22 15:05:22,204 minium.Conn7760 connection#653 __on_message] RECV < {"id":"a678a284-2ace-4767-ba22-459b277ed3e1","result":{}}
[D 2024-05-22 15:05:22,206 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"66b355d3-2cbf-4961-bbfd-56bc393a057f","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:05:22,213 minium.Conn7760 connection#653 __on_message] RECV < {"id":"66b355d3-2cbf-4961-bbfd-56bc393a057f","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:05:22,215 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:05:22,216 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"beebd6b1-1019-4b93-bb96-bbc82163df4b","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:05:22,227 minium.Conn7760 connection#653 __on_message] RECV < {"id":"beebd6b1-1019-4b93-bb96-bbc82163df4b","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:05:22,228 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"d0469374-b819-481d-9238-1bd5be3822a3","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:05:22,314 minium.Conn7760 connection#653 __on_message] RECV < {"id":"d0469374-b819-481d-9238-1bd5be3822a3","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:05:22,314 minium.Conn7760 connection#697 _handle_async_msg] received async msg: d0469374-b819-481d-9238-1bd5be3822a3
[D 2024-05-22 15:05:23,309 minium.Conn7760 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404723263},1716404723266]}}
[I 2024-05-22 15:05:23,310 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404723263}, 1716404723266]}
[D 2024-05-22 15:05:23,312 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"49331abd-2ba1-4c19-af18-e429239ee130","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:05:23,323 minium.Conn7760 connection#653 __on_message] RECV < {"id":"49331abd-2ba1-4c19-af18-e429239ee130","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:05:23,325 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"0169eaec-4c5e-4660-9d85-d113d5925757","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:05:23,340 minium.Conn7760 connection#653 __on_message] RECV < {"id":"0169eaec-4c5e-4660-9d85-d113d5925757","result":{"result":false}}
[D 2024-05-22 15:05:23,342 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:05:23,343 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"dd3ec7ad-73e4-4b95-93d0-ba490432193a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:05:23,351 minium.Conn7760 connection#653 __on_message] RECV < {"id":"dd3ec7ad-73e4-4b95-93d0-ba490432193a","result":{}}
[D 2024-05-22 15:05:23,352 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"f2b102f5-8cf4-4b41-a9f5-860ba66b5c90","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:05:23,993 minium.Conn7760 connection#653 __on_message] RECV < {"id":"f2b102f5-8cf4-4b41-a9f5-860ba66b5c90","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:05:23,996 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"6cd21789-80a6-4e57-a1b1-0d20e3b83dfc","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:05:24,012 minium.Conn7760 connection#653 __on_message] RECV < {"id":"6cd21789-80a6-4e57-a1b1-0d20e3b83dfc","result":{}}
[D 2024-05-22 15:05:24,014 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"f7690486-633f-42a3-ac44-edae0d77d311","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:05:24,028 minium.Conn7760 connection#653 __on_message] RECV < {"id":"f7690486-633f-42a3-ac44-edae0d77d311","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:05:24,031 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"25d995fd-a7f9-4ca7-a7f6-1d8034fb10e2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:05:24,044 minium.Conn7760 connection#651 __on_message] RECV < {"id":"25d995fd-a7f9-4ca7-a7f6-1d8034fb10e2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:05:24,045 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:05:24,048 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:05:24,048 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:05:24,049 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:05:24,049 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:05:24,050 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:05:24,050 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:05:24,050 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:05:24,051 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"90aa75ef-8858-4931-91e8-c7fb6fdac322","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:05:24,137 minium.Conn7760 connection#653 __on_message] RECV < {"id":"90aa75ef-8858-4931-91e8-c7fb6fdac322","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:05:24,138 minium.Conn7760 connection#697 _handle_async_msg] received async msg: 90aa75ef-8858-4931-91e8-c7fb6fdac322
[I 2024-05-22 15:05:24,141 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:05:24,142 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:05:24,143 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"289175b7-0acf-40b4-bd89-80c584bb2226","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:05:24,411 minium.Conn7760 connection#651 __on_message] RECV < {"id":"289175b7-0acf-40b4-bd89-80c584bb2226","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXe8HddxJvhVndPdN7yIhweAAJFJgCAJAgyiGMycRImkKFHBErWSLI89smV7vJbtXWvsnfU6jGfGlkdaWU6SPZZl5WhJpBgkUcwRDGAAM0DEh5ffu6m7z6naP07fiwsQJAESoMKifiRwcV+/7nO6T52q+uqranps1uOV5L3f3PqKx/yUyxfetvgnPYQjckQOvfBPegBH5IgckVcvRxT4iByRn2E5osBH5Ij8DMsRBT4iR+RnWA6BAkdHNoEjckR+QmIzolc8SF/6RyfNTT5+/vAV39ze8i9z1E9eDmSaR+SIvFhYwYB2tIBJAEC9avjSCgHUWV+qCkChAIi6fvAqRRXqSRViQIARUvGaeSci1kT2tZz77I...
[I 2024-05-22 15:05:24,414 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:05:24,414 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:05:24,415 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"8b1cf3b6-8b05-437e-a58e-50b857ff8a05","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:05:24,427 minium.Conn7760 connection#653 __on_message] RECV < {"id":"8b1cf3b6-8b05-437e-a58e-50b857ff8a05","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:05:24,429 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:05:34,431 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:05:34,433 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:05:34,434 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:05:34,434 minium.Conn7760 connection#417 _safely_send] SEND > {"id":"37617607-bea7-4d28-8a09-279e8a04d8e7","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:05:34,646 minium.Conn7760 connection#651 __on_message] RECV < {"id":"37617607-bea7-4d28-8a09-279e8a04d8e7","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXe8HddxJvhVndPdN7yIhweAAJFJgCAJAgyiGMycRImkKFHBErWSLI89smV7vJbtXWvsnfU6jGfGlkdaWU6SPZZl5WhJpBgkUcwRDGAAM0DEh5ffu6m7z6naP07fiwsQJAESoMKifiRwcV+/7nO6T52q+uqranps1uOV5L3f3PqKx/yUyxfetvgnPYQjckQOvfBPegBH5IgckVcvRxT4iByRn2E5osBH5Ij8DMsRBT4iR+RnWA6BAkdHNoEjckR+QmIzolc8SF/6RyfNTT5+/vAV39ze8i9z1E9eDmSaR+SIvFhYwYB2tIBJAEC9avjSCgHUWV+qCkChAIi6fvAqRRXqSRViQIARUvGaeSci1kT2tZz77I...
[I 2024-05-22 15:05:34,649 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:05:34,650 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:05:34,650 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:05:34,662 minium.Conn7760 connection#417 _safely_send] ASYNC_SEND > {"id":"85cd02b7-4aba-45ac-9f71-2b60abc25053","method":"Tool.close","params":{}}
[D 2024-05-22 15:05:34,666 minium.Conn7760 connection#653 __on_message] RECV < {"id":"85cd02b7-4aba-45ac-9f71-2b60abc25053","result":{}}
[I 2024-05-22 15:05:34,666 minium.Conn7760 connection#697 _handle_async_msg] received async msg: 85cd02b7-4aba-45ac-9f71-2b60abc25053, maybe command ignore response
[E 2024-05-22 15:05:34,688 minium.Conn7760 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:05:34,688 minium.Conn7760 connection#697 _handle_async_msg] received async msg: 7b4da3ad-2d95-47a3-bb49-8667cf4fe918
[I 2024-05-22 15:05:34,689 minium.Conn7760 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:05:36,110 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:05:36,111 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:05:36,112 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:05:36,112 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:05:36,113 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx93a380ad767c58ac" --auto-port 9420
[I 2024-05-22 15:05:41,747 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:05:41,747 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:05:46,748 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:05:46,802 minium.Conn0144 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:05:46,803 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"787baad9-9085-4cd5-a5f7-efa55b088fac","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:05:46,837 minium.Conn0144 connection#653 __on_message] RECV < {"id":"787baad9-9085-4cd5-a5f7-efa55b088fac","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:05:46,839 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"c924b73e-04d3-4c4b-bd4a-05651c7b0d09","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:06:01,536 minium.Conn0144 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:06:01,537 minium.Conn0144 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:13746:21)\n    at Object.scriptLoaded (<anonymous>:13774:5)\n    at Object.<anonymous> (<anonymous>:13799:22)"}}
[D 2024-05-22 15:06:03,461 minium.Conn0144 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:06:03,467 minium.Conn0144 connection#651 __on_message] RECV < {"id":"c924b73e-04d3-4c4b-bd4a-05651c7b0d09","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":35,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:06:03,469 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:06:03,473 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"7b893a3c-bce9-4304-8966-6bcdaab277c3","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:06:03,485 minium.Conn0144 connection#653 __on_message] RECV < {"id":"7b893a3c-bce9-4304-8966-6bcdaab277c3","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:06:03,486 minium.Conn0144 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:06:03,487 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"d08cb80f-84e5-4d05-b512-da656999f6fa","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:06:03,499 minium.Conn0144 connection#653 __on_message] RECV < {"id":"d08cb80f-84e5-4d05-b512-da656999f6fa","result":{}}
[D 2024-05-22 15:06:03,501 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"116211c1-942f-4f8c-b944-0f5d46c9ef82","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:06:03,530 minium.Conn0144 connection#653 __on_message] RECV < {"id":"116211c1-942f-4f8c-b944-0f5d46c9ef82","result":{}}
[D 2024-05-22 15:06:03,531 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:06:03,532 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"0e7ca744-1367-4628-bd81-07545233ecd1","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:06:03,545 minium.Conn0144 connection#653 __on_message] RECV < {"id":"0e7ca744-1367-4628-bd81-07545233ecd1","result":{}}
[D 2024-05-22 15:06:03,546 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:06:03,547 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"2c23031c-34d3-45a6-b907-46f06b30acbc","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:06:03,562 minium.Conn0144 connection#653 __on_message] RECV < {"id":"2c23031c-34d3-45a6-b907-46f06b30acbc","result":{}}
[D 2024-05-22 15:06:03,563 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:06:03,563 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"ec063bbd-63a3-4999-899f-1411ef80220b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:06:03,574 minium.Conn0144 connection#653 __on_message] RECV < {"id":"ec063bbd-63a3-4999-899f-1411ef80220b","result":{"result":true}}
[D 2024-05-22 15:06:03,575 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"ffc171f9-7522-4b95-992b-e4306e1e41a6","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:06:03,630 minium.Conn0144 connection#651 __on_message] RECV < {"id":"ffc171f9-7522-4b95-992b-e4306e1e41a6","result":{"result":{"pages":["pages/shopping/shopping/fast","pages/shopping/nearstore/nearstore","pages/shopping/combo/combo","pages/shopping/shoppingcart/shoppingcart","pages/shopping/placeorder/payment","pages/shopping/placeorder/address","pages/shopping/details/details","pages/shopping/orderhistory/orderhistory","pages/shopping/orderhistory/order","pages/shopping/orderhistory/orderByDate","pages/shopping/share/share","pages/shopping/customerService/customer...
[D 2024-05-22 15:06:03,631 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"dd88de52-0db5-422f-8579-d7fc6820bfb7","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:06:03,658 minium.Conn0144 connection#653 __on_message] RECV < {"id":"dd88de52-0db5-422f-8579-d7fc6820bfb7","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:06:03,664 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"7c38f91c-3114-4364-a324-42df02c93480","method":"App.addBinding","params":{"name":"showModal_before_1716404763663"}}
[D 2024-05-22 15:06:03,688 minium.Conn0144 connection#653 __on_message] RECV < {"id":"7c38f91c-3114-4364-a324-42df02c93480","result":{}}
[D 2024-05-22 15:06:03,692 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"39807765-64cd-4824-b326-fd0672a5846a","method":"App.addBinding","params":{"name":"showModal_callback_1716404763663"}}
[D 2024-05-22 15:06:03,704 minium.Conn0144 connection#653 __on_message] RECV < {"id":"39807765-64cd-4824-b326-fd0672a5846a","result":{}}
[D 2024-05-22 15:06:03,707 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:06:03,709 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"b623787d-6d97-45c3-812b-ccb302fa7e28","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404763663,after:undefined,callback:showModal_callback_1716404763663},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404763663,true]}}
[D 2024-05-22 15:06:03,747 minium.Conn0144 connection#653 __on_message] RECV < {"id":"b623787d-6d97-45c3-812b-ccb302fa7e28","result":{}}
[D 2024-05-22 15:06:03,749 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"5f457c7d-5a73-4b86-aad0-4f118bac5569","method":"App.addBinding","params":{"name":"showToast_before_1716404763749"}}
[D 2024-05-22 15:06:03,761 minium.Conn0144 connection#653 __on_message] RECV < {"id":"5f457c7d-5a73-4b86-aad0-4f118bac5569","result":{}}
[D 2024-05-22 15:06:03,763 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"f3497280-cc29-48d5-a69e-1603aaaff34c","method":"App.addBinding","params":{"name":"showToast_callback_1716404763749"}}
[D 2024-05-22 15:06:03,768 minium.Conn0144 connection#653 __on_message] RECV < {"id":"f3497280-cc29-48d5-a69e-1603aaaff34c","result":{}}
[D 2024-05-22 15:06:03,770 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:06:03,771 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"d49cabfc-9997-431e-a3d4-c05b4a59a079","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404763749,after:undefined,callback:showToast_callback_1716404763749},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404763749,true]}}
[D 2024-05-22 15:06:03,780 minium.Conn0144 connection#653 __on_message] RECV < {"id":"d49cabfc-9997-431e-a3d4-c05b4a59a079","result":{}}
[D 2024-05-22 15:06:03,782 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"192b51cd-2a34-4ac1-aeba-3fb8befc2ee7","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:06:03,791 minium.Conn0144 connection#653 __on_message] RECV < {"id":"192b51cd-2a34-4ac1-aeba-3fb8befc2ee7","result":{"result":{"path":"pages/shopping/shopping/fast","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:06:03,793 minium app#731 relaunch] ReLaunch: /pages/shopping/shopping/fast
[D 2024-05-22 15:06:03,795 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"c9dbc317-0e7d-4772-8da9-a4c31971638c","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:06:03,803 minium.Conn0144 connection#653 __on_message] RECV < {"id":"c9dbc317-0e7d-4772-8da9-a4c31971638c","result":{"pageId":1,"path":"pages/shopping/shopping/fast","query":{}}}
[D 2024-05-22 15:06:03,805 minium.Conn0144 connection#417 _safely_send] ASYNC_SEND > {"id":"91c00209-6b50-42e6-aae2-c27c0feffa23","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/shopping/shopping/fast"}]}}
[D 2024-05-22 15:06:03,935 minium.Conn0144 connection#653 __on_message] RECV < {"id":"91c00209-6b50-42e6-aae2-c27c0feffa23","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:06:03,936 minium.Conn0144 connection#697 _handle_async_msg] received async msg: 91c00209-6b50-42e6-aae2-c27c0feffa23
[D 2024-05-22 15:06:05,229 minium.Conn0144 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/shopping/shopping/fast","query":{},"openType":"reLaunch","__ts__":1716404765199},1716404765202]}}
[I 2024-05-22 15:06:05,230 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/shopping/shopping/fast', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404765199}, 1716404765202]}
[D 2024-05-22 15:06:05,231 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"07aef78a-1435-43f8-981f-a15adfca7baa","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:06:05,254 minium.Conn0144 connection#653 __on_message] RECV < {"id":"07aef78a-1435-43f8-981f-a15adfca7baa","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:06:05,256 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"c68e48c6-e0a8-4664-ae6b-957cdab732e9","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:06:05,278 minium.Conn0144 connection#653 __on_message] RECV < {"id":"c68e48c6-e0a8-4664-ae6b-957cdab732e9","result":{"result":false}}
[D 2024-05-22 15:06:05,280 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:06:05,281 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"94819cf9-5a4c-4406-8ab1-5f01b1d3004b","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:06:05,315 minium.Conn0144 connection#653 __on_message] RECV < {"id":"94819cf9-5a4c-4406-8ab1-5f01b1d3004b","result":{}}
[D 2024-05-22 15:06:05,316 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"753762b9-a5ad-49c1-b7b4-eb74bbd78cae","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:06:06,008 minium.Conn0144 connection#653 __on_message] RECV < {"id":"753762b9-a5ad-49c1-b7b4-eb74bbd78cae","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:06:06,009 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"c724a7f8-602e-45cd-912b-013f88beb2e6","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:06:06,015 minium.Conn0144 connection#653 __on_message] RECV < {"id":"c724a7f8-602e-45cd-912b-013f88beb2e6","result":{}}
[D 2024-05-22 15:06:06,017 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"1ac9ae8f-73b7-498d-8f19-891be2c9e07f","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:06:06,022 minium.Conn0144 connection#653 __on_message] RECV < {"id":"1ac9ae8f-73b7-498d-8f19-891be2c9e07f","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:06:06,023 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"5263d1c9-633e-4397-b11f-22713c041a7f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:06:06,032 minium.Conn0144 connection#651 __on_message] RECV < {"id":"5263d1c9-633e-4397-b11f-22713c041a7f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":35,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:06:06,033 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:06:06,035 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:06:06,035 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:06:06,036 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:06:06,036 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:06:06,037 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:06:06,037 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:06:06,037 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 15:06:06,037 minium app#731 relaunch] ReLaunch: /pages/shopping/shopping/fast
[D 2024-05-22 15:06:06,038 minium.Conn0144 connection#417 _safely_send] ASYNC_SEND > {"id":"7a3d6985-42c6-46e3-95ac-7dd4a0ba9d64","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/shopping/shopping/fast"}]}}
[D 2024-05-22 15:06:06,189 minium.Conn0144 connection#653 __on_message] RECV < {"id":"7a3d6985-42c6-46e3-95ac-7dd4a0ba9d64","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:06:06,191 minium.Conn0144 connection#697 _handle_async_msg] received async msg: 7a3d6985-42c6-46e3-95ac-7dd4a0ba9d64
[D 2024-05-22 15:06:07,261 minium.Conn0144 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/shopping/shopping/fast","query":{},"openType":"reLaunch","__ts__":1716404767237},1716404767240]}}
[I 2024-05-22 15:06:07,263 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/shopping/shopping/fast', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404767237}, 1716404767240]}
[I 2024-05-22 15:06:07,264 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:06:07,265 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:06:07,265 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"b010bb2f-0935-4994-8f30-605e02de94ce","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:06:07,411 minium.Conn0144 connection#651 __on_message] RECV < {"id":"b010bb2f-0935-4994-8f30-605e02de94ce","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 15:06:07,412 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:06:07,413 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:06:07,413 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"74d3c907-12ac-4506-b281-255848f76258","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:06:07,427 minium.Conn0144 connection#653 __on_message] RECV < {"id":"74d3c907-12ac-4506-b281-255848f76258","result":{"pageId":4,"path":"pages/shopping/shopping/fast","query":{}}}
[I 2024-05-22 15:06:07,428 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/shopping/shopping/fast, query={})
[D 2024-05-22 15:06:17,430 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:06:17,431 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:06:17,431 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:06:17,432 minium.Conn0144 connection#417 _safely_send] SEND > {"id":"229c54a5-6eee-4aff-8573-33a1f299e482","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:06:17,536 minium.Conn0144 connection#651 __on_message] RECV < {"id":"229c54a5-6eee-4aff-8573-33a1f299e482","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 15:06:17,537 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:06:17,538 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:06:17,538 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:06:17,546 minium.Conn0144 connection#417 _safely_send] ASYNC_SEND > {"id":"29b1386b-62e9-42bd-85eb-5974c6fdd2c7","method":"Tool.close","params":{}}
[D 2024-05-22 15:06:17,550 minium.Conn0144 connection#653 __on_message] RECV < {"id":"29b1386b-62e9-42bd-85eb-5974c6fdd2c7","result":{}}
[I 2024-05-22 15:06:17,550 minium.Conn0144 connection#697 _handle_async_msg] received async msg: 29b1386b-62e9-42bd-85eb-5974c6fdd2c7, maybe command ignore response
[E 2024-05-22 15:06:17,575 minium.Conn0144 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:06:17,575 minium.Conn0144 connection#697 _handle_async_msg] received async msg: d9279f1b-bbbc-46dc-acae-435d8395966c
[I 2024-05-22 15:06:17,576 minium.Conn0144 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:06:19,025 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:06:19,027 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:06:19,027 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:06:19,028 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:06:19,029 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7a4e7d465ac09eea" --auto-port 9420
[I 2024-05-22 15:06:24,858 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:06:24,858 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:06:29,864 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:06:29,952 minium.Conn9664 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:06:29,953 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"d540ad28-db4f-4c6e-954a-40218ec2a929","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:06:30,564 minium.Conn9664 connection#653 __on_message] RECV < {"id":"d540ad28-db4f-4c6e-954a-40218ec2a929","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:06:30,566 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"8fad3fd5-592a-4080-8183-bbb4011610af","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:06:47,730 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:06:47,735 minium.Conn9664 connection#651 __on_message] RECV < {"id":"8fad3fd5-592a-4080-8183-bbb4011610af","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":35,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:06:47,737 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:06:47,738 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"c7fe81a5-7066-489d-9474-ee43b133fe7b","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:06:47,747 minium.Conn9664 connection#653 __on_message] RECV < {"id":"c7fe81a5-7066-489d-9474-ee43b133fe7b","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:06:47,748 minium.Conn9664 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:06:47,749 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"faf553ce-cb3c-4f53-a747-1d454253a996","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:06:47,757 minium.Conn9664 connection#653 __on_message] RECV < {"id":"faf553ce-cb3c-4f53-a747-1d454253a996","result":{}}
[D 2024-05-22 15:06:47,759 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"10b2297a-6d57-440a-92cb-56d90a7d14cb","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:06:47,777 minium.Conn9664 connection#653 __on_message] RECV < {"id":"10b2297a-6d57-440a-92cb-56d90a7d14cb","result":{}}
[D 2024-05-22 15:06:47,778 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:06:47,779 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"bbdcd3dd-934f-4c8e-8827-2709e6516f4a","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:06:47,787 minium.Conn9664 connection#653 __on_message] RECV < {"id":"bbdcd3dd-934f-4c8e-8827-2709e6516f4a","result":{}}
[D 2024-05-22 15:06:47,788 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:06:47,789 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"beb8f0c5-d07b-4cb3-bc4f-ce5ccb6a71d9","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:06:47,801 minium.Conn9664 connection#653 __on_message] RECV < {"id":"beb8f0c5-d07b-4cb3-bc4f-ce5ccb6a71d9","result":{}}
[D 2024-05-22 15:06:47,802 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:06:47,803 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"99351835-79c7-4498-9d59-b6252b031a3f","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:06:47,815 minium.Conn9664 connection#653 __on_message] RECV < {"id":"99351835-79c7-4498-9d59-b6252b031a3f","result":{"result":true}}
[D 2024-05-22 15:06:47,817 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"7a8511f6-e91d-457b-af5e-29fc420a4f15","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:06:47,826 minium.Conn9664 connection#651 __on_message] RECV < {"id":"7a8511f6-e91d-457b-af5e-29fc420a4f15","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/category/index","pages/category/list","pages/goods/index","pages/goods/comment/comment","pages/search/index","pages/flow/index","pages/flow/checkout","pages/coupon/coupon","pages/card/index","pages/card/detail/index","pages/user/index","pages/user/wallet/index","pages/user/wallet/balance/log","pages/user/recharge/index","pages/user/recharge/order/index","pages/user/coupon/coupon","pag...
[D 2024-05-22 15:06:47,830 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"c5757006-0994-417b-bab8-ed683a828173","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:06:47,842 minium.Conn9664 connection#653 __on_message] RECV < {"id":"c5757006-0994-417b-bab8-ed683a828173","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:06:47,843 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"303fb31b-cd9c-48e9-800e-b680cae88d07","method":"App.addBinding","params":{"name":"showModal_before_1716404807843"}}
[D 2024-05-22 15:06:47,849 minium.Conn9664 connection#653 __on_message] RECV < {"id":"303fb31b-cd9c-48e9-800e-b680cae88d07","result":{}}
[D 2024-05-22 15:06:47,850 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"e6757d0b-ed1e-47ad-a80c-a4d71c805697","method":"App.addBinding","params":{"name":"showModal_callback_1716404807843"}}
[D 2024-05-22 15:06:47,865 minium.Conn9664 connection#653 __on_message] RECV < {"id":"e6757d0b-ed1e-47ad-a80c-a4d71c805697","result":{}}
[D 2024-05-22 15:06:47,867 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:06:47,869 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"70294351-7d23-476b-ad3d-a520475dd0e7","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404807843,after:undefined,callback:showModal_callback_1716404807843},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404807843,true]}}
[D 2024-05-22 15:06:47,879 minium.Conn9664 connection#653 __on_message] RECV < {"id":"70294351-7d23-476b-ad3d-a520475dd0e7","result":{}}
[D 2024-05-22 15:06:47,881 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"e43b5fce-f5c5-4dec-9fdb-2c9e71f8d8d8","method":"App.addBinding","params":{"name":"showToast_before_1716404807881"}}
[D 2024-05-22 15:06:47,890 minium.Conn9664 connection#653 __on_message] RECV < {"id":"e43b5fce-f5c5-4dec-9fdb-2c9e71f8d8d8","result":{}}
[D 2024-05-22 15:06:47,891 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"d6335758-9342-4659-b9ff-b393da800ec5","method":"App.addBinding","params":{"name":"showToast_callback_1716404807881"}}
[D 2024-05-22 15:06:47,903 minium.Conn9664 connection#653 __on_message] RECV < {"id":"d6335758-9342-4659-b9ff-b393da800ec5","result":{}}
[D 2024-05-22 15:06:47,905 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:06:47,905 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"44557c1d-73c9-4b8a-b65d-fd476d68053a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404807881,after:undefined,callback:showToast_callback_1716404807881},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404807881,true]}}
[D 2024-05-22 15:06:47,913 minium.Conn9664 connection#653 __on_message] RECV < {"id":"44557c1d-73c9-4b8a-b65d-fd476d68053a","result":{}}
[D 2024-05-22 15:06:47,917 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"ffbc4bc7-96fb-4727-ade8-e3da34250afd","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:06:47,928 minium.Conn9664 connection#653 __on_message] RECV < {"id":"ffbc4bc7-96fb-4727-ade8-e3da34250afd","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:06:47,930 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:06:47,931 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"e78180fa-0be4-422c-bd24-67ed38517b75","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:06:47,941 minium.Conn9664 connection#653 __on_message] RECV < {"id":"e78180fa-0be4-422c-bd24-67ed38517b75","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:06:47,943 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"deacd226-493a-407c-99d3-c597a15a5528","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:06:48,040 minium.Conn9664 connection#653 __on_message] RECV < {"id":"deacd226-493a-407c-99d3-c597a15a5528","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:06:48,041 minium.Conn9664 connection#697 _handle_async_msg] received async msg: deacd226-493a-407c-99d3-c597a15a5528
[D 2024-05-22 15:06:49,560 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404809541},1716404809544]}}
[I 2024-05-22 15:06:49,562 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404809541}, 1716404809544]}
[D 2024-05-22 15:06:49,564 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"40987e5c-b4b5-4c42-a10f-741703076091","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:06:49,580 minium.Conn9664 connection#653 __on_message] RECV < {"id":"40987e5c-b4b5-4c42-a10f-741703076091","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:06:49,582 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"33391056-6962-48d7-b517-c55d76066492","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:06:49,601 minium.Conn9664 connection#653 __on_message] RECV < {"id":"33391056-6962-48d7-b517-c55d76066492","result":{"result":false}}
[D 2024-05-22 15:06:49,603 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:06:49,604 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"7141cecc-214e-4051-b574-41a7ccfcd0ac","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:06:49,616 minium.Conn9664 connection#653 __on_message] RECV < {"id":"7141cecc-214e-4051-b574-41a7ccfcd0ac","result":{}}
[D 2024-05-22 15:06:49,618 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"11fc3267-c296-4092-9f2f-c82ed44e55cb","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:06:50,432 minium.Conn9664 connection#653 __on_message] RECV < {"id":"11fc3267-c296-4092-9f2f-c82ed44e55cb","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:06:50,434 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"18dd3fe0-27dc-44e2-92b6-d4ad166487af","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:06:50,452 minium.Conn9664 connection#653 __on_message] RECV < {"id":"18dd3fe0-27dc-44e2-92b6-d4ad166487af","result":{}}
[D 2024-05-22 15:06:50,454 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"22ce5b45-ea55-4548-910d-52ad7479526e","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:06:50,464 minium.Conn9664 connection#653 __on_message] RECV < {"id":"22ce5b45-ea55-4548-910d-52ad7479526e","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:06:50,466 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"8ac2c0f3-88a1-4757-ae55-10a916f0a684","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:06:50,485 minium.Conn9664 connection#651 __on_message] RECV < {"id":"8ac2c0f3-88a1-4757-ae55-10a916f0a684","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":35,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:06:50,486 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:06:50,488 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:06:50,489 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:06:50,489 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:06:50,490 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:06:50,490 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:06:50,491 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:06:50,491 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 15:06:50,491 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:06:50,492 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"e9601e58-e4b0-4f33-9307-61dbbf365862","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:06:50,569 minium.Conn9664 connection#653 __on_message] RECV < {"id":"e9601e58-e4b0-4f33-9307-61dbbf365862","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:06:50,570 minium.Conn9664 connection#697 _handle_async_msg] received async msg: e9601e58-e4b0-4f33-9307-61dbbf365862
[D 2024-05-22 15:06:51,800 minium.Conn9664 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404811783},1716404811786]}}
[I 2024-05-22 15:06:51,804 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404811783}, 1716404811786]}
[I 2024-05-22 15:06:51,806 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:06:51,806 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:06:51,807 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"2566876f-786e-40fb-883d-08639d04e100","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:06:52,074 minium.Conn9664 connection#651 __on_message] RECV < {"id":"2566876f-786e-40fb-883d-08639d04e100","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAACqRJREFUeJzt2vtv1fUdx/EvvVNoDAFFmGsm3QRdHPUCxesE4rygaFwycWYRTbxmOpf9A/60i9sPhmS6GWVeFn9QUGbmZRMjBXFLRGxFZlFEkKKlxWZIGzHa0/1wMuycV1Y9e9XH46dPP+d7vnl/cvpMvmnPuOHh4QLIVFXpAYCDJ2AIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJmAIJm...
[I 2024-05-22 15:06:52,076 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:06:52,077 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:06:52,078 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"8536be86-6c1a-4aa3-ac43-508d4bc8d146","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:06:52,088 minium.Conn9664 connection#653 __on_message] RECV < {"id":"8536be86-6c1a-4aa3-ac43-508d4bc8d146","result":{"pageId":4,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:06:52,091 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/index/index, query={})
[D 2024-05-22 15:07:02,094 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:07:02,095 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:07:02,095 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:07:02,095 minium.Conn9664 connection#417 _safely_send] SEND > {"id":"828cf6cf-68c7-4360-84a8-68c8dadcbc87","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:07:02,289 minium.Conn9664 connection#651 __on_message] RECV < {"id":"828cf6cf-68c7-4360-84a8-68c8dadcbc87","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzsfXd8Hcd17pnZenvFvei9EgBBgJ0UO0VRvRfLkixb7ilOXp7txE5e7DhxEsdxi2O52yq2bKtaIlUo9i42kEQjei8XuL1tn3l/gKJYQBKkKFM08f34B3h3dnZ2Z745Z845cwYpx9bDDKYEYpElB3GWq92OGVwEVEvT1DBQ7Wo35CoAX+0GfIjBWoA1X+1GzGAaYE3XbU/NEPg8QAwSXAihq92OGVwcCCEkuABdj4P5enznaYGzAWu62o2YwbTBmoC9Hhc7MwSeEgiJGTPi9xoCQghEL8B112UzBJ4KvA0we7UbMYNLA2JE4KxXuxV/aswQ+FxgEDwz4veaA0IIBM/VbsWfGjMEPge8HTH81W7EDC4HiBGAvb...
[I 2024-05-22 15:07:02,292 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:07:02,292 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:07:02,293 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:07:02,300 minium.Conn9664 connection#417 _safely_send] ASYNC_SEND > {"id":"6ce7d42e-9f0d-4ae1-a359-e7ec0918eadf","method":"Tool.close","params":{}}
[D 2024-05-22 15:07:02,303 minium.Conn9664 connection#653 __on_message] RECV < {"id":"6ce7d42e-9f0d-4ae1-a359-e7ec0918eadf","result":{}}
[I 2024-05-22 15:07:02,304 minium.Conn9664 connection#697 _handle_async_msg] received async msg: 6ce7d42e-9f0d-4ae1-a359-e7ec0918eadf, maybe command ignore response
[E 2024-05-22 15:07:02,326 minium.Conn9664 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:07:02,326 minium.Conn9664 connection#697 _handle_async_msg] received async msg: 4326491f-015e-4c89-88bb-619f300bd3e1
[I 2024-05-22 15:07:02,327 minium.Conn9664 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:07:03,860 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:07:03,861 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:07:03,861 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:07:03,862 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:07:03,863 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx96d0ef1f9caac12d" --auto-port 9420
[I 2024-05-22 15:07:10,078 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:07:10,078 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:07:15,084 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:07:15,144 minium.Conn5728 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:07:15,145 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"64449a74-34d6-40b8-9dc6-eed44a4b4953","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:07:15,158 minium.Conn5728 connection#653 __on_message] RECV < {"id":"64449a74-34d6-40b8-9dc6-eed44a4b4953","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:07:15,160 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"571b25c7-23ae-4b37-8ab2-1060b1eeef6a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:07:29,853 minium.Conn5728 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"module 'miniprogram_npm/axios/is-buffer.js' is not defined, require args is 'is-buffer'","stack":"Error: module 'miniprogram_npm/axios/is-buffer.js' is not defined, require args is 'is-buffer'\n    at V (http://127.0.0.1:16924/appservice/__dev__/WASubContext.js?t=wechat&s=1716404831129&v=3.4.3:1:520374)\n    at r (http://127.0.0.1:16924/appservice/__dev__/WASubContext.js?t=wechat&s=1716404831129&v=3.4.3:1:519502)\n    at r (http://127.0.0.1:16924/appse...
[D 2024-05-22 15:07:30,988 minium.Conn5728 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:07:30,996 minium.Conn5728 connection#651 __on_message] RECV < {"id":"571b25c7-23ae-4b37-8ab2-1060b1eeef6a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":34,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:07:30,997 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:07:30,999 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"d537fe95-19c1-4583-8951-f9df3bd581df","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:07:31,013 minium.Conn5728 connection#653 __on_message] RECV < {"id":"d537fe95-19c1-4583-8951-f9df3bd581df","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:07:31,015 minium.Conn5728 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:07:31,015 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"a2814c53-fdbd-471d-9cd0-9ab4fb5d496b","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:07:31,023 minium.Conn5728 connection#653 __on_message] RECV < {"id":"a2814c53-fdbd-471d-9cd0-9ab4fb5d496b","result":{}}
[D 2024-05-22 15:07:31,024 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"4a0728ce-ced3-404b-a327-6e46eb9e6c65","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:07:31,037 minium.Conn5728 connection#653 __on_message] RECV < {"id":"4a0728ce-ced3-404b-a327-6e46eb9e6c65","result":{}}
[D 2024-05-22 15:07:31,037 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:07:31,038 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"63efb9a4-632d-4784-9dfd-b1b0cd5cd8bd","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:07:31,053 minium.Conn5728 connection#653 __on_message] RECV < {"id":"63efb9a4-632d-4784-9dfd-b1b0cd5cd8bd","result":{}}
[D 2024-05-22 15:07:31,054 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:07:31,055 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"33a8bced-a432-4078-a2c5-6c4557bb14d0","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:07:31,073 minium.Conn5728 connection#653 __on_message] RECV < {"id":"33a8bced-a432-4078-a2c5-6c4557bb14d0","result":{}}
[D 2024-05-22 15:07:31,075 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:07:31,076 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"1fe6a144-d023-43b0-928d-44e64bce0e20","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:07:31,092 minium.Conn5728 connection#653 __on_message] RECV < {"id":"1fe6a144-d023-43b0-928d-44e64bce0e20","result":{"result":true}}
[D 2024-05-22 15:07:31,093 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"a9fc4e28-6bcb-47c3-9b12-430ba41cd220","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:07:31,111 minium.Conn5728 connection#651 __on_message] RECV < {"id":"a9fc4e28-6bcb-47c3-9b12-430ba41cd220","result":{"result":{"pages":["pages/index/index","pages/wuliu/index","pages/blockchain/index","pages/applyAdd/index","pages/bankAdd/index","pages/goods-details/index","pages/group-center/my-performance/index","pages/group-center/index","pages/group-center/promotionOrder/index","pages/group-center/balanceDetails/index","pages/group-center/withdrawal/index","pages/package-details/index","pages/my/index","pages/distribution/distribution","pages/source/source","pa...
[D 2024-05-22 15:07:31,112 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"ffc5f58a-2462-498a-bf7f-416c0f4e863d","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:07:31,139 minium.Conn5728 connection#653 __on_message] RECV < {"id":"ffc5f58a-2462-498a-bf7f-416c0f4e863d","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:07:31,141 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"9bfeef3f-5738-46e4-87e0-9d55cc2611b4","method":"App.addBinding","params":{"name":"showModal_before_1716404851141"}}
[D 2024-05-22 15:07:31,153 minium.Conn5728 connection#653 __on_message] RECV < {"id":"9bfeef3f-5738-46e4-87e0-9d55cc2611b4","result":{}}
[D 2024-05-22 15:07:31,154 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"3f52da9b-6fa9-4d67-a368-48787d4afda1","method":"App.addBinding","params":{"name":"showModal_callback_1716404851141"}}
[D 2024-05-22 15:07:31,166 minium.Conn5728 connection#653 __on_message] RECV < {"id":"3f52da9b-6fa9-4d67-a368-48787d4afda1","result":{}}
[D 2024-05-22 15:07:31,168 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:07:31,169 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"fdf4d44b-9985-4d5e-bb4e-fdb847b9f968","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404851141,after:undefined,callback:showModal_callback_1716404851141},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404851141,true]}}
[D 2024-05-22 15:07:31,188 minium.Conn5728 connection#653 __on_message] RECV < {"id":"fdf4d44b-9985-4d5e-bb4e-fdb847b9f968","result":{}}
[D 2024-05-22 15:07:31,191 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"176fea54-ddc0-416f-aac5-22bee6b7014f","method":"App.addBinding","params":{"name":"showToast_before_1716404851190"}}
[D 2024-05-22 15:07:31,196 minium.Conn5728 connection#653 __on_message] RECV < {"id":"176fea54-ddc0-416f-aac5-22bee6b7014f","result":{}}
[D 2024-05-22 15:07:31,198 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"40578d2c-2c8e-4949-bd5b-610d827d9010","method":"App.addBinding","params":{"name":"showToast_callback_1716404851190"}}
[D 2024-05-22 15:07:31,204 minium.Conn5728 connection#653 __on_message] RECV < {"id":"40578d2c-2c8e-4949-bd5b-610d827d9010","result":{}}
[D 2024-05-22 15:07:31,205 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:07:31,206 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"4ae41bcc-2f5f-43b1-81b7-7d55c468ee57","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404851190,after:undefined,callback:showToast_callback_1716404851190},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404851190,true]}}
[D 2024-05-22 15:07:31,214 minium.Conn5728 connection#653 __on_message] RECV < {"id":"4ae41bcc-2f5f-43b1-81b7-7d55c468ee57","result":{}}
[D 2024-05-22 15:07:31,217 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"5c53fb73-3634-401a-b000-ab3ad4415477","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:07:31,231 minium.Conn5728 connection#653 __on_message] RECV < {"id":"5c53fb73-3634-401a-b000-ab3ad4415477","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:07:31,233 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:07:31,235 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"f0952a9d-579b-4904-b47b-96c2e0fd9e68","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:07:31,245 minium.Conn5728 connection#653 __on_message] RECV < {"id":"f0952a9d-579b-4904-b47b-96c2e0fd9e68","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:07:31,247 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"9a2b929b-2c66-49a6-8a77-b7e28b587708","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:07:31,384 minium.Conn5728 connection#653 __on_message] RECV < {"id":"9a2b929b-2c66-49a6-8a77-b7e28b587708","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:07:31,386 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 9a2b929b-2c66-49a6-8a77-b7e28b587708
[D 2024-05-22 15:07:31,984 minium.Conn5728 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404851893},1716404851897]}}
[I 2024-05-22 15:07:31,985 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404851893}, 1716404851897]}
[D 2024-05-22 15:07:31,987 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"f1908a28-3fc0-48e9-a8c3-c14be3c026ae","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:07:32,010 minium.Conn5728 connection#653 __on_message] RECV < {"id":"f1908a28-3fc0-48e9-a8c3-c14be3c026ae","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:07:32,013 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"7bd448a5-8e7c-4613-9505-7ca261ae2215","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:07:32,037 minium.Conn5728 connection#653 __on_message] RECV < {"id":"7bd448a5-8e7c-4613-9505-7ca261ae2215","result":{"result":false}}
[D 2024-05-22 15:07:32,043 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:07:32,044 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"0a9467ed-5b36-4aa4-ac9b-5f8a43531947","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:07:32,092 minium.Conn5728 connection#653 __on_message] RECV < {"id":"0a9467ed-5b36-4aa4-ac9b-5f8a43531947","result":{}}
[D 2024-05-22 15:07:32,094 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"46cf79b8-76a2-4ca2-9bbe-d6473a1f53ca","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:07:32,685 minium.Conn5728 connection#653 __on_message] RECV < {"id":"46cf79b8-76a2-4ca2-9bbe-d6473a1f53ca","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:07:32,687 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"8a8a0162-7754-46cc-909f-13c79d1ad697","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:07:32,692 minium.Conn5728 connection#653 __on_message] RECV < {"id":"8a8a0162-7754-46cc-909f-13c79d1ad697","result":{}}
[D 2024-05-22 15:07:32,693 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"6f959c36-5e42-4919-bae7-247d899266c9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:07:32,699 minium.Conn5728 connection#653 __on_message] RECV < {"id":"6f959c36-5e42-4919-bae7-247d899266c9","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:07:32,701 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"e35e9c7c-c3d3-4ec4-8e4c-b8c493047647","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:07:32,711 minium.Conn5728 connection#651 __on_message] RECV < {"id":"e35e9c7c-c3d3-4ec4-8e4c-b8c493047647","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":34,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:07:32,712 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:07:32,714 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:07:32,715 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:07:32,715 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:07:32,715 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:07:32,715 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:07:32,716 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:07:32,716 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:07:32,716 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"901d0e03-f767-4303-beca-67b71c6b1c71","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:07:32,783 minium.Conn5728 connection#653 __on_message] RECV < {"id":"901d0e03-f767-4303-beca-67b71c6b1c71","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:07:32,784 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 901d0e03-f767-4303-beca-67b71c6b1c71
[I 2024-05-22 15:07:32,786 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:07:32,787 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:07:32,788 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"0a130dca-2aca-4bb5-b4ff-69f976b0ed07","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:07:32,908 minium.Conn5728 connection#651 __on_message] RECV < {"id":"0a130dca-2aca-4bb5-b4ff-69f976b0ed07","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:07:32,910 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:07:32,912 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:07:32,913 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"9c71d7f4-923f-42ab-a96f-93ec439bcf66","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:07:32,919 minium.Conn5728 connection#653 __on_message] RECV < {"id":"9c71d7f4-923f-42ab-a96f-93ec439bcf66","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:07:32,921 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:07:42,923 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:07:42,924 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:07:42,925 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:07:42,925 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"7adf215f-e8c5-4f08-b91d-56f79a9700c1","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:07:43,021 minium.Conn5728 connection#651 __on_message] RECV < {"id":"7adf215f-e8c5-4f08-b91d-56f79a9700c1","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:07:43,022 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:07:43,023 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:07:43,023 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:07:43,039 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"47a2b780-bdd5-444d-a8ae-ad23348bd524","method":"Tool.close","params":{}}
[D 2024-05-22 15:07:43,044 minium.Conn5728 connection#653 __on_message] RECV < {"id":"47a2b780-bdd5-444d-a8ae-ad23348bd524","result":{}}
[I 2024-05-22 15:07:43,045 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 47a2b780-bdd5-444d-a8ae-ad23348bd524, maybe command ignore response
[E 2024-05-22 15:07:43,066 minium.Conn5728 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:07:43,067 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 8663505f-3d47-4e49-9b98-a81fff64411f
[I 2024-05-22 15:07:43,068 minium.Conn5728 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:07:44,527 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:07:44,528 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:07:44,528 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:07:44,529 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:07:44,530 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7e4ba3a80bada941" --auto-port 9420
[I 2024-05-22 15:07:49,802 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:07:49,803 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:07:54,808 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:07:55,319 minium.Conn4640 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:07:55,320 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"75ebd2ec-b10d-4e7b-95f9-34d7b39ce0d3","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:07:55,332 minium.Conn4640 connection#653 __on_message] RECV < {"id":"75ebd2ec-b10d-4e7b-95f9-34d7b39ce0d3","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:07:55,333 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"f6de12a4-a35d-4a30-a431-352ca109eb7b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:08:09,950 minium.Conn4640 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:08:09,956 minium.Conn4640 connection#651 __on_message] RECV < {"id":"f6de12a4-a35d-4a30-a431-352ca109eb7b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":34,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:08:09,958 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:08:09,959 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"4aca6aba-21fd-4aef-a230-bde227d9fe39","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:08:09,971 minium.Conn4640 connection#653 __on_message] RECV < {"id":"4aca6aba-21fd-4aef-a230-bde227d9fe39","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:08:09,973 minium.Conn4640 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:08:09,973 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"d0f74115-4b47-4f78-b2c8-6a33a8e7d12c","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:08:09,989 minium.Conn4640 connection#653 __on_message] RECV < {"id":"d0f74115-4b47-4f78-b2c8-6a33a8e7d12c","result":{}}
[D 2024-05-22 15:08:09,991 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"d947bb67-6309-4d8f-aa7a-a06826507dd8","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:08:10,014 minium.Conn4640 connection#653 __on_message] RECV < {"id":"d947bb67-6309-4d8f-aa7a-a06826507dd8","result":{}}
[D 2024-05-22 15:08:10,017 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:08:10,018 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"a31129d7-a476-4d39-a939-97374d5454cd","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:08:10,036 minium.Conn4640 connection#653 __on_message] RECV < {"id":"a31129d7-a476-4d39-a939-97374d5454cd","result":{}}
[D 2024-05-22 15:08:10,037 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:08:10,038 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"3ba373b5-5680-47c1-b81f-e1db097e5042","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:08:10,054 minium.Conn4640 connection#653 __on_message] RECV < {"id":"3ba373b5-5680-47c1-b81f-e1db097e5042","result":{}}
[D 2024-05-22 15:08:10,055 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:08:10,056 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"8fab5fe4-d274-49ab-b403-425d4a42e557","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:08:10,068 minium.Conn4640 connection#653 __on_message] RECV < {"id":"8fab5fe4-d274-49ab-b403-425d4a42e557","result":{"result":true}}
[D 2024-05-22 15:08:10,069 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"f848ccc9-a84f-4156-9298-2fa5fc577353","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:08:10,079 minium.Conn4640 connection#651 __on_message] RECV < {"id":"f848ccc9-a84f-4156-9298-2fa5fc577353","result":{"result":{"pages":["pages/index/index","pages/hot/hot","pages/ucenter/ucenter","pages/search/search","pages/list/list","pages/categories/categories","pages/article/article","pages/about/about","pages/login/login","pages/viewhtml/viewhtml"],"tabBar":[{"pagePath":"pages/index/index.html","text":"首页","iconPath":"images/tabbar/index_gray.png","selectedIconPath":"images/tabbar/index_active.png"},{"pagePath":"pages/categories/categories.html","text":"分类","...
[D 2024-05-22 15:08:10,082 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"97285ddc-51a3-47e5-a190-16e2ba42ec2a","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:08:10,091 minium.Conn4640 connection#653 __on_message] RECV < {"id":"97285ddc-51a3-47e5-a190-16e2ba42ec2a","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:08:10,092 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"e183b62d-e4f3-4aab-aa31-53f1639a5fa8","method":"App.addBinding","params":{"name":"showModal_before_1716404890092"}}
[D 2024-05-22 15:08:10,102 minium.Conn4640 connection#653 __on_message] RECV < {"id":"e183b62d-e4f3-4aab-aa31-53f1639a5fa8","result":{}}
[D 2024-05-22 15:08:10,104 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"0a25453c-2019-45ac-91ec-cca582bede54","method":"App.addBinding","params":{"name":"showModal_callback_1716404890092"}}
[D 2024-05-22 15:08:10,112 minium.Conn4640 connection#653 __on_message] RECV < {"id":"0a25453c-2019-45ac-91ec-cca582bede54","result":{}}
[D 2024-05-22 15:08:10,113 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:08:10,115 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"8a4d5525-0b03-4e58-b726-eccb5ee9be58","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404890092,after:undefined,callback:showModal_callback_1716404890092},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404890092,true]}}
[D 2024-05-22 15:08:10,142 minium.Conn4640 connection#653 __on_message] RECV < {"id":"8a4d5525-0b03-4e58-b726-eccb5ee9be58","result":{}}
[D 2024-05-22 15:08:10,144 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"1346e559-dce1-4dc4-8154-e97245087e3e","method":"App.addBinding","params":{"name":"showToast_before_1716404890144"}}
[D 2024-05-22 15:08:10,151 minium.Conn4640 connection#653 __on_message] RECV < {"id":"1346e559-dce1-4dc4-8154-e97245087e3e","result":{}}
[D 2024-05-22 15:08:10,152 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"d9e4f686-3f84-416c-b31a-6977751a4254","method":"App.addBinding","params":{"name":"showToast_callback_1716404890144"}}
[D 2024-05-22 15:08:10,159 minium.Conn4640 connection#653 __on_message] RECV < {"id":"d9e4f686-3f84-416c-b31a-6977751a4254","result":{}}
[D 2024-05-22 15:08:10,160 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:08:10,162 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"00785ea4-00b5-4b44-b748-2b73dbc65dbf","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404890144,after:undefined,callback:showToast_callback_1716404890144},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404890144,true]}}
[D 2024-05-22 15:08:10,170 minium.Conn4640 connection#653 __on_message] RECV < {"id":"00785ea4-00b5-4b44-b748-2b73dbc65dbf","result":{}}
[D 2024-05-22 15:08:10,172 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"8c191824-f615-4f17-b3bd-25621f06351c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:08:10,181 minium.Conn4640 connection#653 __on_message] RECV < {"id":"8c191824-f615-4f17-b3bd-25621f06351c","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:08:10,183 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:08:10,184 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"ce063cdf-37d5-43cc-a0bc-b43452634724","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:08:10,191 minium.Conn4640 connection#653 __on_message] RECV < {"id":"ce063cdf-37d5-43cc-a0bc-b43452634724","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:08:10,193 minium.Conn4640 connection#417 _safely_send] ASYNC_SEND > {"id":"b8a1137e-eecc-4800-b169-7482408375c3","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:08:10,305 minium.Conn4640 connection#653 __on_message] RECV < {"id":"b8a1137e-eecc-4800-b169-7482408375c3","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:08:10,306 minium.Conn4640 connection#697 _handle_async_msg] received async msg: b8a1137e-eecc-4800-b169-7482408375c3
[D 2024-05-22 15:08:11,440 minium.Conn4640 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404891383},1716404891387]}}
[I 2024-05-22 15:08:11,442 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404891383}, 1716404891387]}
[D 2024-05-22 15:08:11,446 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"82538a8c-2874-4ee8-86a5-199bea0ec681","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:08:11,459 minium.Conn4640 connection#653 __on_message] RECV < {"id":"82538a8c-2874-4ee8-86a5-199bea0ec681","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:08:11,463 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"4edfc818-6c01-4129-b190-f20e891d44dc","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:08:11,476 minium.Conn4640 connection#653 __on_message] RECV < {"id":"4edfc818-6c01-4129-b190-f20e891d44dc","result":{"result":false}}
[D 2024-05-22 15:08:11,478 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:08:11,479 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"23004535-8883-4050-a16b-bb1c532aac58","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:08:11,505 minium.Conn4640 connection#653 __on_message] RECV < {"id":"23004535-8883-4050-a16b-bb1c532aac58","result":{}}
[D 2024-05-22 15:08:11,507 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"a4892e64-a584-406a-823d-d4df8fa1ab46","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:08:12,134 minium.Conn4640 connection#653 __on_message] RECV < {"id":"a4892e64-a584-406a-823d-d4df8fa1ab46","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:08:12,136 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"bb1980de-2963-4f45-8b77-73e26a2fc451","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:08:12,144 minium.Conn4640 connection#653 __on_message] RECV < {"id":"bb1980de-2963-4f45-8b77-73e26a2fc451","result":{}}
[D 2024-05-22 15:08:12,145 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"c6d3659a-9292-42b4-80e1-21ea39826376","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:08:12,150 minium.Conn4640 connection#653 __on_message] RECV < {"id":"c6d3659a-9292-42b4-80e1-21ea39826376","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:08:12,151 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"56dd7867-8f4a-4ff9-a5b2-e1dc914184f2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:08:12,159 minium.Conn4640 connection#651 __on_message] RECV < {"id":"56dd7867-8f4a-4ff9-a5b2-e1dc914184f2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":34,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:08:12,161 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:08:12,163 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:08:12,164 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:08:12,164 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:08:12,164 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:08:12,165 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:08:12,165 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:08:12,165 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:08:12,166 minium.Conn4640 connection#417 _safely_send] ASYNC_SEND > {"id":"a8fefd21-84de-486f-8bc3-f00841a1f312","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:08:12,233 minium.Conn4640 connection#653 __on_message] RECV < {"id":"a8fefd21-84de-486f-8bc3-f00841a1f312","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:08:12,235 minium.Conn4640 connection#697 _handle_async_msg] received async msg: a8fefd21-84de-486f-8bc3-f00841a1f312
[I 2024-05-22 15:08:12,237 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:08:12,237 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:08:12,238 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"fc482d0d-9967-4a31-b189-cfba287b5780","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:08:12,376 minium.Conn4640 connection#651 __on_message] RECV < {"id":"fc482d0d-9967-4a31-b189-cfba287b5780","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAAGkpJREFUeJzt3XtwVOXdwPHnnL0nS24bkhBCCBBCEYpxiAgqYgCFMqbCQIMXKCnaUtrajqh02qGdTuV9VUZwRsuldErTjra28Fo1zpTyliCgBAUFlBIMiuTCJZpAyGXve877x7Zp3iQEjMjm534/f23Onj3nYck3zzlndxNt4sSJCoBMeqwHAKD/CBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEIyAAcGssR7AQBEKhcLhsGEYpmmaphnr4XwZaJqmaZqu6zabzWrlO+0LEe9Pq2magUAgFArFeiBfQtEfhYZhhMNhpZTNZnM4HJqmxX...
[I 2024-05-22 15:08:12,378 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:08:12,379 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:08:12,380 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"63c804de-c2a2-47c9-a62d-bf2d5719a068","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:08:12,385 minium.Conn4640 connection#653 __on_message] RECV < {"id":"63c804de-c2a2-47c9-a62d-bf2d5719a068","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:08:12,386 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:08:22,388 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:08:22,389 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:08:22,389 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:08:22,390 minium.Conn4640 connection#417 _safely_send] SEND > {"id":"0c7a4af1-f379-497e-9557-33e03cd67986","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:08:22,523 minium.Conn4640 connection#651 __on_message] RECV < {"id":"0c7a4af1-f379-497e-9557-33e03cd67986","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAAGu1JREFUeJzt3XtwVPXd+PHvOXvNbshtA7kQQoAQRHgkPEQEBQELhTKkhVGjViiptaW0tZ1SZaYd2ulUpiojOKPlUjqlaae/1in8qIozpcxDuCnBigJCCYSLIQkhSG5kk73vOb8/ts2TX4BAI7L5uO/XX5tzdvd8Wfadc853L9EmTZqkAMikx3sAAPqPgAHBCBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEIyAAcEIGBCMgAHBCBgQjIABwQgYEMwa7wEMFOFwOBKJGIZhmqZpmvEezueBpmmapum6brPZrFaeaZ+JRH9YTdMMBoPhcDjeA/kciv0qNAwjEokopWw2m8Ph0D...
[I 2024-05-22 15:08:22,524 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:08:22,525 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:08:22,525 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:08:22,533 minium.Conn4640 connection#417 _safely_send] ASYNC_SEND > {"id":"74c6022a-9553-4ed9-92d1-efe4652c3387","method":"Tool.close","params":{}}
[D 2024-05-22 15:08:22,535 minium.Conn4640 connection#653 __on_message] RECV < {"id":"74c6022a-9553-4ed9-92d1-efe4652c3387","result":{}}
[I 2024-05-22 15:08:22,536 minium.Conn4640 connection#697 _handle_async_msg] received async msg: 74c6022a-9553-4ed9-92d1-efe4652c3387, maybe command ignore response
[E 2024-05-22 15:08:22,558 minium.Conn4640 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:08:22,559 minium.Conn4640 connection#697 _handle_async_msg] received async msg: dd9ee718-2ff3-42fb-b1de-8b43162e1602
[I 2024-05-22 15:08:22,560 minium.Conn4640 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:08:24,048 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:08:24,049 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:08:24,049 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:08:24,050 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:08:24,050 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx83a1f19d142cbfb8" --auto-port 9420
[I 2024-05-22 15:08:29,775 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:08:29,776 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:08:34,778 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:08:35,307 minium.Conn4976 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:08:35,309 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"f399252a-c03d-421a-b229-33658c59c506","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:08:35,318 minium.Conn4976 connection#653 __on_message] RECV < {"id":"f399252a-c03d-421a-b229-33658c59c506","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:08:35,320 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"375ff772-53af-4037-97d0-b4bf46a2bd94","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:08:48,147 minium.Conn4976 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:08:48,158 minium.Conn4976 connection#651 __on_message] RECV < {"id":"375ff772-53af-4037-97d0-b4bf46a2bd94","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:08:48,160 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:08:48,162 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"39715577-9147-4d00-a519-7d0f92079f7c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:08:48,170 minium.Conn4976 connection#653 __on_message] RECV < {"id":"39715577-9147-4d00-a519-7d0f92079f7c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:08:48,171 minium.Conn4976 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:08:48,172 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"7c3a7362-2601-4187-a4b5-7245e844156f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:08:48,179 minium.Conn4976 connection#653 __on_message] RECV < {"id":"7c3a7362-2601-4187-a4b5-7245e844156f","result":{}}
[D 2024-05-22 15:08:48,180 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"a4294c13-34a6-4f44-8244-0de9d0c1f1d0","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:08:48,193 minium.Conn4976 connection#653 __on_message] RECV < {"id":"a4294c13-34a6-4f44-8244-0de9d0c1f1d0","result":{}}
[D 2024-05-22 15:08:48,195 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:08:48,197 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"bd0207ae-190a-49d5-aacd-c8f398495f80","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:08:48,207 minium.Conn4976 connection#653 __on_message] RECV < {"id":"bd0207ae-190a-49d5-aacd-c8f398495f80","result":{}}
[D 2024-05-22 15:08:48,208 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:08:48,210 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"52c497d1-b05e-4619-9651-587ee0de3f76","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:08:48,219 minium.Conn4976 connection#653 __on_message] RECV < {"id":"52c497d1-b05e-4619-9651-587ee0de3f76","result":{}}
[D 2024-05-22 15:08:48,221 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:08:48,221 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"71a5bfea-7ac1-488b-b2b1-dbade3f4b807","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:08:48,230 minium.Conn4976 connection#653 __on_message] RECV < {"id":"71a5bfea-7ac1-488b-b2b1-dbade3f4b807","result":{"result":true}}
[D 2024-05-22 15:08:48,232 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"04a0e1dc-9839-4e31-b859-9fec28226165","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:08:48,241 minium.Conn4976 connection#651 __on_message] RECV < {"id":"04a0e1dc-9839-4e31-b859-9fec28226165","result":{"result":{"pages":["pages/workMainpage/workMainpage","pages/opendocument/opendocument","pages/myPersonDetail/myPersonDetail","pages/jiejingMessage/jiejingMessage","pages/payplatform/payplatform","pages/customerManage/customerDetail/customerDetail","pages/customerManage/customerList/customerList","pages/work/work","pages/customerManage/customerManage","pages/work/myTable/myTable","pages/login/login","pages/index/index","pages/logs/logs","pages/myLog/m...
[D 2024-05-22 15:08:48,243 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"089a00c5-a971-442c-ac4f-94e417b093a6","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:08:48,252 minium.Conn4976 connection#653 __on_message] RECV < {"id":"089a00c5-a971-442c-ac4f-94e417b093a6","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:08:48,253 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"0ec6effb-1c3f-423d-a18c-e8023078f679","method":"App.addBinding","params":{"name":"showModal_before_1716404928253"}}
[D 2024-05-22 15:08:48,259 minium.Conn4976 connection#653 __on_message] RECV < {"id":"0ec6effb-1c3f-423d-a18c-e8023078f679","result":{}}
[D 2024-05-22 15:08:48,260 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"756f970c-e46f-43a2-851c-3209552cd7c2","method":"App.addBinding","params":{"name":"showModal_callback_1716404928253"}}
[D 2024-05-22 15:08:48,267 minium.Conn4976 connection#653 __on_message] RECV < {"id":"756f970c-e46f-43a2-851c-3209552cd7c2","result":{}}
[D 2024-05-22 15:08:48,269 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:08:48,270 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"7b8e0d6e-2a86-4c80-aa81-6d9eefe659ea","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404928253,after:undefined,callback:showModal_callback_1716404928253},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404928253,true]}}
[D 2024-05-22 15:08:48,278 minium.Conn4976 connection#653 __on_message] RECV < {"id":"7b8e0d6e-2a86-4c80-aa81-6d9eefe659ea","result":{}}
[D 2024-05-22 15:08:48,280 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"9d54bbc6-94ce-49cd-9e07-351207d52547","method":"App.addBinding","params":{"name":"showToast_before_1716404928279"}}
[D 2024-05-22 15:08:48,287 minium.Conn4976 connection#653 __on_message] RECV < {"id":"9d54bbc6-94ce-49cd-9e07-351207d52547","result":{}}
[D 2024-05-22 15:08:48,288 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"94a91d0a-0b7a-4387-ab9a-16864a869a89","method":"App.addBinding","params":{"name":"showToast_callback_1716404928279"}}
[D 2024-05-22 15:08:48,294 minium.Conn4976 connection#653 __on_message] RECV < {"id":"94a91d0a-0b7a-4387-ab9a-16864a869a89","result":{}}
[D 2024-05-22 15:08:48,296 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:08:48,297 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"c4702265-6ea7-4a7f-9dae-19e250b80003","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404928279,after:undefined,callback:showToast_callback_1716404928279},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404928279,true]}}
[D 2024-05-22 15:08:48,305 minium.Conn4976 connection#653 __on_message] RECV < {"id":"c4702265-6ea7-4a7f-9dae-19e250b80003","result":{}}
[D 2024-05-22 15:08:48,308 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"945c949a-fd4a-49dc-a661-8d08a8b787a5","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:08:48,321 minium.Conn4976 connection#653 __on_message] RECV < {"id":"945c949a-fd4a-49dc-a661-8d08a8b787a5","result":{"result":{"path":"pages/workMainpage/workMainpage","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:08:48,322 minium app#731 relaunch] ReLaunch: /pages/workMainpage/workMainpage
[D 2024-05-22 15:08:48,324 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"949e979a-d789-4951-a05a-00b2bc229e48","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:08:48,401 minium.Conn4976 connection#653 __on_message] RECV < {"id":"949e979a-d789-4951-a05a-00b2bc229e48","result":{"pageId":1,"path":"pages/workMainpage/workMainpage","query":{}}}
[D 2024-05-22 15:08:48,402 minium.Conn4976 connection#417 _safely_send] ASYNC_SEND > {"id":"2c357829-adb8-4723-b2d8-2baf960d7523","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/workMainpage/workMainpage"}]}}
[D 2024-05-22 15:08:48,505 minium.Conn4976 connection#653 __on_message] RECV < {"id":"2c357829-adb8-4723-b2d8-2baf960d7523","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:08:48,506 minium.Conn4976 connection#697 _handle_async_msg] received async msg: 2c357829-adb8-4723-b2d8-2baf960d7523
[D 2024-05-22 15:08:49,657 minium.Conn4976 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/workMainpage/workMainpage","query":{},"openType":"reLaunch","__ts__":1716404929642},1716404929647]}}
[I 2024-05-22 15:08:49,659 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/workMainpage/workMainpage', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404929642}, 1716404929647]}
[D 2024-05-22 15:08:49,660 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"eca6bf8c-9f2c-4523-aa8c-ee074bd7f192","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:08:49,666 minium.Conn4976 connection#653 __on_message] RECV < {"id":"eca6bf8c-9f2c-4523-aa8c-ee074bd7f192","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:08:49,670 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"1a4dd200-557c-46c7-92be-a98ca41af39f","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:08:49,714 minium.Conn4976 connection#653 __on_message] RECV < {"id":"1a4dd200-557c-46c7-92be-a98ca41af39f","result":{"result":false}}
[D 2024-05-22 15:08:49,716 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:08:49,718 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"da0a153a-877e-44f5-9519-66b29069eeb0","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:08:49,728 minium.Conn4976 connection#653 __on_message] RECV < {"id":"da0a153a-877e-44f5-9519-66b29069eeb0","result":{}}
[D 2024-05-22 15:08:49,732 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"ff8e634a-ef29-4332-a9a7-f78225771c0b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:08:50,398 minium.Conn4976 connection#653 __on_message] RECV < {"id":"ff8e634a-ef29-4332-a9a7-f78225771c0b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:08:50,399 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"7e22c77f-46e5-4ea5-ac27-1b7a9fc031b4","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:08:50,405 minium.Conn4976 connection#653 __on_message] RECV < {"id":"7e22c77f-46e5-4ea5-ac27-1b7a9fc031b4","result":{}}
[D 2024-05-22 15:08:50,407 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"3a0a2034-4ea5-4895-947e-90768432a05d","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:08:50,456 minium.Conn4976 connection#653 __on_message] RECV < {"id":"3a0a2034-4ea5-4895-947e-90768432a05d","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:08:50,457 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"ef31ef4d-2009-4ca7-bf30-d46ebdfde53d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:08:50,483 minium.Conn4976 connection#651 __on_message] RECV < {"id":"ef31ef4d-2009-4ca7-bf30-d46ebdfde53d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:08:50,484 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:08:50,487 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:08:50,487 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:08:50,488 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:08:50,488 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:08:50,488 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:08:50,489 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:08:50,489 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 15:08:50,489 minium app#731 relaunch] ReLaunch: /pages/workMainpage/workMainpage
[D 2024-05-22 15:08:50,490 minium.Conn4976 connection#417 _safely_send] ASYNC_SEND > {"id":"2448e936-10ab-434d-977a-a83959f8104a","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/workMainpage/workMainpage"}]}}
[D 2024-05-22 15:08:50,592 minium.Conn4976 connection#653 __on_message] RECV < {"id":"2448e936-10ab-434d-977a-a83959f8104a","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:08:50,593 minium.Conn4976 connection#697 _handle_async_msg] received async msg: 2448e936-10ab-434d-977a-a83959f8104a
[D 2024-05-22 15:08:51,724 minium.Conn4976 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/workMainpage/workMainpage","query":{},"openType":"reLaunch","__ts__":1716404931695},1716404931698]}}
[I 2024-05-22 15:08:51,726 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/workMainpage/workMainpage', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404931695}, 1716404931698]}
[I 2024-05-22 15:08:51,729 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:08:51,730 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:08:51,730 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"74841396-c455-4a21-ab34-586b4d369720","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:08:51,974 minium.Conn4976 connection#651 __on_message] RECV < {"id":"74841396-c455-4a21-ab34-586b4d369720","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3Xl8XHW9//Hv98ySyd6kadI1tGlLS5d0CVtLEVqBy+Wn5ScKqLRy21IXlt/9KbJfC8j9If7uA0RBUJaioAL+FLkogrKULgJ2pXQL3Zs2TZtmnSyT2c7398dsZybTRaGNn/h6PnzEJHN65pzPOe/znplMgp6z7HmllDJKaWWM0lobY7TSRsU+Kh2/0XFrapn4rYk1xFeR+KjSpd1qjGPNSqXuMb7+xIIZtzo2VKXdvUqtKePW+HpSa9BKp21m71tTe+TYr9T2Zrs1sczxJpZlqhlrUJmOOtX4ZJLrP8bcErdmn1h8TOnfSHyR/bicwFQz138CUz3umZbl1th+ndjEnMtkzi3jbMw21eOcaUef6jHOtMQeZa...
[I 2024-05-22 15:08:51,977 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:08:51,977 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:08:51,979 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"a9bf2df0-3421-481f-939f-7a3a679218b3","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:08:51,985 minium.Conn4976 connection#653 __on_message] RECV < {"id":"a9bf2df0-3421-481f-939f-7a3a679218b3","result":{"pageId":4,"path":"pages/workMainpage/workMainpage","query":{}}}
[I 2024-05-22 15:08:51,987 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/workMainpage/workMainpage, query={})
[D 2024-05-22 15:09:01,990 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:09:01,991 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:09:01,991 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:09:01,991 minium.Conn4976 connection#417 _safely_send] SEND > {"id":"f89e289f-f111-4f0d-90a5-16fe7875f41d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:09:02,121 minium.Conn4976 connection#651 __on_message] RECV < {"id":"f89e289f-f111-4f0d-90a5-16fe7875f41d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzsnXdAFEf7x5/da9zB0asUQVERRWxYUaKxxN6ivthjjSbR2GLi742mmGLUqLElIoktatSAncQGYscOiiIIHL0dB3dcv939/bGw7B1HkRbJO58/YG93dsqz88x3dnZ2BxscfRQAgALAgKIAwzCKojDAKKD/AlZ+kHW0Mkz50YoYyqOo+AvGGB2lKFbMAJUplsdfEdDkKCujYJQ8VMZkcrQ8nsoYMMCMsln1aGWJWOWqzK+5oxVharOYGauaxACmVGvVcssw8ddgt4qj5i1WbibjHRU/zF+XOljVNP46WLXWmmbmKF2uulmMHcbUbia10ZxVa6lp1Vu1hppWUSJT7zNnMTN2wysSxQAAwzCgKIzZroijPCUMo4...
[I 2024-05-22 15:09:02,123 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:09:02,123 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:09:02,124 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:09:02,131 minium.Conn4976 connection#417 _safely_send] ASYNC_SEND > {"id":"658a722b-7093-4ad3-8343-731c7186a260","method":"Tool.close","params":{}}
[D 2024-05-22 15:09:02,134 minium.Conn4976 connection#653 __on_message] RECV < {"id":"658a722b-7093-4ad3-8343-731c7186a260","result":{}}
[I 2024-05-22 15:09:02,135 minium.Conn4976 connection#697 _handle_async_msg] received async msg: 658a722b-7093-4ad3-8343-731c7186a260, maybe command ignore response
[E 2024-05-22 15:09:02,156 minium.Conn4976 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:09:02,157 minium.Conn4976 connection#697 _handle_async_msg] received async msg: 58e47630-25a8-4777-ac01-a564a82db049
[I 2024-05-22 15:09:02,158 minium.Conn4976 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:09:03,600 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:09:03,601 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:09:03,601 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:09:03,602 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:09:03,602 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx0bc8123197e70985" --auto-port 9420
[I 2024-05-22 15:09:09,155 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:09:09,157 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:09:14,164 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:09:14,545 minium.Conn8176 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:09:14,547 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d1908485-fee4-4646-adf0-2e558e1301fa","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:09:14,553 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d1908485-fee4-4646-adf0-2e558e1301fa","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:09:14,554 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"87483344-f49f-454f-bc48-1858a428d16d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:09:29,048 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:09:29,054 minium.Conn8176 connection#651 __on_message] RECV < {"id":"87483344-f49f-454f-bc48-1858a428d16d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:09:29,056 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:09:29,068 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2fa39466-fe3b-4321-aa30-a664b99835cb","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:09:29,084 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2fa39466-fe3b-4321-aa30-a664b99835cb","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:09:29,085 minium.Conn8176 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:09:29,086 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"d36b8d38-5571-43b4-9cbe-975ab55f7672","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:09:29,132 minium.Conn8176 connection#653 __on_message] RECV < {"id":"d36b8d38-5571-43b4-9cbe-975ab55f7672","result":{}}
[D 2024-05-22 15:09:29,133 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"5a84f2f0-db9e-41ca-9df7-e3b4221168b9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:09:29,163 minium.Conn8176 connection#653 __on_message] RECV < {"id":"5a84f2f0-db9e-41ca-9df7-e3b4221168b9","result":{}}
[D 2024-05-22 15:09:29,169 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:09:29,170 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"0f51ed18-5188-45a1-9d11-1ee471b409d4","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:09:29,247 minium.Conn8176 connection#653 __on_message] RECV < {"id":"0f51ed18-5188-45a1-9d11-1ee471b409d4","result":{}}
[D 2024-05-22 15:09:29,249 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:09:29,250 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"3d727967-9098-4a20-88d9-eb8ca03d3832","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:09:29,282 minium.Conn8176 connection#653 __on_message] RECV < {"id":"3d727967-9098-4a20-88d9-eb8ca03d3832","result":{}}
[D 2024-05-22 15:09:29,284 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:09:29,285 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"caeb2872-d202-405d-9aa8-0f142fcbf64d","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:09:29,302 minium.Conn8176 connection#653 __on_message] RECV < {"id":"caeb2872-d202-405d-9aa8-0f142fcbf64d","result":{"result":true}}
[D 2024-05-22 15:09:29,305 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"c8cc7e75-23a4-4f3f-89b2-7f3af0aa7808","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:09:29,318 minium.Conn8176 connection#651 __on_message] RECV < {"id":"c8cc7e75-23a4-4f3f-89b2-7f3af0aa7808","result":{"result":{"pages":["pages/index/index","pages/governmentCoupon/index/index","pages/governmentCoupon/my/index","pages/index/order/index","pages/productOrder/list/list","pages/venue/list/list","pages/venue/orderProduct/orderProduct","pages/venue/detail/detail","pages/productOrder/code/code","pages/venue/selectCoupon/selectCoupon","pages/user/authentication/authentication","pages/user/chinabank/index","pages/user/opencard/link_one","pages/user/opencard/...
[D 2024-05-22 15:09:29,320 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"80b33df2-24ea-4e28-8336-7246f8f7959a","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:09:29,332 minium.Conn8176 connection#653 __on_message] RECV < {"id":"80b33df2-24ea-4e28-8336-7246f8f7959a","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:09:29,335 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"675cb75e-27a0-452e-9fa8-0722b9a2f81a","method":"App.addBinding","params":{"name":"showModal_before_1716404969334"}}
[D 2024-05-22 15:09:29,351 minium.Conn8176 connection#653 __on_message] RECV < {"id":"675cb75e-27a0-452e-9fa8-0722b9a2f81a","result":{}}
[D 2024-05-22 15:09:29,353 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"5b09f0f4-0ef8-4115-9d76-8594830fbcf6","method":"App.addBinding","params":{"name":"showModal_callback_1716404969334"}}
[D 2024-05-22 15:09:29,361 minium.Conn8176 connection#653 __on_message] RECV < {"id":"5b09f0f4-0ef8-4115-9d76-8594830fbcf6","result":{}}
[D 2024-05-22 15:09:29,362 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:09:29,364 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"29ef8ce7-1279-4703-aedd-4a85ac7567b1","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716404969334,after:undefined,callback:showModal_callback_1716404969334},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716404969334,true]}}
[D 2024-05-22 15:09:29,391 minium.Conn8176 connection#653 __on_message] RECV < {"id":"29ef8ce7-1279-4703-aedd-4a85ac7567b1","result":{}}
[D 2024-05-22 15:09:29,392 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f7d04a1b-0416-4402-9027-2105070fe7c7","method":"App.addBinding","params":{"name":"showToast_before_1716404969392"}}
[D 2024-05-22 15:09:29,405 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f7d04a1b-0416-4402-9027-2105070fe7c7","result":{}}
[D 2024-05-22 15:09:29,407 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2a438736-d8d9-4d3f-8b51-3118c734d4b5","method":"App.addBinding","params":{"name":"showToast_callback_1716404969392"}}
[D 2024-05-22 15:09:29,442 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2a438736-d8d9-4d3f-8b51-3118c734d4b5","result":{}}
[D 2024-05-22 15:09:29,443 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:09:29,444 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"fa88d0e0-9741-4ae4-8f3f-2a1b2a6e4620","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716404969392,after:undefined,callback:showToast_callback_1716404969392},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716404969392,true]}}
[D 2024-05-22 15:09:29,461 minium.Conn8176 connection#653 __on_message] RECV < {"id":"fa88d0e0-9741-4ae4-8f3f-2a1b2a6e4620","result":{}}
[D 2024-05-22 15:09:29,465 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"f6a1f23c-eb96-4bf8-aab7-c3daf0205cc5","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:09:29,500 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716404969334","args":[{"content":"获取微信信息失败，请稍后再试","showCancel":false},0.35687289090011287]}}
[D 2024-05-22 15:09:29,502 minium app#1074 super_before] showModal before hook result: [{'content': '获取微信信息失败，请稍后再试', 'showCancel': False}, 0.35687289090011287]
[D 2024-05-22 15:09:29,677 minium.Conn8176 connection#653 __on_message] RECV < {"id":"f6a1f23c-eb96-4bf8-aab7-c3daf0205cc5","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:09:29,679 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:09:29,680 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"830dde1e-ace5-49ca-b547-bdd8ea386f68","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:09:29,692 minium.Conn8176 connection#653 __on_message] RECV < {"id":"830dde1e-ace5-49ca-b547-bdd8ea386f68","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:09:29,694 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"77be8b1a-6a25-4ed6-9c2e-d51add56f99b","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:09:30,249 minium.Conn8176 connection#653 __on_message] RECV < {"id":"77be8b1a-6a25-4ed6-9c2e-d51add56f99b","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:09:30,250 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 77be8b1a-6a25-4ed6-9c2e-d51add56f99b
[D 2024-05-22 15:09:30,766 minium.Conn8176 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716404970669},1716404970673]}}
[I 2024-05-22 15:09:30,768 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716404970669}, 1716404970673]}
[D 2024-05-22 15:09:30,770 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"441cf3cf-1a88-491e-a84a-4c22860addde","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:09:30,778 minium.Conn8176 connection#653 __on_message] RECV < {"id":"441cf3cf-1a88-491e-a84a-4c22860addde","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:09:30,780 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"c2280a74-0738-4db4-b138-678a345daf92","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:09:30,806 minium.Conn8176 connection#653 __on_message] RECV < {"id":"c2280a74-0738-4db4-b138-678a345daf92","result":{"result":false}}
[D 2024-05-22 15:09:30,808 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:09:30,809 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"7ee561b2-501f-45c8-93bb-71a3b7a6ad1d","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:09:30,828 minium.Conn8176 connection#653 __on_message] RECV < {"id":"7ee561b2-501f-45c8-93bb-71a3b7a6ad1d","result":{}}
[D 2024-05-22 15:09:30,829 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"6514c045-d1df-4b44-b477-8849a71e0d3b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:09:31,650 minium.Conn8176 connection#653 __on_message] RECV < {"id":"6514c045-d1df-4b44-b477-8849a71e0d3b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:09:31,653 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"4ec14d92-1a86-4dbb-8db3-45ad04bf5e97","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:09:31,657 minium.Conn8176 connection#653 __on_message] RECV < {"id":"4ec14d92-1a86-4dbb-8db3-45ad04bf5e97","result":{}}
[D 2024-05-22 15:09:31,659 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"2e22be10-3ce7-4ed7-9177-9b3176ad368e","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:09:31,665 minium.Conn8176 connection#653 __on_message] RECV < {"id":"2e22be10-3ce7-4ed7-9177-9b3176ad368e","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:09:31,667 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"04030a95-681c-46c4-ba6e-3819e4bfdd19","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:09:31,675 minium.Conn8176 connection#651 __on_message] RECV < {"id":"04030a95-681c-46c4-ba6e-3819e4bfdd19","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":33,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:09:31,676 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:09:31,679 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:09:31,679 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:09:31,679 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:09:31,679 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:09:31,679 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:09:31,680 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:09:31,680 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:09:31,680 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"30754235-51bb-42d7-9163-51d2253b4176","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:09:31,737 minium.Conn8176 connection#653 __on_message] RECV < {"id":"30754235-51bb-42d7-9163-51d2253b4176","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:09:31,738 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 30754235-51bb-42d7-9163-51d2253b4176
[I 2024-05-22 15:09:31,740 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:09:31,741 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:09:31,742 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"05b488ac-3347-4490-8eb6-f6b9d2c28900","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:09:31,867 minium.Conn8176 connection#651 __on_message] RECV < {"id":"05b488ac-3347-4490-8eb6-f6b9d2c28900","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3WdgFNX+N/DfzGzNbjabXkhCCz0BQgtdOiggIgg8iqhUxXsvwl+vNNEriihFUfTKxQsoShGQYkIJLcEQEAjEJEAa6SF9s71OeV4cWPeGYkLT0d/nhc7OnJk9O+x3zpkzsxlKEARACIkT/XtXACF07yT3vCbHcRzHuVwujuN4nseWHKHGoyiKpmnJTTR9j00pdW/Bs9vtDofDXQ+KoiiKurcaIPQXJAiCIAjulk8ulysUinvYTpMDzPO82WwGAInk3ltvhJAnl8tFUZRarW5qU9y00jzPGwwG0vQ3aUWE0F1IpVKapg0GA8/zTVqxCS0wSa9cLm969RBCjeJwOLRabeNPSJvQAptMJqlUek+1Qgg1ilQqNR...
[I 2024-05-22 15:09:31,869 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:09:31,870 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:09:31,871 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"5823bdd7-98bf-4d68-8312-afa70631fce0","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:09:31,874 minium.Conn8176 connection#653 __on_message] RECV < {"id":"5823bdd7-98bf-4d68-8312-afa70631fce0","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:09:31,876 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:09:41,878 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:09:41,880 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:09:41,880 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:09:41,881 minium.Conn8176 connection#417 _safely_send] SEND > {"id":"9feab01b-37f1-4250-9beb-920020ba497c","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:09:42,086 minium.Conn8176 connection#651 __on_message] RECV < {"id":"9feab01b-37f1-4250-9beb-920020ba497c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVmMHcmZLvb/ERmZefa1NtbCnU12s9kke5NaUo+2kebOXWxfXHgMLzDga8CA/Wb4wS+GXw1cAzbuBWwY8JuNgQ1fj8eYmesZjdTqltStltQ7yV64FJdaWNvZl9wi4vdDZp6lqkgWyWKzKOUnQM3KkxkZGRFf/GtEIBFBggQJnk2wp12BBAkSPDqMR35SKaWUCoJAKaW1TiR5ggR7ByIyxowYjD2iKMVHI57rup7nDeqBiIj4aDVIkOAPEERERAPJZ1mWbduPUM5DE1hr3e12AcAwHl16J0iQYBRBECBiNpt9WFH8cHdrrVutVij6H+rBBAkS3AdCCMZYq9XSWj/Ugw8hgUP2Wpb18NVLkCDBnuB5XrFY3L...
[I 2024-05-22 15:09:42,088 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:09:42,089 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:09:42,089 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:09:42,105 minium.Conn8176 connection#417 _safely_send] ASYNC_SEND > {"id":"86d452d7-85ac-4d13-91ea-6093b8ee6ff8","method":"Tool.close","params":{}}
[D 2024-05-22 15:09:42,107 minium.Conn8176 connection#653 __on_message] RECV < {"id":"86d452d7-85ac-4d13-91ea-6093b8ee6ff8","result":{}}
[I 2024-05-22 15:09:42,108 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 86d452d7-85ac-4d13-91ea-6093b8ee6ff8, maybe command ignore response
[E 2024-05-22 15:09:42,130 minium.Conn8176 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:09:42,130 minium.Conn8176 connection#697 _handle_async_msg] received async msg: 91514221-f819-4d01-9e44-cdb708119946
[I 2024-05-22 15:09:42,131 minium.Conn8176 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:09:43,620 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:09:43,621 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:09:43,622 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:09:43,622 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:09:43,623 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7951c581d9200725" --auto-port 9420
[I 2024-05-22 15:09:49,245 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:09:49,245 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:09:54,251 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:09:54,507 minium.Conn4736 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:09:54,508 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"0282dc7e-ff4c-4aa9-b910-ca30f643afe3","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:09:54,515 minium.Conn4736 connection#653 __on_message] RECV < {"id":"0282dc7e-ff4c-4aa9-b910-ca30f643afe3","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:09:54,517 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"fbd02e09-c2ca-4672-ae8c-de9bf367e9cd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:10:06,404 minium.Conn4736 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:10:06,412 minium.Conn4736 connection#651 __on_message] RECV < {"id":"fbd02e09-c2ca-4672-ae8c-de9bf367e9cd","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":32,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:10:06,413 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:10:06,417 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"76a90328-411e-4502-8bcd-08bb5079a506","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:10:06,433 minium.Conn4736 connection#653 __on_message] RECV < {"id":"76a90328-411e-4502-8bcd-08bb5079a506","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:10:06,434 minium.Conn4736 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:10:06,436 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"d31ba57b-8411-4966-8bc2-a3f863a49989","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:10:06,459 minium.Conn4736 connection#653 __on_message] RECV < {"id":"d31ba57b-8411-4966-8bc2-a3f863a49989","result":{}}
[D 2024-05-22 15:10:06,460 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"13141dc2-c0b2-4fa2-a2ac-14fb03dc12a6","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:10:06,472 minium.Conn4736 connection#653 __on_message] RECV < {"id":"13141dc2-c0b2-4fa2-a2ac-14fb03dc12a6","result":{}}
[D 2024-05-22 15:10:06,473 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:10:06,474 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"a3796e4b-4815-4b81-a90d-25971ae46082","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:10:06,484 minium.Conn4736 connection#653 __on_message] RECV < {"id":"a3796e4b-4815-4b81-a90d-25971ae46082","result":{}}
[D 2024-05-22 15:10:06,485 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:10:06,487 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"f33c9480-ef58-4e3a-ae76-96c9a9e5ccde","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:10:06,500 minium.Conn4736 connection#653 __on_message] RECV < {"id":"f33c9480-ef58-4e3a-ae76-96c9a9e5ccde","result":{}}
[D 2024-05-22 15:10:06,502 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:10:06,505 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"f16d114f-b9ca-446b-9149-c8469b0c196e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:10:06,521 minium.Conn4736 connection#653 __on_message] RECV < {"id":"f16d114f-b9ca-446b-9149-c8469b0c196e","result":{"result":true}}
[D 2024-05-22 15:10:06,523 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"ff472da7-2fb3-4b2b-aba0-c5f50a57f396","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:10:06,536 minium.Conn4736 connection#653 __on_message] RECV < {"id":"ff472da7-2fb3-4b2b-aba0-c5f50a57f396","result":{"result":{"pages":["pages/index/index","pages/make/index","pages/share/index","pages/rank/index","pages/more/index"],"tabBar":[]}}}
[D 2024-05-22 15:10:06,539 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"73964e6f-1f80-49a3-a16c-48cb57f1927c","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:10:06,551 minium.Conn4736 connection#653 __on_message] RECV < {"id":"73964e6f-1f80-49a3-a16c-48cb57f1927c","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:10:06,552 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"3d69abf9-6fb5-464a-91dd-30295e8eaa0c","method":"App.addBinding","params":{"name":"showModal_before_1716405006552"}}
[D 2024-05-22 15:10:06,558 minium.Conn4736 connection#653 __on_message] RECV < {"id":"3d69abf9-6fb5-464a-91dd-30295e8eaa0c","result":{}}
[D 2024-05-22 15:10:06,560 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"5959af2a-715c-4583-a8a2-ee956f7a6b25","method":"App.addBinding","params":{"name":"showModal_callback_1716405006552"}}
[D 2024-05-22 15:10:06,569 minium.Conn4736 connection#653 __on_message] RECV < {"id":"5959af2a-715c-4583-a8a2-ee956f7a6b25","result":{}}
[D 2024-05-22 15:10:06,570 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:10:06,572 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"1910ddca-67c4-4a7e-bd74-0331dbe85615","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716405006552,after:undefined,callback:showModal_callback_1716405006552},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716405006552,true]}}
[D 2024-05-22 15:10:06,582 minium.Conn4736 connection#653 __on_message] RECV < {"id":"1910ddca-67c4-4a7e-bd74-0331dbe85615","result":{}}
[D 2024-05-22 15:10:06,584 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"ea60626d-1d19-415c-ae39-10b6d1071371","method":"App.addBinding","params":{"name":"showToast_before_1716405006583"}}
[D 2024-05-22 15:10:06,591 minium.Conn4736 connection#653 __on_message] RECV < {"id":"ea60626d-1d19-415c-ae39-10b6d1071371","result":{}}
[D 2024-05-22 15:10:06,593 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"ad6628bb-85a3-481d-bd35-9a6486457031","method":"App.addBinding","params":{"name":"showToast_callback_1716405006583"}}
[D 2024-05-22 15:10:06,604 minium.Conn4736 connection#653 __on_message] RECV < {"id":"ad6628bb-85a3-481d-bd35-9a6486457031","result":{}}
[D 2024-05-22 15:10:06,605 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:10:06,606 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"43f9dd65-b91d-4dc4-99bc-0860e7c2a23e","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716405006583,after:undefined,callback:showToast_callback_1716405006583},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716405006583,true]}}
[D 2024-05-22 15:10:06,615 minium.Conn4736 connection#653 __on_message] RECV < {"id":"43f9dd65-b91d-4dc4-99bc-0860e7c2a23e","result":{}}
[D 2024-05-22 15:10:06,618 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"9558457b-9f26-4978-b6b9-a0a725999731","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:10:06,628 minium.Conn4736 connection#653 __on_message] RECV < {"id":"9558457b-9f26-4978-b6b9-a0a725999731","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:10:06,629 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:10:06,632 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"e893ec25-b899-4510-a7c5-faa743d21aa6","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:10:06,643 minium.Conn4736 connection#653 __on_message] RECV < {"id":"e893ec25-b899-4510-a7c5-faa743d21aa6","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:10:06,645 minium.Conn4736 connection#417 _safely_send] ASYNC_SEND > {"id":"e3916094-3f3d-4679-b911-ea757a99b8f8","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:10:06,830 minium.Conn4736 connection#653 __on_message] RECV < {"id":"e3916094-3f3d-4679-b911-ea757a99b8f8","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:10:06,830 minium.Conn4736 connection#697 _handle_async_msg] received async msg: e3916094-3f3d-4679-b911-ea757a99b8f8
[D 2024-05-22 15:10:06,897 minium.Conn4736 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'sys_appname' of undefined","stack":"TypeError: Cannot read property 'sys_appname' of undefined\n    at http://127.0.0.1:30216/appservice/pages/index/index.js?t=wechat&s=1716404990326&v=6b57d8aa247f71c17208d05f8fb62db9:21:47\n    at Object.success (http://127.0.0.1:30216/appservice/app.js?t=wechat&s=1716404990326&v=350ae6b2cf444cb511e96db37259d8d2:29:52)\n    at http://127.0.0.1:30216/appservice/we7/resource/js/util.js?t=wechat&s=1...
[D 2024-05-22 15:10:07,504 minium.Conn4736 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716405007484},1716405007489]}}
[I 2024-05-22 15:10:07,506 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405007484}, 1716405007489]}
[D 2024-05-22 15:10:07,508 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"d33ee266-36f2-42fa-b88f-18e8d34afc90","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:10:07,519 minium.Conn4736 connection#653 __on_message] RECV < {"id":"d33ee266-36f2-42fa-b88f-18e8d34afc90","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:10:07,521 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"90458d88-91b0-4743-9993-babb54a8baf8","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:10:07,540 minium.Conn4736 connection#653 __on_message] RECV < {"id":"90458d88-91b0-4743-9993-babb54a8baf8","result":{"result":false}}
[D 2024-05-22 15:10:07,542 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:10:07,543 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"8c76052e-d143-458e-a59b-2a44813f4f0a","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:10:07,569 minium.Conn4736 connection#653 __on_message] RECV < {"id":"8c76052e-d143-458e-a59b-2a44813f4f0a","result":{}}
[D 2024-05-22 15:10:07,570 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"ef2c9d45-2d4e-467f-b777-0172ec8f0f24","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:10:07,698 minium.Conn4736 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'sys_appname' of undefined","stack":"TypeError: Cannot read property 'sys_appname' of undefined\n    at http://127.0.0.1:30216/appservice/pages/index/index.js?t=wechat&s=1716404990326&v=6b57d8aa247f71c17208d05f8fb62db9:21:47\n    at Object.success (http://127.0.0.1:30216/appservice/app.js?t=wechat&s=1716404990326&v=350ae6b2cf444cb511e96db37259d8d2:29:52)\n    at http://127.0.0.1:30216/appservice/we7/resource/js/util.js?t=wechat&s=1...
[D 2024-05-22 15:10:08,258 minium.Conn4736 connection#653 __on_message] RECV < {"id":"ef2c9d45-2d4e-467f-b777-0172ec8f0f24","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:10:08,261 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"df606999-5105-4424-918c-99f8dca5b4f6","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:10:08,269 minium.Conn4736 connection#653 __on_message] RECV < {"id":"df606999-5105-4424-918c-99f8dca5b4f6","result":{}}
[D 2024-05-22 15:10:08,271 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"7c53670c-7244-43f6-b25f-965f783b6803","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:10:08,278 minium.Conn4736 connection#653 __on_message] RECV < {"id":"7c53670c-7244-43f6-b25f-965f783b6803","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:10:08,280 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"acedf5c1-bb2f-45da-9ac6-3ae5b87492dc","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:10:08,288 minium.Conn4736 connection#651 __on_message] RECV < {"id":"acedf5c1-bb2f-45da-9ac6-3ae5b87492dc","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":32,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:10:08,289 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:10:08,292 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:10:08,293 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:10:08,293 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:10:08,294 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:10:08,294 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:10:08,295 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:10:08,295 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 15:10:08,295 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:10:08,296 minium.Conn4736 connection#417 _safely_send] ASYNC_SEND > {"id":"4eb0350c-6001-4a79-ba14-5954627124d3","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:10:08,399 minium.Conn4736 connection#653 __on_message] RECV < {"id":"4eb0350c-6001-4a79-ba14-5954627124d3","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:10:08,400 minium.Conn4736 connection#697 _handle_async_msg] received async msg: 4eb0350c-6001-4a79-ba14-5954627124d3
[D 2024-05-22 15:10:09,104 minium.Conn4736 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716405009088},1716405009091]}}
[I 2024-05-22 15:10:09,106 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405009088}, 1716405009091]}
[I 2024-05-22 15:10:09,109 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:10:09,110 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:10:09,110 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"a265c486-4ef1-4f9c-877e-4a846f86e65e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:10:09,260 minium.Conn4736 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'sys_appname' of undefined","stack":"TypeError: Cannot read property 'sys_appname' of undefined\n    at http://127.0.0.1:30216/appservice/pages/index/index.js?t=wechat&s=1716404990326&v=6b57d8aa247f71c17208d05f8fb62db9:21:47\n    at Object.success (http://127.0.0.1:30216/appservice/app.js?t=wechat&s=1716404990326&v=350ae6b2cf444cb511e96db37259d8d2:29:52)\n    at http://127.0.0.1:30216/appservice/we7/resource/js/util.js?t=wechat&s=1...
[D 2024-05-22 15:10:09,344 minium.Conn4736 connection#651 __on_message] RECV < {"id":"a265c486-4ef1-4f9c-877e-4a846f86e65e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 15:10:09,346 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:10:09,347 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:10:09,348 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"d59f384c-384f-4321-aa52-6cb9f65d771a","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:10:09,357 minium.Conn4736 connection#653 __on_message] RECV < {"id":"d59f384c-384f-4321-aa52-6cb9f65d771a","result":{"pageId":4,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:10:09,359 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/index/index, query={})
[D 2024-05-22 15:10:19,362 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:10:19,363 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:10:19,364 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:10:19,364 minium.Conn4736 connection#417 _safely_send] SEND > {"id":"b66084f8-ec9a-4745-8a74-1b7e38a1f73e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:10:19,603 minium.Conn4736 connection#651 __on_message] RECV < {"id":"b66084f8-ec9a-4745-8a74-1b7e38a1f73e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJy8vVnQJcd1JvadzKyqe/+l/270hga6sTQBYiEIkCBIcZFIajiaGYrSKCY8smRrZuzwgyMm5PCT58UOO+yHifHD2BGO8BJhhze9aIaacWhC0kgiJVErKZIgQQIEiAbYDaDR+/6v91Zl5jl+yKyqrOXe/28G7STY/62sk/v5zjmZeTKLbl7YRBoIhH6g+P/ksU8sMaKbuP+Y/KE61SBypFzqREoaRT36BVm1acdejBLv+6pp9cJ3da+Mpusn7kVKP46yXBUrUHppsQsqd7AkKTmFJBSfl2RQk/QLopDP/ZW8oDaBl9JKdEpdVrFhrPjK7d4WVwJEoMhoKYdHzhvn6jTrRUX043uVr9/vOyy9Xh2yr+n1MTVZ9m...
[I 2024-05-22 15:10:19,606 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:10:19,607 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:10:19,607 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:10:19,619 minium.Conn4736 connection#417 _safely_send] ASYNC_SEND > {"id":"c52faeff-9a40-4028-b777-1dda18129080","method":"Tool.close","params":{}}
[D 2024-05-22 15:10:19,622 minium.Conn4736 connection#653 __on_message] RECV < {"id":"c52faeff-9a40-4028-b777-1dda18129080","result":{}}
[I 2024-05-22 15:10:19,623 minium.Conn4736 connection#697 _handle_async_msg] received async msg: c52faeff-9a40-4028-b777-1dda18129080, maybe command ignore response
[E 2024-05-22 15:10:19,646 minium.Conn4736 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:10:19,647 minium.Conn4736 connection#697 _handle_async_msg] received async msg: cd14619b-3c3f-4d86-a7ac-7002f11efcf0
[I 2024-05-22 15:10:19,648 minium.Conn4736 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:10:21,179 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:10:21,181 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:10:21,181 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:10:21,181 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:10:21,182 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxacc203631394b9c4" --auto-port 9420
[I 2024-05-22 15:10:27,151 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:10:27,152 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:10:32,158 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:10:32,737 minium.Conn7872 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:10:32,738 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"24577a60-82b2-47f4-b8b0-d83851b5cd8f","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:10:32,747 minium.Conn7872 connection#653 __on_message] RECV < {"id":"24577a60-82b2-47f4-b8b0-d83851b5cd8f","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:10:32,749 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"073831aa-854e-452c-b7d9-c7c02b4c3f0e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:10:48,167 minium.Conn7872 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:10:48,176 minium.Conn7872 connection#651 __on_message] RECV < {"id":"073831aa-854e-452c-b7d9-c7c02b4c3f0e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":32,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:10:48,179 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:10:48,181 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"12601f2f-96c0-4298-9e1d-7cc1b0a94152","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:10:48,188 minium.Conn7872 connection#653 __on_message] RECV < {"id":"12601f2f-96c0-4298-9e1d-7cc1b0a94152","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:10:48,189 minium.Conn7872 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:10:48,190 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"c26eff48-0050-4207-ad50-6e1525a88193","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:10:48,199 minium.Conn7872 connection#653 __on_message] RECV < {"id":"c26eff48-0050-4207-ad50-6e1525a88193","result":{}}
[D 2024-05-22 15:10:48,201 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"28192f65-650a-4857-83b6-eb3d827ecff4","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:10:48,229 minium.Conn7872 connection#653 __on_message] RECV < {"id":"28192f65-650a-4857-83b6-eb3d827ecff4","result":{}}
[D 2024-05-22 15:10:48,230 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:10:48,231 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"e949a1d2-6e52-49fc-85fa-cffc2930f716","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:10:48,242 minium.Conn7872 connection#653 __on_message] RECV < {"id":"e949a1d2-6e52-49fc-85fa-cffc2930f716","result":{}}
[D 2024-05-22 15:10:48,243 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:10:48,244 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"af31537e-7825-47a8-a3b7-123a2c95c82f","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:10:48,258 minium.Conn7872 connection#653 __on_message] RECV < {"id":"af31537e-7825-47a8-a3b7-123a2c95c82f","result":{}}
[D 2024-05-22 15:10:48,260 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:10:48,261 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"aa7c4f86-a241-4406-83f9-57c591523e52","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:10:48,271 minium.Conn7872 connection#653 __on_message] RECV < {"id":"aa7c4f86-a241-4406-83f9-57c591523e52","result":{"result":true}}
[D 2024-05-22 15:10:48,274 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"30bf0e22-2cda-4aca-aff6-9553a0bbc314","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:10:48,290 minium.Conn7872 connection#651 __on_message] RECV < {"id":"30bf0e22-2cda-4aca-aff6-9553a0bbc314","result":{"result":{"pages":["pages/index/index","pages/qrcode/qrcode_index/qrcode_index","pages/login/index","pages/article/article","pages/user/user_order/user_order","pages/user/user_index/user_index","pages/user/user_help/user_help","pages/sign/index","pages/user/about/about","pages/voucher/index","pages/live/live-bus/live-bus","pages/live/bus-line/bus-line","pages/live/station/station","pages/bus/search/search","pages/bus/line/line","pages/nfc/index/index...
[D 2024-05-22 15:10:48,291 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"867bcc1b-fa5a-4cda-95d9-f5c1630fffad","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:10:48,299 minium.Conn7872 connection#653 __on_message] RECV < {"id":"867bcc1b-fa5a-4cda-95d9-f5c1630fffad","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:10:48,303 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"8202b76d-7776-4af8-8923-e75010f14e40","method":"App.addBinding","params":{"name":"showModal_before_1716405048303"}}
[D 2024-05-22 15:10:48,309 minium.Conn7872 connection#653 __on_message] RECV < {"id":"8202b76d-7776-4af8-8923-e75010f14e40","result":{}}
[D 2024-05-22 15:10:48,310 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"425bff35-7b6e-4380-8d3b-73fd3755d4c0","method":"App.addBinding","params":{"name":"showModal_callback_1716405048303"}}
[D 2024-05-22 15:10:48,317 minium.Conn7872 connection#653 __on_message] RECV < {"id":"425bff35-7b6e-4380-8d3b-73fd3755d4c0","result":{}}
[D 2024-05-22 15:10:48,318 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:10:48,320 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"ed6b6fb3-3df9-43a2-aac5-4eb970efd1b0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716405048303,after:undefined,callback:showModal_callback_1716405048303},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716405048303,true]}}
[D 2024-05-22 15:10:48,326 minium.Conn7872 connection#653 __on_message] RECV < {"id":"ed6b6fb3-3df9-43a2-aac5-4eb970efd1b0","result":{}}
[D 2024-05-22 15:10:48,327 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"e997d9b6-894b-4046-8115-56193ccabc09","method":"App.addBinding","params":{"name":"showToast_before_1716405048327"}}
[D 2024-05-22 15:10:48,332 minium.Conn7872 connection#653 __on_message] RECV < {"id":"e997d9b6-894b-4046-8115-56193ccabc09","result":{}}
[D 2024-05-22 15:10:48,333 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"1764d61b-e1cb-46b6-a340-d23b1e5eeaf6","method":"App.addBinding","params":{"name":"showToast_callback_1716405048327"}}
[D 2024-05-22 15:10:48,341 minium.Conn7872 connection#653 __on_message] RECV < {"id":"1764d61b-e1cb-46b6-a340-d23b1e5eeaf6","result":{}}
[D 2024-05-22 15:10:48,343 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:10:48,344 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"80c877c4-e2e4-4c27-8b1e-be5ad55bc7ae","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716405048327,after:undefined,callback:showToast_callback_1716405048327},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716405048327,true]}}
[D 2024-05-22 15:10:48,352 minium.Conn7872 connection#653 __on_message] RECV < {"id":"80c877c4-e2e4-4c27-8b1e-be5ad55bc7ae","result":{}}
[D 2024-05-22 15:10:48,354 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"c9f39f44-61ee-4a26-9327-b82fe7456373","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:10:48,366 minium.Conn7872 connection#653 __on_message] RECV < {"id":"c9f39f44-61ee-4a26-9327-b82fe7456373","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:10:48,368 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:10:48,371 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"79e035a4-1eea-4bfd-b649-262cce82a379","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:10:48,379 minium.Conn7872 connection#653 __on_message] RECV < {"id":"79e035a4-1eea-4bfd-b649-262cce82a379","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:10:48,381 minium.Conn7872 connection#417 _safely_send] ASYNC_SEND > {"id":"cd06aa0a-379d-4814-acc1-c33c38cedd0d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:10:48,555 minium.Conn7872 connection#653 __on_message] RECV < {"id":"cd06aa0a-379d-4814-acc1-c33c38cedd0d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:10:48,556 minium.Conn7872 connection#697 _handle_async_msg] received async msg: cd06aa0a-379d-4814-acc1-c33c38cedd0d
[D 2024-05-22 15:10:49,113 minium.Conn7872 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716405049033},1716405049037]}}
[I 2024-05-22 15:10:49,114 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405049033}, 1716405049037]}
[D 2024-05-22 15:10:49,118 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"31bbc092-c9c5-4d08-b3dc-bbd9fd2215b8","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:10:49,158 minium.Conn7872 connection#653 __on_message] RECV < {"id":"31bbc092-c9c5-4d08-b3dc-bbd9fd2215b8","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:10:49,168 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"c8a18174-a45a-43ee-ab19-36fd8758157a","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:10:49,180 minium.Conn7872 connection#653 __on_message] RECV < {"id":"c8a18174-a45a-43ee-ab19-36fd8758157a","result":{"result":false}}
[D 2024-05-22 15:10:49,181 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:10:49,184 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"7ea5ed13-41ea-4205-a423-506ea2eb6053","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:10:49,206 minium.Conn7872 connection#653 __on_message] RECV < {"id":"7ea5ed13-41ea-4205-a423-506ea2eb6053","result":{}}
[D 2024-05-22 15:10:49,208 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"ac4be18a-dfa5-4d1c-94a9-9897c0ca46a9","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:10:49,850 minium.Conn7872 connection#653 __on_message] RECV < {"id":"ac4be18a-dfa5-4d1c-94a9-9897c0ca46a9","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:10:49,851 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"69d923b9-b49e-44fc-8030-a9b14b9fcc3f","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:10:49,859 minium.Conn7872 connection#653 __on_message] RECV < {"id":"69d923b9-b49e-44fc-8030-a9b14b9fcc3f","result":{}}
[D 2024-05-22 15:10:49,861 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"cd043aac-c477-4bd3-8b31-47b4d6e688e3","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:10:49,872 minium.Conn7872 connection#653 __on_message] RECV < {"id":"cd043aac-c477-4bd3-8b31-47b4d6e688e3","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:10:49,874 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"06c0b4cf-c42d-4cfa-8173-bf5d7ade4c05","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:10:49,894 minium.Conn7872 connection#651 __on_message] RECV < {"id":"06c0b4cf-c42d-4cfa-8173-bf5d7ade4c05","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":32,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:10:49,895 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:10:49,898 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:10:49,899 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:10:49,899 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:10:49,900 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:10:49,901 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:10:49,902 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:10:49,906 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:10:49,911 minium.Conn7872 connection#417 _safely_send] ASYNC_SEND > {"id":"db495a0e-dd4a-43f0-b825-4ffcc708e075","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:10:50,028 minium.Conn7872 connection#653 __on_message] RECV < {"id":"db495a0e-dd4a-43f0-b825-4ffcc708e075","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:10:50,029 minium.Conn7872 connection#697 _handle_async_msg] received async msg: db495a0e-dd4a-43f0-b825-4ffcc708e075
[I 2024-05-22 15:10:50,034 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:10:50,035 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:10:50,036 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"a4f8c1fa-6aed-4ace-ba62-dc36c780547c","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:10:50,205 minium.Conn7872 connection#651 __on_message] RECV < {"id":"a4f8c1fa-6aed-4ace-ba62-dc36c780547c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXl8ZEd16H+q6q69d2tfRtLMaFbP4rHN2GaxDdhsBp7NHuM8QnASXggJWV745ZH3Hr/3CY8shOUTkhgIYUnCz4CJwewYYwO2mfGGPePZRzOjGc1ol3rvu1Wd3x9XarW6W1JLanWr5fv9zGc+V/dWV51b955bVadOnSKwsws8PDwaE6neAmwsfCpcuxk6YxDUIaRDUIOgDkEdFAksB1I5SOUgacwcXJmCZ85D1qy30B4NDPFa4CrQEYWr+2B/L/S3A6PL+CEXcHYEnrsAz56HscSayeexYfEUeHW8ai+8Zh+0hauQ1WgcfnIEfvZCFbLyeNHgKfCKIAReshXuPAjtkSrnPBKHbx2CZ84DYpVz9tiIeAq8fK...
[I 2024-05-22 15:10:50,207 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:10:50,208 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:10:50,209 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"f5128d13-cc0b-4d1b-829a-8c51cbb57e31","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:10:50,214 minium.Conn7872 connection#653 __on_message] RECV < {"id":"f5128d13-cc0b-4d1b-829a-8c51cbb57e31","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:10:50,215 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:11:00,217 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:11:00,219 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:11:00,219 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:11:00,220 minium.Conn7872 connection#417 _safely_send] SEND > {"id":"2123416e-541a-4c92-b458-53d84e75c06c","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:11:00,379 minium.Conn7872 connection#651 __on_message] RECV < {"id":"2123416e-541a-4c92-b458-53d84e75c06c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXl8ZEd16H+q6q69d2tfRtLMaFbP4rHN2GaxDdhsBp7NHuM8QnASXggJWV745ZH3Hr/3CY8shOUTkhgIYUnCz4CJwewYYwO2mfGGPePZRzOjGc1ol3rvu1Wd3x9XarW6W1JLanWr5fv9zGc+V7frVp1b955bVadOnSKwsws8PDwaE6neAmwsfCpcuxk6YxDUIaRDUIOgDkEdFAksB1I5SOUgacwcXJmCZ85D1qy30B4NDPFa4CrQEYWr+2B/L/S3A6PLuJALODsCz12AZ8/DWGLN5PPYsHgKvDpetRdesw/awlXIajQOPzkCP3uhCll5vGjwFHhFEAIv2Qp3HoT2SJVzHonDtw7BM+cBsco5e2xEPAVePl...
[I 2024-05-22 15:11:00,381 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:11:00,381 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:11:00,381 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:11:00,393 minium.Conn7872 connection#417 _safely_send] ASYNC_SEND > {"id":"4d541d9e-04cf-4f0f-bf8a-2a05fa151d39","method":"Tool.close","params":{}}
[D 2024-05-22 15:11:00,396 minium.Conn7872 connection#653 __on_message] RECV < {"id":"4d541d9e-04cf-4f0f-bf8a-2a05fa151d39","result":{}}
[I 2024-05-22 15:11:00,397 minium.Conn7872 connection#697 _handle_async_msg] received async msg: 4d541d9e-04cf-4f0f-bf8a-2a05fa151d39, maybe command ignore response
[E 2024-05-22 15:11:00,419 minium.Conn7872 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:11:00,420 minium.Conn7872 connection#697 _handle_async_msg] received async msg: 127d7f3b-4edc-46bd-bda3-3ac1520db4eb
[I 2024-05-22 15:11:00,421 minium.Conn7872 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:11:01,894 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:11:01,895 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:11:01,895 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:11:01,896 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:11:01,896 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxad57ae1cd953ccef" --auto-port 9420
[I 2024-05-22 15:11:07,546 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:18260
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:11:07,546 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:11:12,548 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:11:12,589 minium.Conn2688 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:11:12,592 minium.Conn2688 connection#417 _safely_send] SEND > {"id":"37d18ec7-73d0-422a-b20a-7273dbc744c8","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:11:12,601 minium.Conn2688 connection#653 __on_message] RECV < {"id":"37d18ec7-73d0-422a-b20a-7273dbc744c8","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:11:12,602 minium.Conn2688 connection#417 _safely_send] SEND > {"id":"4324ce26-a4d9-43a0-830b-ad501804cb53","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 15:11:59,004 minium.Conn2688 connection#632 _on_error] Connection to remote host was lost.
[W 2024-05-22 15:11:59,006 minium.Conn2688 connection#552 reconnect] connection reconnect
[I 2024-05-22 15:11:59,007 minium.Conn2688 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 15:11:59,126 minium.Conn2688 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 15:11:59,137 minium.Conn2688 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 15:11:59,149 minium.Conn2688 connection#568 reconnect] connect refused, please check svr
[I 2024-05-22 15:18:11,510 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:18:11,511 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:18:11,512 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:18:11,512 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:18:11,516 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8d762feb611da990" --auto-port 9420
[I 2024-05-22 15:18:23,404 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 18260, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:31430
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:18:23,405 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:18:28,408 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:18:28,456 minium.Conn2816 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:18:28,457 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"2bd3aff5-e6b9-43ad-9dd1-35983d91ee05","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:18:29,071 minium.Conn2816 connection#653 __on_message] RECV < {"id":"2bd3aff5-e6b9-43ad-9dd1-35983d91ee05","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:18:29,072 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"ad917515-54a2-4e8e-bb72-aa56b7252bd1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:18:44,535 minium.Conn2816 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:18:44,542 minium.Conn2816 connection#651 __on_message] RECV < {"id":"ad917515-54a2-4e8e-bb72-aa56b7252bd1","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":27,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:18:44,544 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:18:44,546 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"b2bf5a85-cc51-498b-bd4f-537b14ecd2fe","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:18:44,557 minium.Conn2816 connection#653 __on_message] RECV < {"id":"b2bf5a85-cc51-498b-bd4f-537b14ecd2fe","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:18:44,559 minium.Conn2816 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:18:44,560 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"8ee82e98-442b-4ec6-bb63-595b66718f31","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:18:44,568 minium.Conn2816 connection#653 __on_message] RECV < {"id":"8ee82e98-442b-4ec6-bb63-595b66718f31","result":{}}
[D 2024-05-22 15:18:44,570 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"cf8b0a18-e19c-44c6-8770-8e749cb8a581","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:18:44,583 minium.Conn2816 connection#653 __on_message] RECV < {"id":"cf8b0a18-e19c-44c6-8770-8e749cb8a581","result":{}}
[D 2024-05-22 15:18:44,585 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:18:44,587 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"c44db8ca-1eb1-4a19-83af-6ab7243e768e","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:18:44,596 minium.Conn2816 connection#653 __on_message] RECV < {"id":"c44db8ca-1eb1-4a19-83af-6ab7243e768e","result":{}}
[D 2024-05-22 15:18:44,597 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:18:44,599 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"f7eac213-0b16-4e5f-98c6-07c395e28376","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:18:44,609 minium.Conn2816 connection#653 __on_message] RECV < {"id":"f7eac213-0b16-4e5f-98c6-07c395e28376","result":{}}
[D 2024-05-22 15:18:44,610 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:18:44,611 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"0fd0940d-1a7b-49f2-87d0-57f7013d2223","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:18:44,620 minium.Conn2816 connection#653 __on_message] RECV < {"id":"0fd0940d-1a7b-49f2-87d0-57f7013d2223","result":{"result":true}}
[D 2024-05-22 15:18:44,622 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"0ccba49b-b326-40e1-bd1a-bc47175a8abc","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:18:44,636 minium.Conn2816 connection#651 __on_message] RECV < {"id":"0ccba49b-b326-40e1-bd1a-bc47175a8abc","result":{"result":{"pages":["pages/store/storeIndex","pages/index/index","pages/store/project/detail/projectDetail","pages/store/product/detail/productDetail","pages/store/vipCard/detail/vipCardDetail","pages/shopList/shopList","pages/store/seckill/seckillDetail/seckillDetail","pages/userInfo/userAuth/userAuth","pages/store/orderPay/orderPay","pages/store/project/list/projectList","pages/store/product/list/productList","pages/store/seckill/list/seckillList","...
[D 2024-05-22 15:18:44,638 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"2acc049b-0ba1-4b62-ae1d-17983d0ecdaa","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:18:44,651 minium.Conn2816 connection#653 __on_message] RECV < {"id":"2acc049b-0ba1-4b62-ae1d-17983d0ecdaa","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:18:44,653 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"78f919a8-5258-4094-aad2-964249388d3c","method":"App.addBinding","params":{"name":"showModal_before_1716405524653"}}
[D 2024-05-22 15:18:44,660 minium.Conn2816 connection#653 __on_message] RECV < {"id":"78f919a8-5258-4094-aad2-964249388d3c","result":{}}
[D 2024-05-22 15:18:44,661 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"8c121dc3-4257-476a-b71a-7b3435ac8cc2","method":"App.addBinding","params":{"name":"showModal_callback_1716405524653"}}
[D 2024-05-22 15:18:44,667 minium.Conn2816 connection#653 __on_message] RECV < {"id":"8c121dc3-4257-476a-b71a-7b3435ac8cc2","result":{}}
[D 2024-05-22 15:18:44,668 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:18:44,670 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"487519f7-1b98-4f66-9024-0311bb04fe31","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716405524653,after:undefined,callback:showModal_callback_1716405524653},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716405524653,true]}}
[D 2024-05-22 15:18:44,679 minium.Conn2816 connection#653 __on_message] RECV < {"id":"487519f7-1b98-4f66-9024-0311bb04fe31","result":{}}
[D 2024-05-22 15:18:44,680 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"e2b1f893-1a5a-4e35-93ff-a1df128be25c","method":"App.addBinding","params":{"name":"showToast_before_1716405524680"}}
[D 2024-05-22 15:18:44,689 minium.Conn2816 connection#653 __on_message] RECV < {"id":"e2b1f893-1a5a-4e35-93ff-a1df128be25c","result":{}}
[D 2024-05-22 15:18:44,690 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"cbb60a3f-cc78-4775-98a9-000e0f86679d","method":"App.addBinding","params":{"name":"showToast_callback_1716405524680"}}
[D 2024-05-22 15:18:44,700 minium.Conn2816 connection#653 __on_message] RECV < {"id":"cbb60a3f-cc78-4775-98a9-000e0f86679d","result":{}}
[D 2024-05-22 15:18:44,701 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:18:44,702 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"568ce889-162a-45d7-8daa-05d014a83c18","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716405524680,after:undefined,callback:showToast_callback_1716405524680},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716405524680,true]}}
[D 2024-05-22 15:18:44,710 minium.Conn2816 connection#653 __on_message] RECV < {"id":"568ce889-162a-45d7-8daa-05d014a83c18","result":{}}
[D 2024-05-22 15:18:44,712 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"bf0658e8-9909-477c-93c8-2056d9041fef","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:18:44,723 minium.Conn2816 connection#653 __on_message] RECV < {"id":"bf0658e8-9909-477c-93c8-2056d9041fef","result":{"result":{"path":"pages/store/storeIndex","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:18:44,725 minium app#731 relaunch] ReLaunch: /pages/store/storeIndex
[D 2024-05-22 15:18:44,729 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"8ee8610f-e9b2-4f23-85b8-0aeee8f8dac4","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:18:44,741 minium.Conn2816 connection#653 __on_message] RECV < {"id":"8ee8610f-e9b2-4f23-85b8-0aeee8f8dac4","result":{"pageId":1,"path":"pages/store/storeIndex","query":{}}}
[D 2024-05-22 15:18:44,743 minium.Conn2816 connection#417 _safely_send] ASYNC_SEND > {"id":"5cc23ae4-a0ae-4fda-b707-17242d8b49ce","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/store/storeIndex"}]}}
[D 2024-05-22 15:18:44,908 minium.Conn2816 connection#653 __on_message] RECV < {"id":"5cc23ae4-a0ae-4fda-b707-17242d8b49ce","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:18:44,909 minium.Conn2816 connection#697 _handle_async_msg] received async msg: 5cc23ae4-a0ae-4fda-b707-17242d8b49ce
[D 2024-05-22 15:18:45,651 minium.Conn2816 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/store/storeIndex","query":{},"openType":"reLaunch","__ts__":1716405525582},1716405525589]}}
[I 2024-05-22 15:18:45,652 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/store/storeIndex', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405525582}, 1716405525589]}
[D 2024-05-22 15:18:45,656 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"6f289afd-eb32-4ed3-9473-5edb50ac70d8","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:18:45,666 minium.Conn2816 connection#653 __on_message] RECV < {"id":"6f289afd-eb32-4ed3-9473-5edb50ac70d8","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:18:45,671 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"4f51bd04-ffbf-470d-8c08-4d5313232cdb","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:18:45,704 minium.Conn2816 connection#653 __on_message] RECV < {"id":"4f51bd04-ffbf-470d-8c08-4d5313232cdb","result":{"result":false}}
[D 2024-05-22 15:18:45,706 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:18:45,708 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"bbe563fc-8854-4351-8ef9-1e5901ccd48b","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:18:45,721 minium.Conn2816 connection#653 __on_message] RECV < {"id":"bbe563fc-8854-4351-8ef9-1e5901ccd48b","result":{}}
[D 2024-05-22 15:18:45,723 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"ce2f1732-f67e-4430-9abb-9521d3018347","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:18:46,689 minium.Conn2816 connection#653 __on_message] RECV < {"id":"ce2f1732-f67e-4430-9abb-9521d3018347","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:18:46,691 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"f6358a2a-f688-4547-b8b9-35c908acbf71","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:18:46,715 minium.Conn2816 connection#653 __on_message] RECV < {"id":"f6358a2a-f688-4547-b8b9-35c908acbf71","result":{}}
[D 2024-05-22 15:18:46,717 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"c247fabf-045a-455b-80b9-ebaeffd2dac6","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:18:46,725 minium.Conn2816 connection#653 __on_message] RECV < {"id":"c247fabf-045a-455b-80b9-ebaeffd2dac6","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:18:46,727 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"a407fc85-8458-44e9-9bf0-c14247a1285e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:18:46,741 minium.Conn2816 connection#651 __on_message] RECV < {"id":"a407fc85-8458-44e9-9bf0-c14247a1285e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":27,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:18:46,742 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:18:46,745 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:18:46,746 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:18:46,746 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:18:46,747 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:18:46,748 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:18:46,749 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:18:46,751 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:18:46,752 minium.Conn2816 connection#417 _safely_send] ASYNC_SEND > {"id":"978cb575-2db0-42a2-932b-71d781ef0103","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/store/storeIndex"}]}}
[D 2024-05-22 15:18:46,821 minium.Conn2816 connection#653 __on_message] RECV < {"id":"978cb575-2db0-42a2-932b-71d781ef0103","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:18:46,822 minium.Conn2816 connection#697 _handle_async_msg] received async msg: 978cb575-2db0-42a2-932b-71d781ef0103
[I 2024-05-22 15:18:46,825 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:18:46,826 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:18:46,826 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"c8d408a9-5491-46d3-a069-d09f13c49489","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:18:46,969 minium.Conn2816 connection#651 __on_message] RECV < {"id":"c8d408a9-5491-46d3-a069-d09f13c49489","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAHhhJREFUeJzt3XtYVHX+wPFz5sJlhptcxWtgpumCqBgpdtMyW21T07Y0t3Kr3bUsa3VLw2orK7fS1NwsqSettezR9VYraYKaBlQqpCImchMUgZHrMMLcfn+c55kHAa29/Jr57L5ff82cOQ5fRt5zLnPmHNXtdisAZNJ5ewAA/nUEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRs...
[I 2024-05-22 15:18:46,971 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:18:46,972 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:18:46,972 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"b3b21c5a-2e42-41c8-ba27-2b814cff5171","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:18:46,977 minium.Conn2816 connection#653 __on_message] RECV < {"id":"b3b21c5a-2e42-41c8-ba27-2b814cff5171","result":{"pageId":2,"path":"pages/store/storeIndex","query":{}}}
[I 2024-05-22 15:18:46,978 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/store/storeIndex, query={})
[D 2024-05-22 15:18:56,980 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:18:56,981 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:18:56,981 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:18:56,982 minium.Conn2816 connection#417 _safely_send] SEND > {"id":"07ea1c8d-b95c-4bf4-a626-f6b6830ab097","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:18:57,052 minium.Conn2816 connection#651 __on_message] RECV < {"id":"07ea1c8d-b95c-4bf4-a626-f6b6830ab097","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAHhhJREFUeJzt3XtYVHX+wPFz5sJlhptcxWtgpumCqBgpdtMyW21T07Y0t3Kr3bUsa3VLw2orK7fS1NwsqSettezR9VYraYKaBlQqpCImchMUgZHrMMLcfn+c55kHAa29/Jr57L5ff82cOQ5fRt5zLnPmHNXtdisAZNJ5ewAA/nUEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRsCAYAQMCEbAgGAEDAhGwIBgBAwIRs...
[I 2024-05-22 15:18:57,053 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:18:57,054 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:18:57,054 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:18:57,061 minium.Conn2816 connection#417 _safely_send] ASYNC_SEND > {"id":"9ecc4857-fc95-4c4b-83a6-e8aa3cfef9c1","method":"Tool.close","params":{}}
[D 2024-05-22 15:18:57,063 minium.Conn2816 connection#653 __on_message] RECV < {"id":"9ecc4857-fc95-4c4b-83a6-e8aa3cfef9c1","result":{}}
[I 2024-05-22 15:18:57,064 minium.Conn2816 connection#697 _handle_async_msg] received async msg: 9ecc4857-fc95-4c4b-83a6-e8aa3cfef9c1, maybe command ignore response
[E 2024-05-22 15:18:57,086 minium.Conn2816 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:18:57,087 minium.Conn2816 connection#697 _handle_async_msg] received async msg: 2d38bd58-51f9-42bf-bbb7-fbe2b5059e20
[I 2024-05-22 15:18:57,087 minium.Conn2816 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:18:58,554 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:18:58,555 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:18:58,555 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:18:58,556 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:18:58,557 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9390c46f3a5a833a" --auto-port 9420
[I 2024-05-22 15:19:04,870 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:31430
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:19:04,870 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:19:09,874 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:19:09,913 minium.Conn2656 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:19:09,914 minium.Conn2656 connection#417 _safely_send] SEND > {"id":"dc677676-f9e0-476c-bcdd-bf72737dec32","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:19:10,440 minium.Conn2656 connection#653 __on_message] RECV < {"id":"dc677676-f9e0-476c-bcdd-bf72737dec32","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:19:10,441 minium.Conn2656 connection#417 _safely_send] SEND > {"id":"d9db5852-9b1e-4ed2-a6fe-bbada33c524d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 15:19:43,423 minium.Conn2656 connection#632 _on_error] Connection to remote host was lost.
[W 2024-05-22 15:19:43,424 minium.Conn2656 connection#552 reconnect] connection reconnect
[I 2024-05-22 15:19:43,425 minium.Conn2656 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 15:19:43,544 minium.Conn2656 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 15:19:43,550 minium.Conn2656 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 15:19:43,578 minium.Conn2656 connection#568 reconnect] connect refused, please check svr
[I 2024-05-22 15:20:25,917 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:20:25,918 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:20:25,918 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:20:25,919 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:20:25,920 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxa401b0a5dff09107" --auto-port 9420
[I 2024-05-22 15:20:38,308 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 31430, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:53645
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:20:38,309 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:20:43,314 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:20:43,353 minium.Conn0480 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:20:43,355 minium.Conn0480 connection#417 _safely_send] SEND > {"id":"82b7eb10-c04a-459b-ab2f-c807589c0303","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:20:43,367 minium.Conn0480 connection#653 __on_message] RECV < {"id":"82b7eb10-c04a-459b-ab2f-c807589c0303","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:20:43,369 minium.Conn0480 connection#417 _safely_send] SEND > {"id":"7e7e6b73-2e79-4901-8058-2eab12026c76","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 15:21:03,890 minium.Conn0480 connection#632 _on_error] Connection to remote host was lost.
[W 2024-05-22 15:21:03,891 minium.Conn0480 connection#552 reconnect] connection reconnect
[I 2024-05-22 15:21:03,891 minium.Conn0480 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 15:21:04,015 minium.Conn0480 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 15:21:04,021 minium.Conn0480 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 15:21:04,043 minium.Conn0480 connection#568 reconnect] connect refused, please check svr
[I 2024-05-22 15:23:19,594 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:23:19,595 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:23:19,595 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:23:19,596 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:23:19,598 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4dee5123318ea54b" --auto-port 9420
[I 2024-05-22 15:23:31,142 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 53645, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:52796
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:23:31,143 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:23:36,148 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:23:36,612 minium.Conn4464 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:23:36,613 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"f38f0313-a0bf-440d-bc26-1d39e38a6e5e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:23:36,621 minium.Conn4464 connection#653 __on_message] RECV < {"id":"f38f0313-a0bf-440d-bc26-1d39e38a6e5e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:23:36,625 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"69bcfe0a-5d56-48bd-8889-3bca92568061","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:23:56,357 minium.Conn4464 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:23:56,359 minium.Conn4464 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22427:21)\n    at Object.scriptLoaded (<anonymous>:22455:5)\n    at Object.<anonymous> (<anonymous>:22480:22)"}}
[D 2024-05-22 15:23:57,528 minium.Conn4464 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:23:57,535 minium.Conn4464 connection#651 __on_message] RECV < {"id":"69bcfe0a-5d56-48bd-8889-3bca92568061","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:23:57,536 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:23:57,538 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"c4b99eb5-1e05-4d04-b599-9f5d48933ad8","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:23:57,549 minium.Conn4464 connection#653 __on_message] RECV < {"id":"c4b99eb5-1e05-4d04-b599-9f5d48933ad8","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:23:57,550 minium.Conn4464 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:23:57,551 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"3059d965-bf18-49c0-bda8-71c07eef4815","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:23:57,556 minium.Conn4464 connection#653 __on_message] RECV < {"id":"3059d965-bf18-49c0-bda8-71c07eef4815","result":{}}
[D 2024-05-22 15:23:57,558 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"d00c4f15-ff86-4843-bbca-713f541a7f5a","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:23:57,566 minium.Conn4464 connection#653 __on_message] RECV < {"id":"d00c4f15-ff86-4843-bbca-713f541a7f5a","result":{}}
[D 2024-05-22 15:23:57,568 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:23:57,569 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"16afff12-45dd-42a8-8e17-02efdf2c3c32","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:23:57,576 minium.Conn4464 connection#653 __on_message] RECV < {"id":"16afff12-45dd-42a8-8e17-02efdf2c3c32","result":{}}
[D 2024-05-22 15:23:57,577 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:23:57,579 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"f3d5a436-ab7b-4f17-96e4-49ddd8a92794","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:23:57,596 minium.Conn4464 connection#653 __on_message] RECV < {"id":"f3d5a436-ab7b-4f17-96e4-49ddd8a92794","result":{}}
[D 2024-05-22 15:23:57,598 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:23:57,600 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"b248c865-2f86-44a5-8efc-bb96ab3bb327","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:23:57,608 minium.Conn4464 connection#653 __on_message] RECV < {"id":"b248c865-2f86-44a5-8efc-bb96ab3bb327","result":{"result":true}}
[D 2024-05-22 15:23:57,609 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"632a2c81-f301-4d2b-be9a-7ac10da37896","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:23:57,623 minium.Conn4464 connection#651 __on_message] RECV < {"id":"632a2c81-f301-4d2b-be9a-7ac10da37896","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 15:23:57,626 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"3fa66c8a-8734-470e-8353-66e75cda8923","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:23:57,633 minium.Conn4464 connection#653 __on_message] RECV < {"id":"3fa66c8a-8734-470e-8353-66e75cda8923","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:23:57,634 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"604ef7a2-4a31-4e66-8c75-2b7dd29ccdcc","method":"App.addBinding","params":{"name":"showModal_before_1716405837634"}}
[D 2024-05-22 15:23:57,641 minium.Conn4464 connection#653 __on_message] RECV < {"id":"604ef7a2-4a31-4e66-8c75-2b7dd29ccdcc","result":{}}
[D 2024-05-22 15:23:57,642 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"62c9038d-1360-4f86-82b0-1776b081b0a2","method":"App.addBinding","params":{"name":"showModal_callback_1716405837634"}}
[D 2024-05-22 15:23:57,649 minium.Conn4464 connection#653 __on_message] RECV < {"id":"62c9038d-1360-4f86-82b0-1776b081b0a2","result":{}}
[D 2024-05-22 15:23:57,650 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:23:57,652 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"64596689-7659-46e7-a7d3-3dd60dbd1d3a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716405837634,after:undefined,callback:showModal_callback_1716405837634},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716405837634,true]}}
[D 2024-05-22 15:23:57,660 minium.Conn4464 connection#653 __on_message] RECV < {"id":"64596689-7659-46e7-a7d3-3dd60dbd1d3a","result":{}}
[D 2024-05-22 15:23:57,662 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"2c48ad66-f809-4fc4-b312-10df2278f2e0","method":"App.addBinding","params":{"name":"showToast_before_1716405837661"}}
[D 2024-05-22 15:23:57,669 minium.Conn4464 connection#653 __on_message] RECV < {"id":"2c48ad66-f809-4fc4-b312-10df2278f2e0","result":{}}
[D 2024-05-22 15:23:57,670 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"4103d6e0-f6c0-4f6a-b6d0-769104ead467","method":"App.addBinding","params":{"name":"showToast_callback_1716405837661"}}
[D 2024-05-22 15:23:57,675 minium.Conn4464 connection#653 __on_message] RECV < {"id":"4103d6e0-f6c0-4f6a-b6d0-769104ead467","result":{}}
[D 2024-05-22 15:23:57,677 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:23:57,677 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"6d99200d-7034-4c92-b270-828ea6992ec8","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716405837661,after:undefined,callback:showToast_callback_1716405837661},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716405837661,true]}}
[D 2024-05-22 15:23:57,685 minium.Conn4464 connection#653 __on_message] RECV < {"id":"6d99200d-7034-4c92-b270-828ea6992ec8","result":{}}
[D 2024-05-22 15:23:57,688 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"777be78b-4e7a-47ea-9a28-bdd6a5be8633","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:23:57,705 minium.Conn4464 connection#653 __on_message] RECV < {"id":"777be78b-4e7a-47ea-9a28-bdd6a5be8633","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:23:57,707 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:23:57,708 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"2447ffac-9c56-43d6-8683-909923c96fba","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:23:57,718 minium.Conn4464 connection#653 __on_message] RECV < {"id":"2447ffac-9c56-43d6-8683-909923c96fba","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:23:57,719 minium.Conn4464 connection#417 _safely_send] ASYNC_SEND > {"id":"9c8b5b1b-2342-4a4e-8b9d-191f80622039","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:23:57,967 minium.Conn4464 connection#653 __on_message] RECV < {"id":"9c8b5b1b-2342-4a4e-8b9d-191f80622039","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:23:57,968 minium.Conn4464 connection#697 _handle_async_msg] received async msg: 9c8b5b1b-2342-4a4e-8b9d-191f80622039
[D 2024-05-22 15:23:59,122 minium.Conn4464 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716405839059},1716405839062]}}
[I 2024-05-22 15:23:59,124 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405839059}, 1716405839062]}
[D 2024-05-22 15:23:59,126 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"902660a8-4730-4f28-9732-9bc712e504cc","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:23:59,139 minium.Conn4464 connection#653 __on_message] RECV < {"id":"902660a8-4730-4f28-9732-9bc712e504cc","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:23:59,142 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"c5ed6565-1222-41ed-96c2-a0c0ccb01d22","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:23:59,160 minium.Conn4464 connection#653 __on_message] RECV < {"id":"c5ed6565-1222-41ed-96c2-a0c0ccb01d22","result":{"result":false}}
[D 2024-05-22 15:23:59,163 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:23:59,164 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"8eaa2100-296e-4a06-8dfb-ae59700abd22","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:23:59,202 minium.Conn4464 connection#653 __on_message] RECV < {"id":"8eaa2100-296e-4a06-8dfb-ae59700abd22","result":{}}
[D 2024-05-22 15:23:59,204 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"c46dad07-b7f5-4911-8628-48fc64d8d8b1","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:23:59,950 minium.Conn4464 connection#653 __on_message] RECV < {"id":"c46dad07-b7f5-4911-8628-48fc64d8d8b1","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:23:59,951 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"7858f041-0fe8-419e-bc4d-58777750220f","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:23:59,961 minium.Conn4464 connection#653 __on_message] RECV < {"id":"7858f041-0fe8-419e-bc4d-58777750220f","result":{}}
[D 2024-05-22 15:23:59,963 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"a68a83d9-dd7c-48be-bdae-562f38117922","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:23:59,967 minium.Conn4464 connection#653 __on_message] RECV < {"id":"a68a83d9-dd7c-48be-bdae-562f38117922","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:23:59,968 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"81f464a5-ce66-4d21-a2b3-dd4e791806b6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:23:59,980 minium.Conn4464 connection#651 __on_message] RECV < {"id":"81f464a5-ce66-4d21-a2b3-dd4e791806b6","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:23:59,981 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:23:59,991 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:23:59,991 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:23:59,992 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:23:59,992 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:23:59,992 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:23:59,993 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:23:59,993 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:23:59,993 minium.Conn4464 connection#417 _safely_send] ASYNC_SEND > {"id":"fa56d183-6712-4db2-8ec7-8824078c0db8","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:24:00,132 minium.Conn4464 connection#653 __on_message] RECV < {"id":"fa56d183-6712-4db2-8ec7-8824078c0db8","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:24:00,135 minium.Conn4464 connection#697 _handle_async_msg] received async msg: fa56d183-6712-4db2-8ec7-8824078c0db8
[I 2024-05-22 15:24:00,139 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:24:00,139 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:24:00,140 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"fb9a0289-c7f0-4303-857a-0fc7ca85a57e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:24:00,236 minium.Conn4464 connection#651 __on_message] RECV < {"id":"fb9a0289-c7f0-4303-857a-0fc7ca85a57e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:24:00,238 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:24:00,239 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:24:00,240 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"c2f6abfc-fc53-4de6-b6b0-c3702ab7fdf7","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:24:00,252 minium.Conn4464 connection#653 __on_message] RECV < {"id":"c2f6abfc-fc53-4de6-b6b0-c3702ab7fdf7","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:24:00,254 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:24:10,255 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:24:10,257 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:24:10,257 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:24:10,259 minium.Conn4464 connection#417 _safely_send] SEND > {"id":"73dcf785-fe84-4ea2-b721-35e11c99761b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:24:10,375 minium.Conn4464 connection#651 __on_message] RECV < {"id":"73dcf785-fe84-4ea2-b721-35e11c99761b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:24:10,378 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:24:10,379 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:24:10,379 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:24:10,395 minium.Conn4464 connection#417 _safely_send] ASYNC_SEND > {"id":"240ca517-8e8d-44df-b930-5dda568a2665","method":"Tool.close","params":{}}
[D 2024-05-22 15:24:10,405 minium.Conn4464 connection#653 __on_message] RECV < {"id":"240ca517-8e8d-44df-b930-5dda568a2665","result":{}}
[I 2024-05-22 15:24:10,405 minium.Conn4464 connection#697 _handle_async_msg] received async msg: 240ca517-8e8d-44df-b930-5dda568a2665, maybe command ignore response
[E 2024-05-22 15:24:10,428 minium.Conn4464 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:24:10,429 minium.Conn4464 connection#697 _handle_async_msg] received async msg: c00e12a2-4701-4ad7-9cd5-8c274ce5a3f8
[I 2024-05-22 15:24:10,429 minium.Conn4464 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:24:11,885 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:24:11,886 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:24:11,886 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:24:11,887 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:24:11,887 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxad91b8c41181a062" --auto-port 9420
[I 2024-05-22 15:24:17,187 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:52796
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:24:17,189 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:24:22,195 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:24:22,222 minium.Conn6592 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:24:22,224 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"6c83ce00-6b00-4ef7-a8c7-a74b92e88723","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:24:22,244 minium.Conn6592 connection#653 __on_message] RECV < {"id":"6c83ce00-6b00-4ef7-a8c7-a74b92e88723","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:24:22,246 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"04426e57-0e64-4170-9427-2ece83710a97","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:24:37,616 minium.Conn6592 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:24:37,617 minium.Conn6592 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:14387:21)\n    at Object.scriptLoaded (<anonymous>:14415:5)\n    at Object.<anonymous> (<anonymous>:14440:22)"}}
[D 2024-05-22 15:24:38,999 minium.Conn6592 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:24:39,012 minium.Conn6592 connection#651 __on_message] RECV < {"id":"04426e57-0e64-4170-9427-2ece83710a97","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:24:39,013 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:24:39,014 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"711cc94a-fe34-459c-b778-58c268a53002","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:24:39,025 minium.Conn6592 connection#653 __on_message] RECV < {"id":"711cc94a-fe34-459c-b778-58c268a53002","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:24:39,026 minium.Conn6592 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:24:39,027 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"510df316-478f-49ff-a0b3-fe2bc80e466c","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:24:39,032 minium.Conn6592 connection#653 __on_message] RECV < {"id":"510df316-478f-49ff-a0b3-fe2bc80e466c","result":{}}
[D 2024-05-22 15:24:39,034 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"74c07399-e693-401c-b43a-f684b106efd9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:24:39,045 minium.Conn6592 connection#653 __on_message] RECV < {"id":"74c07399-e693-401c-b43a-f684b106efd9","result":{}}
[D 2024-05-22 15:24:39,046 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:24:39,047 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"3f934ae0-1aec-43d6-b366-9052ffdc8811","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:24:39,065 minium.Conn6592 connection#653 __on_message] RECV < {"id":"3f934ae0-1aec-43d6-b366-9052ffdc8811","result":{}}
[D 2024-05-22 15:24:39,066 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:24:39,067 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"5e804426-8ee9-4dd2-a431-bd5596df7878","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:24:39,080 minium.Conn6592 connection#653 __on_message] RECV < {"id":"5e804426-8ee9-4dd2-a431-bd5596df7878","result":{}}
[D 2024-05-22 15:24:39,082 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:24:39,084 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"09cde76e-fef9-4d1d-97cd-3671c49d3086","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:24:39,093 minium.Conn6592 connection#653 __on_message] RECV < {"id":"09cde76e-fef9-4d1d-97cd-3671c49d3086","result":{"result":true}}
[D 2024-05-22 15:24:39,095 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"06247d9f-9e3c-4a7a-b8ad-15872f971dd5","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:24:39,107 minium.Conn6592 connection#651 __on_message] RECV < {"id":"06247d9f-9e3c-4a7a-b8ad-15872f971dd5","result":{"result":{"pages":["pages/customize/customize","pages/shopping/nearstore/nearstore","pages/shopping/categories/categories","pages/fast/orderhistory/order","pages/shopping/combo/combo","pages/shopping/placeorder/payment","pages/shopping/listmulti/listmulti","pages/shopping/details/details","pages/shopping/orderhistory/orderConfirm","pages/shopping/orderhistory/orderhistory","pages/shopping/orderhistory/order","pages/shopping/orderhistory/orderByDate",...
[D 2024-05-22 15:24:39,109 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"a289a957-b1bc-4bdc-9cb4-d0ed8000d937","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:24:39,126 minium.Conn6592 connection#653 __on_message] RECV < {"id":"a289a957-b1bc-4bdc-9cb4-d0ed8000d937","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:24:39,127 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"d79a0ee2-bf96-4360-a433-d50a26527b76","method":"App.addBinding","params":{"name":"showModal_before_1716405879127"}}
[D 2024-05-22 15:24:39,138 minium.Conn6592 connection#653 __on_message] RECV < {"id":"d79a0ee2-bf96-4360-a433-d50a26527b76","result":{}}
[D 2024-05-22 15:24:39,139 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"07f6e351-0d6b-4f6d-a135-a1cf501d3159","method":"App.addBinding","params":{"name":"showModal_callback_1716405879127"}}
[D 2024-05-22 15:24:39,159 minium.Conn6592 connection#653 __on_message] RECV < {"id":"07f6e351-0d6b-4f6d-a135-a1cf501d3159","result":{}}
[D 2024-05-22 15:24:39,160 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:24:39,161 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"843c8322-6e3a-49f7-bd89-0df281d190d0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716405879127,after:undefined,callback:showModal_callback_1716405879127},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716405879127,true]}}
[D 2024-05-22 15:24:39,171 minium.Conn6592 connection#653 __on_message] RECV < {"id":"843c8322-6e3a-49f7-bd89-0df281d190d0","result":{}}
[D 2024-05-22 15:24:39,173 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"77aadc5b-5bbf-490d-9c3e-3f01a3080604","method":"App.addBinding","params":{"name":"showToast_before_1716405879173"}}
[D 2024-05-22 15:24:39,182 minium.Conn6592 connection#653 __on_message] RECV < {"id":"77aadc5b-5bbf-490d-9c3e-3f01a3080604","result":{}}
[D 2024-05-22 15:24:39,183 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"e5eaf7f7-4f85-4526-bdfb-770743b43cba","method":"App.addBinding","params":{"name":"showToast_callback_1716405879173"}}
[D 2024-05-22 15:24:39,193 minium.Conn6592 connection#653 __on_message] RECV < {"id":"e5eaf7f7-4f85-4526-bdfb-770743b43cba","result":{}}
[D 2024-05-22 15:24:39,194 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:24:39,195 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"d9ea143b-a934-4d64-8c8a-6dba43e81cb2","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716405879173,after:undefined,callback:showToast_callback_1716405879173},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716405879173,true]}}
[D 2024-05-22 15:24:39,205 minium.Conn6592 connection#653 __on_message] RECV < {"id":"d9ea143b-a934-4d64-8c8a-6dba43e81cb2","result":{}}
[D 2024-05-22 15:24:39,207 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"d0c0773b-38ed-41f1-bd0b-985e2fc29069","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:24:39,217 minium.Conn6592 connection#653 __on_message] RECV < {"id":"d0c0773b-38ed-41f1-bd0b-985e2fc29069","result":{"result":{"path":"pages/customize/customize","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:24:39,219 minium app#731 relaunch] ReLaunch: /pages/customize/customize
[D 2024-05-22 15:24:39,221 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"0dcf1a48-d1cd-453c-a14b-ac7ab725b3ac","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:24:39,230 minium.Conn6592 connection#653 __on_message] RECV < {"id":"0dcf1a48-d1cd-453c-a14b-ac7ab725b3ac","result":{"pageId":1,"path":"pages/customize/customize","query":{}}}
[D 2024-05-22 15:24:39,231 minium.Conn6592 connection#417 _safely_send] ASYNC_SEND > {"id":"0c676f5d-cc72-42dc-801f-322534665066","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/customize/customize"}]}}
[D 2024-05-22 15:24:39,375 minium.Conn6592 connection#653 __on_message] RECV < {"id":"0c676f5d-cc72-42dc-801f-322534665066","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:24:39,376 minium.Conn6592 connection#697 _handle_async_msg] received async msg: 0c676f5d-cc72-42dc-801f-322534665066
[D 2024-05-22 15:24:40,369 minium.Conn6592 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/customize/customize","query":{},"openType":"reLaunch","__ts__":1716405880227},1716405880229]}}
[I 2024-05-22 15:24:40,383 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/customize/customize', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716405880227}, 1716405880229]}
[D 2024-05-22 15:24:40,384 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"1c5519e1-603e-4fe8-8770-82eb51f488c0","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:24:40,410 minium.Conn6592 connection#653 __on_message] RECV < {"id":"1c5519e1-603e-4fe8-8770-82eb51f488c0","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:24:40,411 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"36144b8b-5f75-478b-9574-18be62ec1ada","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:24:40,459 minium.Conn6592 connection#653 __on_message] RECV < {"id":"36144b8b-5f75-478b-9574-18be62ec1ada","result":{"result":false}}
[D 2024-05-22 15:24:40,460 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:24:40,461 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"9f996850-4041-4ee7-8988-b7d6d5c69641","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:24:40,496 minium.Conn6592 connection#653 __on_message] RECV < {"id":"9f996850-4041-4ee7-8988-b7d6d5c69641","result":{}}
[D 2024-05-22 15:24:40,503 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"c5bc6485-506d-4605-815b-04b9a610073b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:24:41,293 minium.Conn6592 connection#653 __on_message] RECV < {"id":"c5bc6485-506d-4605-815b-04b9a610073b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:24:41,295 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"caf3ad8e-6ba4-4c37-8221-911e1f7a6447","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:24:41,306 minium.Conn6592 connection#653 __on_message] RECV < {"id":"caf3ad8e-6ba4-4c37-8221-911e1f7a6447","result":{}}
[D 2024-05-22 15:24:41,308 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"2b63e51e-a714-49af-baee-7e873ca83511","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:24:41,328 minium.Conn6592 connection#653 __on_message] RECV < {"id":"2b63e51e-a714-49af-baee-7e873ca83511","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:24:41,329 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"7d5a7830-3012-4ca7-b702-9aac660a07b3","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:24:41,339 minium.Conn6592 connection#651 __on_message] RECV < {"id":"7d5a7830-3012-4ca7-b702-9aac660a07b3","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":24,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:24:41,340 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:24:41,350 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:24:41,351 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:24:41,351 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:24:41,352 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:24:41,352 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:24:41,353 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:24:41,353 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:24:41,354 minium.Conn6592 connection#417 _safely_send] ASYNC_SEND > {"id":"3d336f7c-047b-4d59-908b-667eb0ab5a26","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/customize/customize"}]}}
[D 2024-05-22 15:24:41,423 minium.Conn6592 connection#653 __on_message] RECV < {"id":"3d336f7c-047b-4d59-908b-667eb0ab5a26","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:24:41,424 minium.Conn6592 connection#697 _handle_async_msg] received async msg: 3d336f7c-047b-4d59-908b-667eb0ab5a26
[I 2024-05-22 15:24:41,425 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:24:41,426 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:24:41,426 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"a84713ce-e29e-4ac5-a477-d716230880fc","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:24:41,524 minium.Conn6592 connection#651 __on_message] RECV < {"id":"a84713ce-e29e-4ac5-a477-d716230880fc","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 15:24:41,526 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:24:41,527 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:24:41,528 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"f20e7f65-6af1-4860-adbc-1dddac3e7ff1","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:24:41,536 minium.Conn6592 connection#653 __on_message] RECV < {"id":"f20e7f65-6af1-4860-adbc-1dddac3e7ff1","result":{"pageId":2,"path":"pages/customize/customize","query":{}}}
[I 2024-05-22 15:24:41,537 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/customize/customize, query={})
[D 2024-05-22 15:24:51,538 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:24:51,540 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:24:51,540 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:24:51,541 minium.Conn6592 connection#417 _safely_send] SEND > {"id":"2a3617c4-22e8-4b07-bd97-4627df4fb364","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:24:51,656 minium.Conn6592 connection#651 __on_message] RECV < {"id":"2a3617c4-22e8-4b07-bd97-4627df4fb364","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 15:24:51,658 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:24:51,659 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:24:51,659 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:24:51,666 minium.Conn6592 connection#417 _safely_send] ASYNC_SEND > {"id":"4fa0d910-b928-4d2a-9850-b84b227984d1","method":"Tool.close","params":{}}
[D 2024-05-22 15:24:51,680 minium.Conn6592 connection#653 __on_message] RECV < {"id":"4fa0d910-b928-4d2a-9850-b84b227984d1","result":{}}
[I 2024-05-22 15:24:51,681 minium.Conn6592 connection#697 _handle_async_msg] received async msg: 4fa0d910-b928-4d2a-9850-b84b227984d1, maybe command ignore response
[E 2024-05-22 15:24:51,705 minium.Conn6592 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:24:51,706 minium.Conn6592 connection#697 _handle_async_msg] received async msg: a3877e1a-60ba-4a65-9336-755ee787834e
[I 2024-05-22 15:24:51,707 minium.Conn6592 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:24:53,185 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:24:53,186 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:24:53,187 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:24:53,187 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:24:53,188 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9efc1a3df6998c64" --auto-port 9420
[I 2024-05-22 15:24:59,117 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:52796
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:24:59,117 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:25:04,118 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:25:04,219 minium.Conn2384 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:25:04,220 minium.Conn2384 connection#417 _safely_send] SEND > {"id":"cf9601ba-34c2-4af1-b48d-b7899827b803","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:25:04,259 minium.Conn2384 connection#653 __on_message] RECV < {"id":"cf9601ba-34c2-4af1-b48d-b7899827b803","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:25:04,261 minium.Conn2384 connection#417 _safely_send] SEND > {"id":"0aee0a2b-7eb5-46e7-ae28-5b61239ccf4d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 15:26:04,263 minium wx_minium#699 connect_dev_tool] [0aee0a2b-7eb5-46e7-ae28-5b61239ccf4d][call App.callWxMethod] receive from remote timeout
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 684, in connect_dev_tool
    self._get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 454, in _get_system_info
    system_info = self.get_system_info()
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/wx_minium.py", line 738, in get_system_info
    self._call_wx_method("getSystemInfoSync")
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_object.py", line 161, in _call_wx_method
    return self.connection.send("App.callWxMethod", params)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 447, in send
    return self._receive_response(cmd)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/connection.py", line 491, in _receive_response
    raise MiniTimeoutError(
minium.framework.exception.MiniTimeoutError: [0aee0a2b-7eb5-46e7-ae28-5b61239ccf4d][call App.callWxMethod] receive from remote timeout
[I 2024-05-22 15:26:04,330 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:26:04,359 minium.Conn9200 connection#342 _connect] connect to WebChatTools successfully
[E 2024-05-22 15:26:04,360 minium.Conn2384 connection#720 destroy] 断开连接
[I 2024-05-22 15:26:04,363 minium.Conn2384 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-05-22 15:26:04,365 minium.Conn9200 connection#417 _safely_send] SEND > {"id":"c23c7664-6228-4edb-aa49-b740f055dadd","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:26:04,378 minium.Conn9200 connection#653 __on_message] RECV < {"id":"c23c7664-6228-4edb-aa49-b740f055dadd","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:26:04,379 minium.Conn9200 connection#417 _safely_send] SEND > {"id":"be7ce06b-9f4d-4386-a07c-5142b4e8442c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[I 2024-05-22 15:28:55,020 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:28:55,021 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:28:55,021 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:28:55,022 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:28:55,024 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx9f612fdcc555956c" --auto-port 9420
[I 2024-05-22 15:29:07,864 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 52796, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:29:07,865 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:29:12,871 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:29:13,009 minium.Conn9232 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:29:13,010 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"c424a99b-9e31-48a0-8ead-277c12fa889c","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:29:13,018 minium.Conn9232 connection#653 __on_message] RECV < {"id":"c424a99b-9e31-48a0-8ead-277c12fa889c","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:29:13,019 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"d44fb390-1e99-4fb6-bd06-6379c7609389","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:29:32,412 minium.Conn9232 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:29:32,419 minium.Conn9232 connection#651 __on_message] RECV < {"id":"d44fb390-1e99-4fb6-bd06-6379c7609389","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":21,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:29:32,421 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:29:32,422 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"7a8ab035-bce9-4844-85da-fce3bad46c91","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:29:32,432 minium.Conn9232 connection#653 __on_message] RECV < {"id":"7a8ab035-bce9-4844-85da-fce3bad46c91","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:29:32,434 minium.Conn9232 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:29:32,435 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"8d464b40-6a5a-4a3c-9b24-7b0fb6d9157a","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:29:32,448 minium.Conn9232 connection#653 __on_message] RECV < {"id":"8d464b40-6a5a-4a3c-9b24-7b0fb6d9157a","result":{}}
[D 2024-05-22 15:29:32,450 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"da82245e-4348-43d6-b4fc-5fd1bb9f2de0","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:29:32,461 minium.Conn9232 connection#653 __on_message] RECV < {"id":"da82245e-4348-43d6-b4fc-5fd1bb9f2de0","result":{}}
[D 2024-05-22 15:29:32,463 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:29:32,464 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"370f7b9f-388a-4e62-9638-6789f8e26ee7","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:29:32,473 minium.Conn9232 connection#653 __on_message] RECV < {"id":"370f7b9f-388a-4e62-9638-6789f8e26ee7","result":{}}
[D 2024-05-22 15:29:32,474 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:29:32,475 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"17bc4cfd-75c5-4d85-ae17-50c682a4bb8b","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:29:32,485 minium.Conn9232 connection#653 __on_message] RECV < {"id":"17bc4cfd-75c5-4d85-ae17-50c682a4bb8b","result":{}}
[D 2024-05-22 15:29:32,487 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:29:32,489 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"8a017c34-8969-48c7-89d5-33ee6e5f4124","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:29:32,521 minium.Conn9232 connection#653 __on_message] RECV < {"id":"8a017c34-8969-48c7-89d5-33ee6e5f4124","result":{"result":true}}
[D 2024-05-22 15:29:32,523 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"28cc1553-be43-4e8a-ac58-9adc3c0bd347","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:29:32,557 minium.Conn9232 connection#651 __on_message] RECV < {"id":"28cc1553-be43-4e8a-ac58-9adc3c0bd347","result":{"result":{"pages":["pages/index/index","pages/ProductType/ProductType","pages/PTProductList/PTProductList","pages/ProductDetail/ProductDetail","pages/ShoppingCart/ShoppingCart","pages/OrderCreate/OrderCreate","pages/AddressCreate/AddressCreate","pages/AddressList/AddressList","pages/CouponsList/CouponsList","pages/UserIndex/UserIndex","pages/UserInfo/UserInfo","pages/UserInfoSet/UserInfoSet","pages/OrderList/OrderList","pages/OrderInfo/OrderInfo","pa...
[D 2024-05-22 15:29:32,559 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"2f5be204-bcea-4d20-9e4a-366db1963acb","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:29:32,568 minium.Conn9232 connection#653 __on_message] RECV < {"id":"2f5be204-bcea-4d20-9e4a-366db1963acb","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:29:32,570 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"5320b9f3-9bec-4e6e-8163-10412767e75c","method":"App.addBinding","params":{"name":"showModal_before_1716406172570"}}
[D 2024-05-22 15:29:32,579 minium.Conn9232 connection#653 __on_message] RECV < {"id":"5320b9f3-9bec-4e6e-8163-10412767e75c","result":{}}
[D 2024-05-22 15:29:32,581 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"f1192ba6-82cb-4509-ba63-44c2c0b892ce","method":"App.addBinding","params":{"name":"showModal_callback_1716406172570"}}
[D 2024-05-22 15:29:32,590 minium.Conn9232 connection#653 __on_message] RECV < {"id":"f1192ba6-82cb-4509-ba63-44c2c0b892ce","result":{}}
[D 2024-05-22 15:29:32,593 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:29:32,595 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"75d89b64-acda-40d2-9e42-12442b51e787","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406172570,after:undefined,callback:showModal_callback_1716406172570},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406172570,true]}}
[D 2024-05-22 15:29:32,603 minium.Conn9232 connection#653 __on_message] RECV < {"id":"75d89b64-acda-40d2-9e42-12442b51e787","result":{}}
[D 2024-05-22 15:29:32,605 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"fb1f9879-1832-4d1d-b1f6-a0ddf1d981e8","method":"App.addBinding","params":{"name":"showToast_before_1716406172605"}}
[D 2024-05-22 15:29:32,616 minium.Conn9232 connection#653 __on_message] RECV < {"id":"fb1f9879-1832-4d1d-b1f6-a0ddf1d981e8","result":{}}
[D 2024-05-22 15:29:32,618 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"08b610fb-7e94-4d1a-9db0-99fbca613a2b","method":"App.addBinding","params":{"name":"showToast_callback_1716406172605"}}
[D 2024-05-22 15:29:32,632 minium.Conn9232 connection#653 __on_message] RECV < {"id":"08b610fb-7e94-4d1a-9db0-99fbca613a2b","result":{}}
[D 2024-05-22 15:29:32,633 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:29:32,635 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"0be89aac-1177-4b31-ae85-d96b57835ce8","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406172605,after:undefined,callback:showToast_callback_1716406172605},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406172605,true]}}
[D 2024-05-22 15:29:32,647 minium.Conn9232 connection#653 __on_message] RECV < {"id":"0be89aac-1177-4b31-ae85-d96b57835ce8","result":{}}
[D 2024-05-22 15:29:32,650 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"17777a75-a6d0-4240-b2bc-ef54f4a0f797","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:29:32,662 minium.Conn9232 connection#653 __on_message] RECV < {"id":"17777a75-a6d0-4240-b2bc-ef54f4a0f797","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:29:32,664 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:29:32,666 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"8648b9d1-8e5f-49aa-b930-310096b58631","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:29:32,678 minium.Conn9232 connection#653 __on_message] RECV < {"id":"8648b9d1-8e5f-49aa-b930-310096b58631","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:29:32,679 minium.Conn9232 connection#417 _safely_send] ASYNC_SEND > {"id":"b554dfd7-f33c-4506-b62c-483c60a32035","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:29:32,790 minium.Conn9232 connection#653 __on_message] RECV < {"id":"b554dfd7-f33c-4506-b62c-483c60a32035","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:29:32,791 minium.Conn9232 connection#697 _handle_async_msg] received async msg: b554dfd7-f33c-4506-b62c-483c60a32035
[D 2024-05-22 15:29:33,669 minium.Conn9232 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406173614},1716406173618]}}
[I 2024-05-22 15:29:33,670 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406173614}, 1716406173618]}
[D 2024-05-22 15:29:33,672 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"ffe8533a-8cf2-4e6b-9a4c-2d4ca3d82917","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:29:33,692 minium.Conn9232 connection#653 __on_message] RECV < {"id":"ffe8533a-8cf2-4e6b-9a4c-2d4ca3d82917","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:29:33,694 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"fa37c07a-de0e-46f9-a8ad-e370c1ddcae7","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:29:33,715 minium.Conn9232 connection#653 __on_message] RECV < {"id":"fa37c07a-de0e-46f9-a8ad-e370c1ddcae7","result":{"result":false}}
[D 2024-05-22 15:29:33,717 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:29:33,718 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"dff75173-5968-44a1-b390-5e8f5ec1ac31","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:29:33,748 minium.Conn9232 connection#653 __on_message] RECV < {"id":"dff75173-5968-44a1-b390-5e8f5ec1ac31","result":{}}
[D 2024-05-22 15:29:33,749 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"6b105f06-9d6c-4597-8e38-cc94580b98c6","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:29:34,118 minium.Conn9232 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716406172570","args":[{"title":"提示","content":"调用login接口失败：request:fail invalid url \"$requesturl$/api/user/logins\""},0.8207579737813633]}}
[D 2024-05-22 15:29:34,121 minium app#1074 super_before] showModal before hook result: [{'title': '提示', 'content': '调用login接口失败：request:fail invalid url "$requesturl$/api/user/logins"'}, 0.8207579737813633]
[D 2024-05-22 15:29:34,925 minium.Conn9232 connection#653 __on_message] RECV < {"id":"6b105f06-9d6c-4597-8e38-cc94580b98c6","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:29:34,927 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"95de975d-4aef-46ad-aa47-44477e42461e","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:29:34,935 minium.Conn9232 connection#653 __on_message] RECV < {"id":"95de975d-4aef-46ad-aa47-44477e42461e","result":{}}
[D 2024-05-22 15:29:34,937 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"cf375a9e-8032-43b7-80b5-92245510bd32","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:29:34,943 minium.Conn9232 connection#653 __on_message] RECV < {"id":"cf375a9e-8032-43b7-80b5-92245510bd32","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:29:34,944 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"f75831c4-165b-4d65-9b14-beb9adcc5c6c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:29:34,951 minium.Conn9232 connection#651 __on_message] RECV < {"id":"f75831c4-165b-4d65-9b14-beb9adcc5c6c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":21,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:29:34,952 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:29:34,954 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:29:34,955 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:29:34,955 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:29:34,955 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:29:34,956 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:29:34,957 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:29:34,957 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:29:34,958 minium.Conn9232 connection#417 _safely_send] ASYNC_SEND > {"id":"c365cb66-c639-4b76-846f-b4a5cb1fcb6c","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:29:35,047 minium.Conn9232 connection#653 __on_message] RECV < {"id":"c365cb66-c639-4b76-846f-b4a5cb1fcb6c","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:29:35,048 minium.Conn9232 connection#697 _handle_async_msg] received async msg: c365cb66-c639-4b76-846f-b4a5cb1fcb6c
[I 2024-05-22 15:29:35,050 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:29:35,051 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:29:35,051 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"fa829978-aec4-4de7-a8c6-64e4c4a09c88","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:29:35,173 minium.Conn9232 connection#651 __on_message] RECV < {"id":"fa829978-aec4-4de7-a8c6-64e4c4a09c88","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt0zENACAQwEDAv93f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:29:35,174 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:29:35,175 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:29:35,176 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"eb6325c9-93c0-4780-b3d1-e00d61e0bfe0","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:29:35,180 minium.Conn9232 connection#653 __on_message] RECV < {"id":"eb6325c9-93c0-4780-b3d1-e00d61e0bfe0","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:29:35,181 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:29:45,183 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:29:45,184 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:29:45,185 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:29:45,185 minium.Conn9232 connection#417 _safely_send] SEND > {"id":"4fef111b-b673-4992-834a-44cda5cae7d3","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:29:45,331 minium.Conn9232 connection#651 __on_message] RECV < {"id":"4fef111b-b673-4992-834a-44cda5cae7d3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT5JREFUeJzt0zENACAQwEDAv93f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:29:45,332 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:29:45,333 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:29:45,333 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:29:45,342 minium.Conn9232 connection#417 _safely_send] ASYNC_SEND > {"id":"61cde4e3-5323-45c1-97fd-fb8257925604","method":"Tool.close","params":{}}
[D 2024-05-22 15:29:45,344 minium.Conn9232 connection#653 __on_message] RECV < {"id":"61cde4e3-5323-45c1-97fd-fb8257925604","result":{}}
[I 2024-05-22 15:29:45,345 minium.Conn9232 connection#697 _handle_async_msg] received async msg: 61cde4e3-5323-45c1-97fd-fb8257925604, maybe command ignore response
[E 2024-05-22 15:29:45,367 minium.Conn9232 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:29:45,368 minium.Conn9232 connection#697 _handle_async_msg] received async msg: 76b70392-20d1-4f6a-bb73-bb6d2dc1dcef
[I 2024-05-22 15:29:45,369 minium.Conn9232 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:29:46,825 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:29:46,826 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:29:46,827 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:29:46,827 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:29:46,828 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxad2e9789b5076244" --auto-port 9420
[I 2024-05-22 15:29:52,117 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:29:52,118 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:29:57,119 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:29:57,714 minium.Conn7408 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:29:57,715 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"f909b215-c5bb-4ebd-bbf2-d7e17c29bcc4","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:29:58,807 minium.Conn7408 connection#653 __on_message] RECV < {"id":"f909b215-c5bb-4ebd-bbf2-d7e17c29bcc4","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:29:58,808 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"da6587b5-1d37-4200-8727-4e7673cbc327","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:30:14,662 minium.Conn7408 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:30:14,702 minium.Conn7408 connection#651 __on_message] RECV < {"id":"da6587b5-1d37-4200-8727-4e7673cbc327","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":21,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:30:14,703 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:30:14,705 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"7158b12f-ed4d-4eb8-b7b8-8828af1172ad","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:30:14,841 minium.Conn7408 connection#653 __on_message] RECV < {"id":"7158b12f-ed4d-4eb8-b7b8-8828af1172ad","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:30:14,842 minium.Conn7408 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:30:14,843 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"fecacc51-a18f-4ce3-993e-5090e7c34a2e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:30:14,902 minium.Conn7408 connection#653 __on_message] RECV < {"id":"fecacc51-a18f-4ce3-993e-5090e7c34a2e","result":{}}
[D 2024-05-22 15:30:14,904 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"b2f0934f-ad35-4e2d-a7ce-df8736145f98","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:30:14,932 minium.Conn7408 connection#653 __on_message] RECV < {"id":"b2f0934f-ad35-4e2d-a7ce-df8736145f98","result":{}}
[D 2024-05-22 15:30:14,933 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:30:14,934 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"b8f241b9-a8ed-44a1-b739-7c65133a8c15","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:30:14,954 minium.Conn7408 connection#653 __on_message] RECV < {"id":"b8f241b9-a8ed-44a1-b739-7c65133a8c15","result":{}}
[D 2024-05-22 15:30:14,955 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:30:14,956 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"7f532e03-15bc-477b-acf4-6ce2d12d095b","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:30:14,984 minium.Conn7408 connection#653 __on_message] RECV < {"id":"7f532e03-15bc-477b-acf4-6ce2d12d095b","result":{}}
[D 2024-05-22 15:30:14,985 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:30:14,986 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"0a981dee-991a-4714-9aad-5bbd0980b83b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:30:15,016 minium.Conn7408 connection#653 __on_message] RECV < {"id":"0a981dee-991a-4714-9aad-5bbd0980b83b","result":{"result":true}}
[D 2024-05-22 15:30:15,019 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"54f7599f-496d-4399-aa48-dead8ff4712d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:30:15,064 minium.Conn7408 connection#651 __on_message] RECV < {"id":"54f7599f-496d-4399-aa48-dead8ff4712d","result":{"result":{"pages":["pages/index/index","pages/template/template","pages/logs/logs","pages/user/user","pages/basket/basket","pages/category/category","pages/search-page/search-page","pages/delivery-address/delivery-address","pages/editAddress/editAddress","pages/orderList/orderList","pages/order-detail/order-detail","pages/submit-order/submit-order","pages/binding-phone/binding-phone","pages/express-delivery/express-delivery","pages/pay-result/pay-res...
[D 2024-05-22 15:30:15,066 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"654f08e0-a08e-41cf-ae4c-f25b1edeb3a4","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:30:15,135 minium.Conn7408 connection#653 __on_message] RECV < {"id":"654f08e0-a08e-41cf-ae4c-f25b1edeb3a4","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:30:15,137 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"e47ac4d3-0ed0-4061-8341-310bc79ceaa4","method":"App.addBinding","params":{"name":"showModal_before_1716406215136"}}
[D 2024-05-22 15:30:15,326 minium.Conn7408 connection#653 __on_message] RECV < {"id":"e47ac4d3-0ed0-4061-8341-310bc79ceaa4","result":{}}
[D 2024-05-22 15:30:15,328 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"d90d7eab-31bc-48bd-aeec-8e849da4bedc","method":"App.addBinding","params":{"name":"showModal_callback_1716406215136"}}
[D 2024-05-22 15:30:15,332 minium.Conn7408 connection#653 __on_message] RECV < {"id":"d90d7eab-31bc-48bd-aeec-8e849da4bedc","result":{}}
[D 2024-05-22 15:30:15,334 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:30:15,334 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"d94486db-bb0b-4597-a554-c2f4ea0436af","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406215136,after:undefined,callback:showModal_callback_1716406215136},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406215136,true]}}
[D 2024-05-22 15:30:15,343 minium.Conn7408 connection#653 __on_message] RECV < {"id":"d94486db-bb0b-4597-a554-c2f4ea0436af","result":{}}
[D 2024-05-22 15:30:15,344 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"949eb081-1f45-4472-9b7a-832e495e11ed","method":"App.addBinding","params":{"name":"showToast_before_1716406215344"}}
[D 2024-05-22 15:30:15,350 minium.Conn7408 connection#653 __on_message] RECV < {"id":"949eb081-1f45-4472-9b7a-832e495e11ed","result":{}}
[D 2024-05-22 15:30:15,351 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"a82e7f9b-8740-4d17-ad27-9b25d36d68e6","method":"App.addBinding","params":{"name":"showToast_callback_1716406215344"}}
[D 2024-05-22 15:30:15,358 minium.Conn7408 connection#653 __on_message] RECV < {"id":"a82e7f9b-8740-4d17-ad27-9b25d36d68e6","result":{}}
[D 2024-05-22 15:30:15,359 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:30:15,360 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"447acd40-7ea3-4e01-8b08-876ae33b63b9","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406215344,after:undefined,callback:showToast_callback_1716406215344},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406215344,true]}}
[D 2024-05-22 15:30:15,369 minium.Conn7408 connection#653 __on_message] RECV < {"id":"447acd40-7ea3-4e01-8b08-876ae33b63b9","result":{}}
[D 2024-05-22 15:30:15,372 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"fd3887c6-90c3-4a58-998f-e668c494a597","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:30:15,381 minium.Conn7408 connection#653 __on_message] RECV < {"id":"fd3887c6-90c3-4a58-998f-e668c494a597","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:30:15,383 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:30:15,385 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"7f2afd51-3aa4-402e-9581-9c166c42f659","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:30:15,396 minium.Conn7408 connection#653 __on_message] RECV < {"id":"7f2afd51-3aa4-402e-9581-9c166c42f659","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:30:15,398 minium.Conn7408 connection#417 _safely_send] ASYNC_SEND > {"id":"9ed44659-cafa-4525-8059-575479f0454e","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:30:15,636 minium.Conn7408 connection#653 __on_message] RECV < {"id":"9ed44659-cafa-4525-8059-575479f0454e","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:30:15,636 minium.Conn7408 connection#697 _handle_async_msg] received async msg: 9ed44659-cafa-4525-8059-575479f0454e
[D 2024-05-22 15:30:16,311 minium.Conn7408 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406216215},1716406216218]}}
[I 2024-05-22 15:30:16,315 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406216215}, 1716406216218]}
[D 2024-05-22 15:30:16,319 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"b7b13097-2bc2-4dfb-a7b3-da683b1f4787","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:30:16,354 minium.Conn7408 connection#653 __on_message] RECV < {"id":"b7b13097-2bc2-4dfb-a7b3-da683b1f4787","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:30:16,357 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"cc41e427-0fad-4718-9adf-0ce70124a71d","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:30:16,365 minium.Conn7408 connection#653 __on_message] RECV < {"id":"cc41e427-0fad-4718-9adf-0ce70124a71d","result":{"result":false}}
[D 2024-05-22 15:30:16,367 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:30:16,368 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"97244738-dd19-4984-b800-f74c0e6eff4f","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:30:16,380 minium.Conn7408 connection#653 __on_message] RECV < {"id":"97244738-dd19-4984-b800-f74c0e6eff4f","result":{}}
[D 2024-05-22 15:30:16,381 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"e65f0bc0-9118-47b3-8def-85a53b45024c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:30:17,045 minium.Conn7408 connection#653 __on_message] RECV < {"id":"e65f0bc0-9118-47b3-8def-85a53b45024c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:30:17,047 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"4cc01954-a9cd-48db-8e96-0e83ad727af3","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:30:17,055 minium.Conn7408 connection#653 __on_message] RECV < {"id":"4cc01954-a9cd-48db-8e96-0e83ad727af3","result":{}}
[D 2024-05-22 15:30:17,056 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"d200a068-35ff-4ef8-b792-1b9fa982028f","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:30:17,062 minium.Conn7408 connection#653 __on_message] RECV < {"id":"d200a068-35ff-4ef8-b792-1b9fa982028f","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:30:17,063 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"bc5cc7e3-c459-417b-8606-fc165b14258e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:30:17,070 minium.Conn7408 connection#651 __on_message] RECV < {"id":"bc5cc7e3-c459-417b-8606-fc165b14258e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":20,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:30:17,072 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:30:17,075 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:30:17,076 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:30:17,076 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:30:17,077 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:30:17,078 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:30:17,078 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:30:17,079 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:30:17,080 minium.Conn7408 connection#417 _safely_send] ASYNC_SEND > {"id":"58615e29-f81a-44db-8c6c-60d956b04bbb","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:30:17,153 minium.Conn7408 connection#653 __on_message] RECV < {"id":"58615e29-f81a-44db-8c6c-60d956b04bbb","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:30:17,155 minium.Conn7408 connection#697 _handle_async_msg] received async msg: 58615e29-f81a-44db-8c6c-60d956b04bbb
[I 2024-05-22 15:30:17,157 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:30:17,158 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:30:17,159 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"bef6fae3-d0f8-4daf-adc5-4f57e3fa754b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:30:17,252 minium.Conn7408 connection#651 __on_message] RECV < {"id":"bef6fae3-d0f8-4daf-adc5-4f57e3fa754b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABf5JREFUeJzt1bEJwDAQBEHbqP9+P5J7UCIWZiq4ZLl37/0ATd/tAcA5AUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwtbM3N4AHPLAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDG...
[I 2024-05-22 15:30:17,254 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:30:17,255 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:30:17,256 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"155ca8e1-d11f-4fd9-8856-207ae8d6ab27","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:30:17,261 minium.Conn7408 connection#653 __on_message] RECV < {"id":"155ca8e1-d11f-4fd9-8856-207ae8d6ab27","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:30:17,262 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:30:27,264 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:30:27,266 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:30:27,266 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:30:27,267 minium.Conn7408 connection#417 _safely_send] SEND > {"id":"fe324d66-8490-4274-8081-8eb5a4515267","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:30:27,392 minium.Conn7408 connection#651 __on_message] RECV < {"id":"fe324d66-8490-4274-8081-8eb5a4515267","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABf5JREFUeJzt1bEJwDAQBEHbqP9+P5J7UCIWZiq4ZLl37/0ATd/tAcA5AUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDGEChjABQ5iAIUzAECZgCBMwhAkYwtbM3N4AHPLAECZgCBMwhAkYwgQMYQKGMAFDmIAhTMAQJmAIEzCECRjCBAxhAoYwAUOYgCFMwBAmYAgTMIQJGMIEDG...
[I 2024-05-22 15:30:27,393 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:30:27,394 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:30:27,394 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:30:27,403 minium.Conn7408 connection#417 _safely_send] ASYNC_SEND > {"id":"f328447d-35b9-4206-b2fe-c92f4a0e731e","method":"Tool.close","params":{}}
[D 2024-05-22 15:30:27,407 minium.Conn7408 connection#653 __on_message] RECV < {"id":"f328447d-35b9-4206-b2fe-c92f4a0e731e","result":{}}
[I 2024-05-22 15:30:27,407 minium.Conn7408 connection#697 _handle_async_msg] received async msg: f328447d-35b9-4206-b2fe-c92f4a0e731e, maybe command ignore response
[E 2024-05-22 15:30:27,429 minium.Conn7408 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:30:27,430 minium.Conn7408 connection#697 _handle_async_msg] received async msg: 74acae22-7a21-4298-acc7-8a9acc21b3b6
[I 2024-05-22 15:30:27,430 minium.Conn7408 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:30:28,873 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:30:28,874 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:30:28,875 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:30:28,876 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:30:28,877 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7b7e27b3afef0368" --auto-port 9420
[I 2024-05-22 15:30:34,677 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:30:34,678 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:30:39,684 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:30:40,333 minium.Conn7344 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:30:40,334 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"bbc53438-33f3-4988-b516-d6a4a4d6993d","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:30:41,393 minium.Conn7344 connection#653 __on_message] RECV < {"id":"bbc53438-33f3-4988-b516-d6a4a4d6993d","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:30:41,395 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"a4dab9c3-f3d8-40e8-a19e-e13e293b4c41","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:30:54,365 minium.Conn7344 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:30:54,367 minium.Conn7344 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:23459:21)\n    at Object.scriptLoaded (<anonymous>:23487:5)\n    at Object.<anonymous> (<anonymous>:23512:22)"}}
[D 2024-05-22 15:30:57,288 minium.Conn7344 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:30:57,304 minium.Conn7344 connection#651 __on_message] RECV < {"id":"a4dab9c3-f3d8-40e8-a19e-e13e293b4c41","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":20,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:30:57,306 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:30:57,307 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"fcfdc238-1d6e-4e8d-8ab4-d9bc6af8d2fd","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:30:57,328 minium.Conn7344 connection#653 __on_message] RECV < {"id":"fcfdc238-1d6e-4e8d-8ab4-d9bc6af8d2fd","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:30:57,330 minium.Conn7344 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:30:57,331 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"5d833113-f466-4ac7-a3e9-56fa19bdd437","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:30:57,354 minium.Conn7344 connection#653 __on_message] RECV < {"id":"5d833113-f466-4ac7-a3e9-56fa19bdd437","result":{}}
[D 2024-05-22 15:30:57,355 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"5ed7899c-fdab-48ea-a58f-a4044f7779de","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:30:57,380 minium.Conn7344 connection#653 __on_message] RECV < {"id":"5ed7899c-fdab-48ea-a58f-a4044f7779de","result":{}}
[D 2024-05-22 15:30:57,381 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:30:57,383 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"8dc6b9cd-2748-42e7-a550-6c2443c1c2a3","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:30:57,401 minium.Conn7344 connection#653 __on_message] RECV < {"id":"8dc6b9cd-2748-42e7-a550-6c2443c1c2a3","result":{}}
[D 2024-05-22 15:30:57,403 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:30:57,404 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"cc97f401-4d92-4b53-908a-1acafe379490","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:30:57,425 minium.Conn7344 connection#653 __on_message] RECV < {"id":"cc97f401-4d92-4b53-908a-1acafe379490","result":{}}
[D 2024-05-22 15:30:57,426 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:30:57,428 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"40b04bf4-a8f1-4bb8-bdbb-35704fef9baa","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:30:57,454 minium.Conn7344 connection#653 __on_message] RECV < {"id":"40b04bf4-a8f1-4bb8-bdbb-35704fef9baa","result":{"result":true}}
[D 2024-05-22 15:30:57,456 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"54d68ad3-b3fc-424c-a90d-c890b86a6d98","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:30:57,475 minium.Conn7344 connection#651 __on_message] RECV < {"id":"54d68ad3-b3fc-424c-a90d-c890b86a6d98","result":{"result":{"pages":["pages/index/index","pages/auth/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/creditshop/log/index","pages/creditshop/log/detail/index","pages/creditshop/lists/index","pages/creditshop/creditlog/index","pages/creditshop/create/index","pages/creditshop/verify/index","pages/creditshop/index","pages/commission/poster/index","pages/commission/qrcode/...
[D 2024-05-22 15:30:57,478 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"d1f75e81-6c46-4388-86a6-5c5b378379a3","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:30:57,611 minium.Conn7344 connection#653 __on_message] RECV < {"id":"d1f75e81-6c46-4388-86a6-5c5b378379a3","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:30:57,613 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"6feeb410-22c1-4237-aa34-2d5e07f624c0","method":"App.addBinding","params":{"name":"showModal_before_1716406257613"}}
[D 2024-05-22 15:30:57,672 minium.Conn7344 connection#653 __on_message] RECV < {"id":"6feeb410-22c1-4237-aa34-2d5e07f624c0","result":{}}
[D 2024-05-22 15:30:57,673 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"e333e1d3-476e-436b-9a59-bf921c3be008","method":"App.addBinding","params":{"name":"showModal_callback_1716406257613"}}
[D 2024-05-22 15:30:57,689 minium.Conn7344 connection#653 __on_message] RECV < {"id":"e333e1d3-476e-436b-9a59-bf921c3be008","result":{}}
[D 2024-05-22 15:30:57,692 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:30:57,693 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"da4df7ba-397c-45e1-9b0c-250b4f9c4b5e","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406257613,after:undefined,callback:showModal_callback_1716406257613},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406257613,true]}}
[D 2024-05-22 15:30:57,749 minium.Conn7344 connection#653 __on_message] RECV < {"id":"da4df7ba-397c-45e1-9b0c-250b4f9c4b5e","result":{}}
[D 2024-05-22 15:30:57,751 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"0a3a8cf1-4550-485c-b70b-cdca32bdb4d3","method":"App.addBinding","params":{"name":"showToast_before_1716406257750"}}
[D 2024-05-22 15:30:57,758 minium.Conn7344 connection#653 __on_message] RECV < {"id":"0a3a8cf1-4550-485c-b70b-cdca32bdb4d3","result":{}}
[D 2024-05-22 15:30:57,760 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"376eae24-225a-4274-856c-0f0af864a900","method":"App.addBinding","params":{"name":"showToast_callback_1716406257750"}}
[D 2024-05-22 15:30:57,770 minium.Conn7344 connection#653 __on_message] RECV < {"id":"376eae24-225a-4274-856c-0f0af864a900","result":{}}
[D 2024-05-22 15:30:57,772 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:30:57,773 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"5e487719-a311-4c84-aa8f-014c01295030","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406257750,after:undefined,callback:showToast_callback_1716406257750},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406257750,true]}}
[D 2024-05-22 15:30:57,786 minium.Conn7344 connection#653 __on_message] RECV < {"id":"5e487719-a311-4c84-aa8f-014c01295030","result":{}}
[D 2024-05-22 15:30:57,788 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"b1ebac3f-f532-45c2-8f16-392076f45cad","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:30:57,802 minium.Conn7344 connection#653 __on_message] RECV < {"id":"b1ebac3f-f532-45c2-8f16-392076f45cad","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:30:57,804 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:30:57,806 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"b704611c-0f09-4ef1-8dfe-d0edf8e8f279","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:30:57,833 minium.Conn7344 connection#653 __on_message] RECV < {"id":"b704611c-0f09-4ef1-8dfe-d0edf8e8f279","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:30:57,835 minium.Conn7344 connection#417 _safely_send] ASYNC_SEND > {"id":"d278b522-8f69-46b2-8309-046443a5c24f","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:30:58,028 minium.Conn7344 connection#653 __on_message] RECV < {"id":"d278b522-8f69-46b2-8309-046443a5c24f","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:30:58,029 minium.Conn7344 connection#697 _handle_async_msg] received async msg: d278b522-8f69-46b2-8309-046443a5c24f
[D 2024-05-22 15:31:00,313 minium.Conn7344 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406260246},1716406260250]}}
[I 2024-05-22 15:31:00,314 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406260246}, 1716406260250]}
[D 2024-05-22 15:31:00,316 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"9ec45a35-175b-4bfa-9bbf-2ddf0080f685","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:31:00,333 minium.Conn7344 connection#653 __on_message] RECV < {"id":"9ec45a35-175b-4bfa-9bbf-2ddf0080f685","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:31:00,335 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"e80c1854-3dd3-414b-8f15-eae0e5ba8f83","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:31:00,361 minium.Conn7344 connection#653 __on_message] RECV < {"id":"e80c1854-3dd3-414b-8f15-eae0e5ba8f83","result":{"result":false}}
[D 2024-05-22 15:31:00,362 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:31:00,363 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"b7c84f4a-27ac-4d09-8919-df1f0c0acd84","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:31:00,412 minium.Conn7344 connection#653 __on_message] RECV < {"id":"b7c84f4a-27ac-4d09-8919-df1f0c0acd84","result":{}}
[D 2024-05-22 15:31:00,413 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"e307fa42-baf0-4f77-b1bf-d652a9cbb81a","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:31:01,213 minium.Conn7344 connection#653 __on_message] RECV < {"id":"e307fa42-baf0-4f77-b1bf-d652a9cbb81a","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:31:01,215 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"112202ca-d3fc-4d7a-ab2e-52cbc6cf7a4d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:31:01,220 minium.Conn7344 connection#653 __on_message] RECV < {"id":"112202ca-d3fc-4d7a-ab2e-52cbc6cf7a4d","result":{}}
[D 2024-05-22 15:31:01,221 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"5594e604-1f0a-4537-aa45-4ca08df38fa9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:31:01,228 minium.Conn7344 connection#653 __on_message] RECV < {"id":"5594e604-1f0a-4537-aa45-4ca08df38fa9","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:31:01,230 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"259fefeb-f7c4-427f-aaae-c978a0a0aefb","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:31:01,236 minium.Conn7344 connection#651 __on_message] RECV < {"id":"259fefeb-f7c4-427f-aaae-c978a0a0aefb","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":20,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:31:01,237 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:31:01,239 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:31:01,240 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:31:01,240 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:31:01,240 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:31:01,241 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:31:01,241 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:31:01,241 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:31:01,242 minium.Conn7344 connection#417 _safely_send] ASYNC_SEND > {"id":"75932b10-9896-4569-bff7-509d3c4c17c4","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:31:01,317 minium.Conn7344 connection#653 __on_message] RECV < {"id":"75932b10-9896-4569-bff7-509d3c4c17c4","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:31:01,318 minium.Conn7344 connection#697 _handle_async_msg] received async msg: 75932b10-9896-4569-bff7-509d3c4c17c4
[I 2024-05-22 15:31:01,320 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:31:01,321 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:31:01,322 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"b73e4eb3-9564-4fa5-b54a-52c1fcfb687d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:31:01,447 minium.Conn7344 connection#651 __on_message] RECV < {"id":"b73e4eb3-9564-4fa5-b54a-52c1fcfb687d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:31:01,449 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:31:01,450 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:31:01,451 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"2fa419d9-3a75-458e-a764-553c251d47e2","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:31:01,457 minium.Conn7344 connection#653 __on_message] RECV < {"id":"2fa419d9-3a75-458e-a764-553c251d47e2","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:31:01,460 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:31:11,462 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:31:11,463 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:31:11,464 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:31:11,465 minium.Conn7344 connection#417 _safely_send] SEND > {"id":"a7e9a65a-da17-4436-bdb5-328bc6d78d51","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:31:11,585 minium.Conn7344 connection#651 __on_message] RECV < {"id":"a7e9a65a-da17-4436-bdb5-328bc6d78d51","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:31:11,586 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:31:11,587 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:31:11,587 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:31:11,602 minium.Conn7344 connection#417 _safely_send] ASYNC_SEND > {"id":"0d81d19f-08e6-4a9d-8c3b-d4e769bf9367","method":"Tool.close","params":{}}
[D 2024-05-22 15:31:11,605 minium.Conn7344 connection#653 __on_message] RECV < {"id":"0d81d19f-08e6-4a9d-8c3b-d4e769bf9367","result":{}}
[I 2024-05-22 15:31:11,606 minium.Conn7344 connection#697 _handle_async_msg] received async msg: 0d81d19f-08e6-4a9d-8c3b-d4e769bf9367, maybe command ignore response
[E 2024-05-22 15:31:11,629 minium.Conn7344 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:31:11,630 minium.Conn7344 connection#697 _handle_async_msg] received async msg: 2e3f3cc0-1453-42f1-aaf4-e2a356532151
[I 2024-05-22 15:31:11,631 minium.Conn7344 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:31:13,133 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:31:13,134 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:31:13,135 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:31:13,136 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:31:13,137 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxa92ca51fc9c0e993" --auto-port 9420
[I 2024-05-22 15:31:19,059 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:31:19,060 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:31:24,066 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:31:24,151 minium.Conn0704 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:31:24,152 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"85175dff-b7cf-481d-a9c4-c67f3cafcd1f","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:31:24,171 minium.Conn0704 connection#653 __on_message] RECV < {"id":"85175dff-b7cf-481d-a9c4-c67f3cafcd1f","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:31:24,173 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"3cae14fc-b6b6-495a-b2f7-44ce35ce0bbd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:31:38,878 minium.Conn0704 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:31:38,880 minium.Conn0704 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:23231:21)\n    at Object.scriptLoaded (<anonymous>:23259:5)\n    at Object.<anonymous> (<anonymous>:23284:22)"}}
[D 2024-05-22 15:31:41,381 minium.Conn0704 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:31:41,398 minium.Conn0704 connection#651 __on_message] RECV < {"id":"3cae14fc-b6b6-495a-b2f7-44ce35ce0bbd","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":20,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:31:41,399 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:31:41,401 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"017a8523-017c-4063-b935-693c1693dc86","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:31:41,421 minium.Conn0704 connection#653 __on_message] RECV < {"id":"017a8523-017c-4063-b935-693c1693dc86","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:31:41,423 minium.Conn0704 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:31:41,423 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"5210801b-641a-4c2f-a7f4-c042c0ffdd1d","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:31:41,471 minium.Conn0704 connection#653 __on_message] RECV < {"id":"5210801b-641a-4c2f-a7f4-c042c0ffdd1d","result":{}}
[D 2024-05-22 15:31:41,475 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"5f3e58d5-8de8-410a-9f66-2afdb4ebc4ca","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:31:41,493 minium.Conn0704 connection#653 __on_message] RECV < {"id":"5f3e58d5-8de8-410a-9f66-2afdb4ebc4ca","result":{}}
[D 2024-05-22 15:31:41,495 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:31:41,496 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"716889a5-a5e1-456f-812e-b7b6a5026c4b","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:31:41,507 minium.Conn0704 connection#653 __on_message] RECV < {"id":"716889a5-a5e1-456f-812e-b7b6a5026c4b","result":{}}
[D 2024-05-22 15:31:41,508 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:31:41,512 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"065ac6eb-65c8-4740-9b5f-483c58a40721","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:31:41,546 minium.Conn0704 connection#653 __on_message] RECV < {"id":"065ac6eb-65c8-4740-9b5f-483c58a40721","result":{}}
[D 2024-05-22 15:31:41,547 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:31:41,551 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"0c268856-fc9f-4c1a-901a-9e60db0e8d32","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:31:41,570 minium.Conn0704 connection#653 __on_message] RECV < {"id":"0c268856-fc9f-4c1a-901a-9e60db0e8d32","result":{"result":true}}
[D 2024-05-22 15:31:41,571 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"60ddf51e-14b8-4223-81da-2fd81e79bc7f","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:31:41,598 minium.Conn0704 connection#651 __on_message] RECV < {"id":"60ddf51e-14b8-4223-81da-2fd81e79bc7f","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 15:31:41,600 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"47e6a523-a127-4f7b-a784-4a72c23c28c4","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:31:41,627 minium.Conn0704 connection#653 __on_message] RECV < {"id":"47e6a523-a127-4f7b-a784-4a72c23c28c4","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:31:41,629 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"dd342f3e-c82d-4e44-a915-866b6f1d3e9e","method":"App.addBinding","params":{"name":"showModal_before_1716406301629"}}
[D 2024-05-22 15:31:41,644 minium.Conn0704 connection#653 __on_message] RECV < {"id":"dd342f3e-c82d-4e44-a915-866b6f1d3e9e","result":{}}
[D 2024-05-22 15:31:41,645 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"d725b7dc-b6b2-4462-a992-d9f58dbc5330","method":"App.addBinding","params":{"name":"showModal_callback_1716406301629"}}
[D 2024-05-22 15:31:41,683 minium.Conn0704 connection#653 __on_message] RECV < {"id":"d725b7dc-b6b2-4462-a992-d9f58dbc5330","result":{}}
[D 2024-05-22 15:31:41,685 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:31:41,685 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"ea1756ce-51f1-42ee-be1e-10578782a4d0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406301629,after:undefined,callback:showModal_callback_1716406301629},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406301629,true]}}
[D 2024-05-22 15:31:41,717 minium.Conn0704 connection#653 __on_message] RECV < {"id":"ea1756ce-51f1-42ee-be1e-10578782a4d0","result":{}}
[D 2024-05-22 15:31:41,718 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"dc3784e0-e109-400c-bdec-95a378a8d4a4","method":"App.addBinding","params":{"name":"showToast_before_1716406301718"}}
[D 2024-05-22 15:31:41,749 minium.Conn0704 connection#653 __on_message] RECV < {"id":"dc3784e0-e109-400c-bdec-95a378a8d4a4","result":{}}
[D 2024-05-22 15:31:41,750 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"944669a5-63d1-469e-aa2b-f983842f2b36","method":"App.addBinding","params":{"name":"showToast_callback_1716406301718"}}
[D 2024-05-22 15:31:41,761 minium.Conn0704 connection#653 __on_message] RECV < {"id":"944669a5-63d1-469e-aa2b-f983842f2b36","result":{}}
[D 2024-05-22 15:31:41,762 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:31:41,763 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"74b41c85-bba6-4406-bb4e-1771ebd16aea","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406301718,after:undefined,callback:showToast_callback_1716406301718},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406301718,true]}}
[D 2024-05-22 15:31:41,790 minium.Conn0704 connection#653 __on_message] RECV < {"id":"74b41c85-bba6-4406-bb4e-1771ebd16aea","result":{}}
[D 2024-05-22 15:31:41,793 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"09a0f8a0-7e79-46c4-9f1b-6b1cab332e32","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:31:41,813 minium.Conn0704 connection#653 __on_message] RECV < {"id":"09a0f8a0-7e79-46c4-9f1b-6b1cab332e32","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:31:41,815 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:31:41,817 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"b1bc3c0c-39fb-4fa2-8083-8ee2b19cfcce","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:31:41,832 minium.Conn0704 connection#653 __on_message] RECV < {"id":"b1bc3c0c-39fb-4fa2-8083-8ee2b19cfcce","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:31:41,834 minium.Conn0704 connection#417 _safely_send] ASYNC_SEND > {"id":"20fc5739-3108-4f45-8ac8-b655297ffcc3","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:31:41,940 minium.Conn0704 connection#653 __on_message] RECV < {"id":"20fc5739-3108-4f45-8ac8-b655297ffcc3","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:31:41,940 minium.Conn0704 connection#697 _handle_async_msg] received async msg: 20fc5739-3108-4f45-8ac8-b655297ffcc3
[D 2024-05-22 15:31:44,710 minium.Conn0704 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406304682},1716406304683]}}
[I 2024-05-22 15:31:44,719 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406304682}, 1716406304683]}
[D 2024-05-22 15:31:44,721 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"7ac2e457-be45-4bef-872e-1489bbb7499e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:31:44,732 minium.Conn0704 connection#653 __on_message] RECV < {"id":"7ac2e457-be45-4bef-872e-1489bbb7499e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:31:44,734 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"b0a4175e-c005-441a-9470-50f060a876f5","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:31:44,779 minium.Conn0704 connection#653 __on_message] RECV < {"id":"b0a4175e-c005-441a-9470-50f060a876f5","result":{"result":false}}
[D 2024-05-22 15:31:44,781 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:31:44,782 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"22e0aabb-0766-498b-9d8e-9b0204c41686","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:31:44,824 minium.Conn0704 connection#653 __on_message] RECV < {"id":"22e0aabb-0766-498b-9d8e-9b0204c41686","result":{}}
[D 2024-05-22 15:31:44,826 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"cdeb6de2-dce8-4848-ae46-5ae88a19ba00","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:31:45,687 minium.Conn0704 connection#653 __on_message] RECV < {"id":"cdeb6de2-dce8-4848-ae46-5ae88a19ba00","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:31:45,689 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"8861a4bc-9f7d-4ffa-9470-d69ab2cd744b","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:31:45,697 minium.Conn0704 connection#653 __on_message] RECV < {"id":"8861a4bc-9f7d-4ffa-9470-d69ab2cd744b","result":{}}
[D 2024-05-22 15:31:45,698 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"400c70ba-92f7-44cc-bc6e-137203bbcbf5","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:31:45,709 minium.Conn0704 connection#653 __on_message] RECV < {"id":"400c70ba-92f7-44cc-bc6e-137203bbcbf5","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:31:45,711 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"dfd6cf1d-cfe7-4b81-878d-c631675ddb48","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:31:45,720 minium.Conn0704 connection#651 __on_message] RECV < {"id":"dfd6cf1d-cfe7-4b81-878d-c631675ddb48","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":20,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:31:45,721 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:31:45,725 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:31:45,726 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:31:45,727 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:31:45,727 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:31:45,728 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:31:45,728 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:31:45,728 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:31:45,729 minium.Conn0704 connection#417 _safely_send] ASYNC_SEND > {"id":"5e013bd9-f97b-411b-8542-b28d7d2c687d","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:31:45,827 minium.Conn0704 connection#653 __on_message] RECV < {"id":"5e013bd9-f97b-411b-8542-b28d7d2c687d","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:31:45,828 minium.Conn0704 connection#697 _handle_async_msg] received async msg: 5e013bd9-f97b-411b-8542-b28d7d2c687d
[I 2024-05-22 15:31:45,830 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:31:45,830 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:31:45,831 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"75303633-af5d-4867-8f8d-f065fc26b69d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:31:45,948 minium.Conn0704 connection#651 __on_message] RECV < {"id":"75303633-af5d-4867-8f8d-f065fc26b69d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:31:45,951 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:31:45,951 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:31:45,952 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"246306ef-fd8c-4e6c-8098-72e7a11d6fe8","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:31:45,961 minium.Conn0704 connection#653 __on_message] RECV < {"id":"246306ef-fd8c-4e6c-8098-72e7a11d6fe8","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:31:45,963 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:31:55,966 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:31:55,967 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:31:55,968 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:31:55,969 minium.Conn0704 connection#417 _safely_send] SEND > {"id":"2e44c136-83ee-4212-ba90-49679a27e4ee","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:31:56,092 minium.Conn0704 connection#651 __on_message] RECV < {"id":"2e44c136-83ee-4212-ba90-49679a27e4ee","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:31:56,094 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:31:56,095 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:31:56,095 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:31:56,119 minium.Conn0704 connection#417 _safely_send] ASYNC_SEND > {"id":"55a25423-fb6f-4469-b4f8-c804b9eae729","method":"Tool.close","params":{}}
[D 2024-05-22 15:31:56,122 minium.Conn0704 connection#653 __on_message] RECV < {"id":"55a25423-fb6f-4469-b4f8-c804b9eae729","result":{}}
[I 2024-05-22 15:31:56,123 minium.Conn0704 connection#697 _handle_async_msg] received async msg: 55a25423-fb6f-4469-b4f8-c804b9eae729, maybe command ignore response
[E 2024-05-22 15:31:56,147 minium.Conn0704 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:31:56,148 minium.Conn0704 connection#697 _handle_async_msg] received async msg: f1116e6a-81f6-4ca6-86d3-dd2825017943
[I 2024-05-22 15:31:56,150 minium.Conn0704 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:31:57,972 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:31:57,974 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:31:57,975 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:31:57,976 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:31:57,978 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8e0042c9f465cb08" --auto-port 9420
[I 2024-05-22 15:32:02,024 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:32:02,024 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:32:07,029 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:32:07,114 minium.Conn3536 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:32:07,116 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"d48834ed-5a2c-4ff0-8104-cd6957c23788","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:32:07,156 minium.Conn3536 connection#653 __on_message] RECV < {"id":"d48834ed-5a2c-4ff0-8104-cd6957c23788","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:32:07,159 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"163d472d-2cee-4d87-8246-fbb27dd53f70","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:32:33,935 minium.Conn3536 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 15:32:33,938 minium.Conn3536 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22427:21)\n    at Object.scriptLoaded (<anonymous>:22455:5)\n    at Object.<anonymous> (<anonymous>:22480:22)"}}
[D 2024-05-22 15:32:35,994 minium.Conn3536 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:32:36,379 minium.Conn3536 connection#651 __on_message] RECV < {"id":"163d472d-2cee-4d87-8246-fbb27dd53f70","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:32:36,385 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:32:36,387 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"9509bd28-f86e-4524-bb9c-93bb88f0a431","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:32:36,566 minium.Conn3536 connection#653 __on_message] RECV < {"id":"9509bd28-f86e-4524-bb9c-93bb88f0a431","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:32:36,567 minium.Conn3536 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:32:36,571 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"560d298c-6a43-4386-bd55-a25f7249b2e3","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:32:36,640 minium.Conn3536 connection#653 __on_message] RECV < {"id":"560d298c-6a43-4386-bd55-a25f7249b2e3","result":{}}
[D 2024-05-22 15:32:36,643 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"513ebbb0-6988-44a9-b4a1-898b4201f5ab","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:32:36,723 minium.Conn3536 connection#653 __on_message] RECV < {"id":"513ebbb0-6988-44a9-b4a1-898b4201f5ab","result":{}}
[D 2024-05-22 15:32:36,727 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:32:36,729 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"c37c2205-5b22-4151-8d96-2ed047e29528","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:32:36,782 minium.Conn3536 connection#653 __on_message] RECV < {"id":"c37c2205-5b22-4151-8d96-2ed047e29528","result":{}}
[D 2024-05-22 15:32:36,788 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:32:36,793 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"fac40d4d-c2ff-4ace-bdd5-77208a0ffa13","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:32:36,839 minium.Conn3536 connection#653 __on_message] RECV < {"id":"fac40d4d-c2ff-4ace-bdd5-77208a0ffa13","result":{}}
[D 2024-05-22 15:32:36,844 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:32:36,846 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"779ee426-193c-4716-ac07-5c04ee04478b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:32:36,890 minium.Conn3536 connection#653 __on_message] RECV < {"id":"779ee426-193c-4716-ac07-5c04ee04478b","result":{"result":true}}
[D 2024-05-22 15:32:36,892 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"20bab650-045b-48e4-bfd7-37b3c9f565c7","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:32:36,928 minium.Conn3536 connection#651 __on_message] RECV < {"id":"20bab650-045b-48e4-bfd7-37b3c9f565c7","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 15:32:36,931 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"c0ff0907-1f9e-4b90-b1dd-0e99ed9e27cf","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:32:36,956 minium.Conn3536 connection#653 __on_message] RECV < {"id":"c0ff0907-1f9e-4b90-b1dd-0e99ed9e27cf","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:32:36,959 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"8440bb49-41b9-4cf1-9c2b-4b27f0c89048","method":"App.addBinding","params":{"name":"showModal_before_1716406356959"}}
[D 2024-05-22 15:32:36,987 minium.Conn3536 connection#653 __on_message] RECV < {"id":"8440bb49-41b9-4cf1-9c2b-4b27f0c89048","result":{}}
[D 2024-05-22 15:32:36,990 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"b81d3733-d0b3-4c80-b79b-571f25f394a1","method":"App.addBinding","params":{"name":"showModal_callback_1716406356959"}}
[D 2024-05-22 15:32:37,154 minium.Conn3536 connection#653 __on_message] RECV < {"id":"b81d3733-d0b3-4c80-b79b-571f25f394a1","result":{}}
[D 2024-05-22 15:32:37,156 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:32:37,158 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"355d89a8-894b-4a0d-b1ea-c9124d15e161","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406356959,after:undefined,callback:showModal_callback_1716406356959},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406356959,true]}}
[D 2024-05-22 15:32:37,241 minium.Conn3536 connection#653 __on_message] RECV < {"id":"355d89a8-894b-4a0d-b1ea-c9124d15e161","result":{}}
[D 2024-05-22 15:32:37,244 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"b402ab55-0c6e-4f67-a89e-aba796956e17","method":"App.addBinding","params":{"name":"showToast_before_1716406357244"}}
[D 2024-05-22 15:32:37,335 minium.Conn3536 connection#653 __on_message] RECV < {"id":"b402ab55-0c6e-4f67-a89e-aba796956e17","result":{}}
[D 2024-05-22 15:32:37,338 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"c0311387-9033-489c-8df4-cb15e5f889fc","method":"App.addBinding","params":{"name":"showToast_callback_1716406357244"}}
[D 2024-05-22 15:32:37,355 minium.Conn3536 connection#653 __on_message] RECV < {"id":"c0311387-9033-489c-8df4-cb15e5f889fc","result":{}}
[D 2024-05-22 15:32:37,357 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:32:37,360 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"08423ef1-6e9d-4eb1-9d13-ad5c1c2a8183","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406357244,after:undefined,callback:showToast_callback_1716406357244},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406357244,true]}}
[D 2024-05-22 15:32:37,388 minium.Conn3536 connection#653 __on_message] RECV < {"id":"08423ef1-6e9d-4eb1-9d13-ad5c1c2a8183","result":{}}
[D 2024-05-22 15:32:37,393 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"0ef6de4c-19f5-4425-8952-3895e6c6e600","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:32:37,477 minium.Conn3536 connection#653 __on_message] RECV < {"id":"0ef6de4c-19f5-4425-8952-3895e6c6e600","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:32:37,482 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:32:37,485 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"f98d9232-76ad-4203-b0de-91c0c6cded0e","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:32:37,538 minium.Conn3536 connection#653 __on_message] RECV < {"id":"f98d9232-76ad-4203-b0de-91c0c6cded0e","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:32:37,542 minium.Conn3536 connection#417 _safely_send] ASYNC_SEND > {"id":"0be024c2-371a-443a-9c6b-2b00b500e394","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:32:37,838 minium.Conn3536 connection#653 __on_message] RECV < {"id":"0be024c2-371a-443a-9c6b-2b00b500e394","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:32:37,839 minium.Conn3536 connection#697 _handle_async_msg] received async msg: 0be024c2-371a-443a-9c6b-2b00b500e394
[D 2024-05-22 15:32:41,489 minium.Conn3536 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406361460},1716406361464]}}
[I 2024-05-22 15:32:41,491 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406361460}, 1716406361464]}
[D 2024-05-22 15:32:41,495 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"7e463ca6-3251-4427-8013-855e70106356","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:32:41,507 minium.Conn3536 connection#653 __on_message] RECV < {"id":"7e463ca6-3251-4427-8013-855e70106356","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:32:41,509 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"f9808309-e38f-497e-a7e7-50479fdd8a05","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:32:41,564 minium.Conn3536 connection#653 __on_message] RECV < {"id":"f9808309-e38f-497e-a7e7-50479fdd8a05","result":{"result":false}}
[D 2024-05-22 15:32:41,566 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:32:41,568 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"3a0e3fd4-d941-4560-9f09-24ea40ba60b5","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:32:41,638 minium.Conn3536 connection#653 __on_message] RECV < {"id":"3a0e3fd4-d941-4560-9f09-24ea40ba60b5","result":{}}
[D 2024-05-22 15:32:41,641 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"a72ed4fa-1186-4b4b-bed5-8a5364e71d71","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:32:42,417 minium.Conn3536 connection#653 __on_message] RECV < {"id":"a72ed4fa-1186-4b4b-bed5-8a5364e71d71","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:32:42,419 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"f026288d-774a-4652-9ee9-4ce77f4a22a8","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:32:42,430 minium.Conn3536 connection#653 __on_message] RECV < {"id":"f026288d-774a-4652-9ee9-4ce77f4a22a8","result":{}}
[D 2024-05-22 15:32:42,432 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"5f1e906d-c562-4a31-a695-601d885eb0e3","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:32:42,455 minium.Conn3536 connection#653 __on_message] RECV < {"id":"5f1e906d-c562-4a31-a695-601d885eb0e3","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:32:42,460 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"5f8619d8-a52d-4353-80ba-7f5a3214f4cf","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:32:42,474 minium.Conn3536 connection#651 __on_message] RECV < {"id":"5f8619d8-a52d-4353-80ba-7f5a3214f4cf","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:32:42,476 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:32:42,480 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:32:42,481 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:32:42,482 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:32:42,482 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:32:42,489 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:32:42,491 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:32:42,491 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:32:42,498 minium.Conn3536 connection#417 _safely_send] ASYNC_SEND > {"id":"e529cb14-cbd4-460f-acfd-ab484f1efb7b","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:32:42,630 minium.Conn3536 connection#653 __on_message] RECV < {"id":"e529cb14-cbd4-460f-acfd-ab484f1efb7b","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:32:42,631 minium.Conn3536 connection#697 _handle_async_msg] received async msg: e529cb14-cbd4-460f-acfd-ab484f1efb7b
[I 2024-05-22 15:32:42,635 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:32:42,636 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:32:42,637 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"968634a5-8011-45e3-820e-54fa3edc5a92","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:32:42,827 minium.Conn3536 connection#651 __on_message] RECV < {"id":"968634a5-8011-45e3-820e-54fa3edc5a92","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:32:42,830 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:32:42,831 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:32:42,834 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"550cca35-3305-4429-b7c1-4e9bb4372f87","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:32:42,844 minium.Conn3536 connection#653 __on_message] RECV < {"id":"550cca35-3305-4429-b7c1-4e9bb4372f87","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:32:42,846 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:32:52,850 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:32:52,852 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:32:52,853 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:32:52,854 minium.Conn3536 connection#417 _safely_send] SEND > {"id":"f955c266-e8e0-4064-af88-846715e29cc3","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:32:53,030 minium.Conn3536 connection#651 __on_message] RECV < {"id":"f955c266-e8e0-4064-af88-846715e29cc3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 15:32:53,034 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:32:53,035 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:32:53,037 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:32:53,070 minium.Conn3536 connection#417 _safely_send] ASYNC_SEND > {"id":"8c8e3523-5553-40c2-9fcb-537ef5a3d0f9","method":"Tool.close","params":{}}
[D 2024-05-22 15:32:53,076 minium.Conn3536 connection#653 __on_message] RECV < {"id":"8c8e3523-5553-40c2-9fcb-537ef5a3d0f9","result":{}}
[I 2024-05-22 15:32:53,077 minium.Conn3536 connection#697 _handle_async_msg] received async msg: 8c8e3523-5553-40c2-9fcb-537ef5a3d0f9, maybe command ignore response
[E 2024-05-22 15:32:53,100 minium.Conn3536 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:32:53,101 minium.Conn3536 connection#697 _handle_async_msg] received async msg: 751900d1-f84e-4ef1-a465-f51a4b68d9a6
[I 2024-05-22 15:32:53,102 minium.Conn3536 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:32:54,947 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:32:54,948 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:32:54,949 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:32:54,950 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:32:54,952 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7e3c3f665cd8e4e6" --auto-port 9420
[I 2024-05-22 15:33:00,109 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:19098
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 15:33:00,110 minium minium_object#102 _do_shell] out:

[I 2024-05-22 15:33:05,116 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 15:33:05,674 minium.Conn5728 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 15:33:05,676 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"d19a9fb9-5d6b-4bca-89c6-5e30628403b5","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:33:05,710 minium.Conn5728 connection#653 __on_message] RECV < {"id":"d19a9fb9-5d6b-4bca-89c6-5e30628403b5","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:33:05,712 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"6dbac769-cc16-422f-8aab-7f4131390479","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:33:34,050 minium.Conn5728 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'forEach' of undefined","stack":"TypeError: Cannot read property 'forEach' of undefined\n    at http://127.0.0.1:51104/appservice/custom-tab-bar/index.js?t=wechat&s=1716406381404&v=f45a08e54ff615c3677ca2ed5e07a897:3:14\n    at http://127.0.0.1:51104/appservice/__dev__/WASubContext.js?t=wechat&s=1716406381404&v=3.4.3:1:520698\n    at p.runWith (http://127.0.0.1:51104/appservice/__dev__/WASubContext.js?t=wechat&s=1716406381404&v=3.4....
[D 2024-05-22 15:33:35,694 minium.Conn5728 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 15:33:35,700 minium.Conn5728 connection#651 __on_message] RECV < {"id":"6dbac769-cc16-422f-8aab-7f4131390479","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 15:33:35,702 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 15:33:35,704 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"e2420bef-3b92-49d3-8b78-f319b92851a7","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 15:33:35,717 minium.Conn5728 connection#653 __on_message] RECV < {"id":"e2420bef-3b92-49d3-8b78-f319b92851a7","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 15:33:35,718 minium.Conn5728 connection#283 remove] remove key which is not in observers
[D 2024-05-22 15:33:35,719 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"2ca9240e-75e2-4dec-b21e-9c0bc8e91409","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 15:33:35,728 minium.Conn5728 connection#653 __on_message] RECV < {"id":"2ca9240e-75e2-4dec-b21e-9c0bc8e91409","result":{}}
[D 2024-05-22 15:33:35,730 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"a0369167-4777-43b6-a3c2-4f887ead759c","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 15:33:35,752 minium.Conn5728 connection#653 __on_message] RECV < {"id":"a0369167-4777-43b6-a3c2-4f887ead759c","result":{}}
[D 2024-05-22 15:33:35,753 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 15:33:35,754 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"0b0f5931-3fab-4688-9ac2-3e306e33b2a0","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 15:33:35,781 minium.Conn5728 connection#653 __on_message] RECV < {"id":"0b0f5931-3fab-4688-9ac2-3e306e33b2a0","result":{}}
[D 2024-05-22 15:33:35,783 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 15:33:35,785 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"5258ad2d-b631-4152-8c86-3a64015f63eb","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 15:33:35,802 minium.Conn5728 connection#653 __on_message] RECV < {"id":"5258ad2d-b631-4152-8c86-3a64015f63eb","result":{}}
[D 2024-05-22 15:33:35,806 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 15:33:35,808 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"79a0467f-2e5d-4385-a380-4a14d4307043","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 15:33:35,828 minium.Conn5728 connection#653 __on_message] RECV < {"id":"79a0467f-2e5d-4385-a380-4a14d4307043","result":{"result":true}}
[D 2024-05-22 15:33:35,832 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"b15410a1-bdd6-4f29-b22f-8cc27f7dce9d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 15:33:35,850 minium.Conn5728 connection#651 __on_message] RECV < {"id":"b15410a1-bdd6-4f29-b22f-8cc27f7dce9d","result":{"result":{"pages":["pages/index/index","pages/takefood/scan","pages/takefood/index","pages/user/index","pages/order/index","pages/order/orderdetail","pages/order/list/index","pages/usableBag/usableBag","pages/pay/bill","pages/takeMeals/index","pages/promoter/applyPromoter/applyPromoter","pages/group-activity-list/activityList","pages/page/page","pages/page/p1/index","pages/page/p2/index","pages/page/p3/index","pages/page/p4/index","pages/page/p5/inde...
[D 2024-05-22 15:33:35,853 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"13b3c585-7efa-454a-8ac3-9e66146f7dd2","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 15:33:35,867 minium.Conn5728 connection#653 __on_message] RECV < {"id":"13b3c585-7efa-454a-8ac3-9e66146f7dd2","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 15:33:35,870 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"73fc185c-2cb1-4b4e-9da8-238e916dc3dd","method":"App.addBinding","params":{"name":"showModal_before_1716406415869"}}
[D 2024-05-22 15:33:35,881 minium.Conn5728 connection#653 __on_message] RECV < {"id":"73fc185c-2cb1-4b4e-9da8-238e916dc3dd","result":{}}
[D 2024-05-22 15:33:35,884 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"afe402ff-dbc5-40db-8c6e-64f1c991f70c","method":"App.addBinding","params":{"name":"showModal_callback_1716406415869"}}
[D 2024-05-22 15:33:35,913 minium.Conn5728 connection#653 __on_message] RECV < {"id":"afe402ff-dbc5-40db-8c6e-64f1c991f70c","result":{}}
[D 2024-05-22 15:33:35,915 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:33:35,919 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"5b341d14-27bb-4cd6-b9aa-1301c6ed4df4","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716406415869,after:undefined,callback:showModal_callback_1716406415869},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716406415869,true]}}
[D 2024-05-22 15:33:35,934 minium.Conn5728 connection#653 __on_message] RECV < {"id":"5b341d14-27bb-4cd6-b9aa-1301c6ed4df4","result":{}}
[D 2024-05-22 15:33:35,939 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"02619b8a-f21c-4520-95e7-d71f23b59cfb","method":"App.addBinding","params":{"name":"showToast_before_1716406415937"}}
[D 2024-05-22 15:33:35,953 minium.Conn5728 connection#653 __on_message] RECV < {"id":"02619b8a-f21c-4520-95e7-d71f23b59cfb","result":{}}
[D 2024-05-22 15:33:35,957 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"e3ac64d6-9b14-45a5-a04f-57bd0cbd710a","method":"App.addBinding","params":{"name":"showToast_callback_1716406415937"}}
[D 2024-05-22 15:33:35,970 minium.Conn5728 connection#653 __on_message] RECV < {"id":"e3ac64d6-9b14-45a5-a04f-57bd0cbd710a","result":{}}
[D 2024-05-22 15:33:35,972 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 15:33:35,975 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"a77b7c14-4b2b-4062-b3d9-a91b9db8a0cc","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716406415937,after:undefined,callback:showToast_callback_1716406415937},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716406415937,true]}}
[D 2024-05-22 15:33:35,987 minium.Conn5728 connection#653 __on_message] RECV < {"id":"a77b7c14-4b2b-4062-b3d9-a91b9db8a0cc","result":{}}
[D 2024-05-22 15:33:35,993 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"cbf30979-0626-4ecf-be52-2fce3c45c71c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 15:33:36,008 minium.Conn5728 connection#653 __on_message] RECV < {"id":"cbf30979-0626-4ecf-be52-2fce3c45c71c","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 15:33:36,011 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 15:33:36,014 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"f005c045-0d12-48a5-8f9b-b4e512587955","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:33:36,086 minium.Conn5728 connection#653 __on_message] RECV < {"id":"f005c045-0d12-48a5-8f9b-b4e512587955","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 15:33:36,089 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"75cc3b02-18c9-4f59-9f42-949070d09506","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:33:36,401 minium.Conn5728 connection#653 __on_message] RECV < {"id":"75cc3b02-18c9-4f59-9f42-949070d09506","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 15:33:36,402 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 75cc3b02-18c9-4f59-9f42-949070d09506
[D 2024-05-22 15:33:37,764 minium.Conn5728 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716406417650},1716406417654]}}
[I 2024-05-22 15:33:37,767 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716406417650}, 1716406417654]}
[D 2024-05-22 15:33:37,771 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"1d14a872-c9b2-43f9-be6d-beeb019a8d78","method":"Tool.getInfo","params":{}}
[D 2024-05-22 15:33:37,784 minium.Conn5728 connection#653 __on_message] RECV < {"id":"1d14a872-c9b2-43f9-be6d-beeb019a8d78","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 15:33:37,797 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"83d4868d-ec4e-4123-8ab6-12da673b6c0e","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 15:33:37,871 minium.Conn5728 connection#653 __on_message] RECV < {"id":"83d4868d-ec4e-4123-8ab6-12da673b6c0e","result":{"result":false}}
[D 2024-05-22 15:33:37,877 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 15:33:37,880 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"75dcfc1c-58a6-4bfc-a16d-22fe40b02f0e","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 15:33:37,920 minium.Conn5728 connection#653 __on_message] RECV < {"id":"75dcfc1c-58a6-4bfc-a16d-22fe40b02f0e","result":{}}
[D 2024-05-22 15:33:37,924 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"c989694c-44e3-4c05-990d-6e6530bedf77","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 15:33:38,721 minium.Conn5728 connection#653 __on_message] RECV < {"id":"c989694c-44e3-4c05-990d-6e6530bedf77","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 15:33:38,723 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"d729f1b3-df83-4f12-ae38-23d27d202eff","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 15:33:38,738 minium.Conn5728 connection#653 __on_message] RECV < {"id":"d729f1b3-df83-4f12-ae38-23d27d202eff","result":{}}
[D 2024-05-22 15:33:38,740 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"6d50babf-ebbe-4eea-98fb-9b26575ade31","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 15:33:38,748 minium.Conn5728 connection#653 __on_message] RECV < {"id":"6d50babf-ebbe-4eea-98fb-9b26575ade31","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 15:33:38,750 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"cf074aa5-8659-44ff-a663-1505df55388a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 15:33:38,765 minium.Conn5728 connection#651 __on_message] RECV < {"id":"cf074aa5-8659-44ff-a663-1505df55388a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":19,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 15:33:38,767 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 15:33:38,772 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 15:33:38,773 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 15:33:38,774 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 15:33:38,775 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 15:33:38,776 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 15:33:38,777 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 15:33:38,777 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 15:33:38,779 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"6b5cf664-a126-4995-b37f-3a572937c175","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 15:33:38,877 minium.Conn5728 connection#653 __on_message] RECV < {"id":"6b5cf664-a126-4995-b37f-3a572937c175","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 15:33:38,879 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 6b5cf664-a126-4995-b37f-3a572937c175
[I 2024-05-22 15:33:38,882 minium minitest#717 capture] capture setup.png
[I 2024-05-22 15:33:38,883 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:33:38,884 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"a5b80e47-ce0e-4235-a288-86aa42d0867b","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:33:39,090 minium.Conn5728 connection#651 __on_message] RECV < {"id":"a5b80e47-ce0e-4235-a288-86aa42d0867b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:33:39,092 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:33:39,093 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 15:33:39,095 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"c88de7b0-d778-4fbc-82ee-f944d9217956","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 15:33:39,109 minium.Conn5728 connection#653 __on_message] RECV < {"id":"c88de7b0-d778-4fbc-82ee-f944d9217956","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 15:33:39,112 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 15:33:49,114 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 15:33:49,115 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 15:33:49,116 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 15:33:49,116 minium.Conn5728 connection#417 _safely_send] SEND > {"id":"275a9875-c907-4512-becc-ee5b3114a247","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 15:33:49,299 minium.Conn5728 connection#651 __on_message] RECV < {"id":"275a9875-c907-4512-becc-ee5b3114a247","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAABchJREFUeJzt0zENACAQwEDAv99f8cBCmtwp6NI9MwtoOr8DgHcGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGR...
[I 2024-05-22 15:33:49,303 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 15:33:49,304 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 15:33:49,305 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 15:33:49,324 minium.Conn5728 connection#417 _safely_send] ASYNC_SEND > {"id":"830d9623-e21f-4b47-90b3-3d696dae2d85","method":"Tool.close","params":{}}
[D 2024-05-22 15:33:49,330 minium.Conn5728 connection#653 __on_message] RECV < {"id":"830d9623-e21f-4b47-90b3-3d696dae2d85","result":{}}
[I 2024-05-22 15:33:49,332 minium.Conn5728 connection#697 _handle_async_msg] received async msg: 830d9623-e21f-4b47-90b3-3d696dae2d85, maybe command ignore response
[E 2024-05-22 15:33:49,356 minium.Conn5728 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 15:33:49,358 minium.Conn5728 connection#697 _handle_async_msg] received async msg: cb9b7925-05e5-4eef-8b11-e0b2a777d60f
[I 2024-05-22 15:33:49,359 minium.Conn5728 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 15:33:51,233 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 15:33:51,235 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 15:33:51,235 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 15:33:51,237 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 15:33:51,240 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7f12d9e7661eb99b" --auto-port 9420
[I 2024-05-22 17:01:07,532 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:01:07,532 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:01:07,532 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:01:07,533 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:01:07,534 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7f12d9e7661eb99b" --auto-port 9420
[I 2024-05-22 17:01:19,068 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 54217, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:54983
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:01:19,068 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:01:24,073 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:01:24,282 minium.Conn1776 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:01:24,283 minium.Conn1776 connection#417 _safely_send] SEND > {"id":"9aafb4ae-b90c-429d-b11b-32e586528513","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:01:24,287 minium.Conn1776 connection#653 __on_message] RECV < {"id":"9aafb4ae-b90c-429d-b11b-32e586528513","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:01:24,288 minium.Conn1776 connection#417 _safely_send] SEND > {"id":"0d2c5252-d3d8-419f-b907-d969bf6fc19e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[E 2024-05-22 17:01:47,627 minium.Conn1776 connection#632 _on_error] Connection to remote host was lost.
[W 2024-05-22 17:01:47,628 minium.Conn1776 connection#552 reconnect] connection reconnect
[I 2024-05-22 17:01:47,628 minium.Conn1776 connection#367 _ws_run_forever] websocket run forever shutdown
[E 2024-05-22 17:01:47,750 minium.Conn1776 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 17:01:47,778 minium.Conn1776 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 17:01:47,791 minium.Conn1776 connection#568 reconnect] connect refused, please check svr
[E 2024-05-22 17:01:52,819 minium.Conn1776 connection#632 _on_error] [Errno 111] Connection refused
[I 2024-05-22 17:01:52,851 minium.Conn1776 connection#367 _ws_run_forever] websocket run forever shutdown
[W 2024-05-22 17:01:52,852 minium.Conn1776 connection#568 reconnect] connect refused, please check svr
[I 2024-05-22 17:03:28,530 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:03:28,531 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:03:28,531 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:03:28,532 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:03:28,533 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7fbb70a732424777" --auto-port 9420
[I 2024-05-22 17:03:38,883 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 54983, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:03:38,884 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:03:43,889 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:03:44,221 minium.Conn3904 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:03:44,222 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"c4e396ee-5a8b-4338-b329-108c9dd42033","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:03:44,242 minium.Conn3904 connection#653 __on_message] RECV < {"id":"c4e396ee-5a8b-4338-b329-108c9dd42033","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:03:44,243 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"77a40cad-1368-4b87-9954-4f19e806bc5b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:03:52,274 minium.Conn3904 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:03:52,277 minium.Conn3904 connection#651 __on_message] RECV < {"id":"77a40cad-1368-4b87-9954-4f19e806bc5b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:03:52,278 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:03:52,279 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"5987938b-c125-4278-b483-9b3da34cd25d","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:03:52,285 minium.Conn3904 connection#653 __on_message] RECV < {"id":"5987938b-c125-4278-b483-9b3da34cd25d","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:03:52,286 minium.Conn3904 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:03:52,286 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"f93a4d56-243c-4498-a8e0-9fa38eeb34ff","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:03:52,290 minium.Conn3904 connection#653 __on_message] RECV < {"id":"f93a4d56-243c-4498-a8e0-9fa38eeb34ff","result":{}}
[D 2024-05-22 17:03:52,291 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"ea68a111-500c-4614-a84c-8484e8f679ce","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:03:52,297 minium.Conn3904 connection#653 __on_message] RECV < {"id":"ea68a111-500c-4614-a84c-8484e8f679ce","result":{}}
[D 2024-05-22 17:03:52,298 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:03:52,298 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"a3012250-0287-4c59-8f6d-75328544150b","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:03:52,302 minium.Conn3904 connection#653 __on_message] RECV < {"id":"a3012250-0287-4c59-8f6d-75328544150b","result":{}}
[D 2024-05-22 17:03:52,302 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:03:52,303 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"918d8963-2793-4b7b-aa2d-8ed6c09e29e5","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:03:52,313 minium.Conn3904 connection#653 __on_message] RECV < {"id":"918d8963-2793-4b7b-aa2d-8ed6c09e29e5","result":{}}
[D 2024-05-22 17:03:52,314 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:03:52,314 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"f2e264bd-81cc-4eec-8ebf-d3df23c95d68","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:03:52,321 minium.Conn3904 connection#653 __on_message] RECV < {"id":"f2e264bd-81cc-4eec-8ebf-d3df23c95d68","result":{"result":true}}
[D 2024-05-22 17:03:52,322 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"209fa471-7b4b-4c9c-a63c-e54f70c8b661","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:03:52,329 minium.Conn3904 connection#651 __on_message] RECV < {"id":"209fa471-7b4b-4c9c-a63c-e54f70c8b661","result":{"result":{"pages":["pages/start/start","pages/home/home","pages/news/news","pages/activity/activity","pages/activity/detail/activityDetail","pages/mine/mine","pages/chamber/chamber","pages/member/member","pages/news/article/article","pages/member/article/article","pages/join/memberClaim/first/claimInfo","pages/mine/list/callbook/callbook","pages/mine/list/chamber/mychamber","pages/mine/list/chamber/record/payrecord","pages/mine/list/chamber/archives/...
[D 2024-05-22 17:03:52,330 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"e4a6f0f9-8d2b-4ff6-a9d4-e443f4474ba6","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:03:52,341 minium.Conn3904 connection#653 __on_message] RECV < {"id":"e4a6f0f9-8d2b-4ff6-a9d4-e443f4474ba6","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:03:52,342 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"7eca9435-7fa1-4b75-b45a-a96e20560bc1","method":"App.addBinding","params":{"name":"showModal_before_1716411832342"}}
[D 2024-05-22 17:03:52,348 minium.Conn3904 connection#653 __on_message] RECV < {"id":"7eca9435-7fa1-4b75-b45a-a96e20560bc1","result":{}}
[D 2024-05-22 17:03:52,348 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"b84eb31a-9ee8-43ec-97bf-266f45c2a7af","method":"App.addBinding","params":{"name":"showModal_callback_1716411832342"}}
[D 2024-05-22 17:03:52,375 minium.Conn3904 connection#653 __on_message] RECV < {"id":"b84eb31a-9ee8-43ec-97bf-266f45c2a7af","result":{}}
[D 2024-05-22 17:03:52,375 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:03:52,376 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"834005af-d9aa-4a0a-8273-0341ab1c6ce6","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411832342,after:undefined,callback:showModal_callback_1716411832342},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411832342,true]}}
[D 2024-05-22 17:03:52,389 minium.Conn3904 connection#653 __on_message] RECV < {"id":"834005af-d9aa-4a0a-8273-0341ab1c6ce6","result":{}}
[D 2024-05-22 17:03:52,390 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"2e386a58-b5a9-43f4-a3c3-58d38ee8da69","method":"App.addBinding","params":{"name":"showToast_before_1716411832390"}}
[D 2024-05-22 17:03:52,401 minium.Conn3904 connection#653 __on_message] RECV < {"id":"2e386a58-b5a9-43f4-a3c3-58d38ee8da69","result":{}}
[D 2024-05-22 17:03:52,402 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"9b3c4cdc-41b4-4e24-aa46-a75823884028","method":"App.addBinding","params":{"name":"showToast_callback_1716411832390"}}
[D 2024-05-22 17:03:52,405 minium.Conn3904 connection#653 __on_message] RECV < {"id":"9b3c4cdc-41b4-4e24-aa46-a75823884028","result":{}}
[D 2024-05-22 17:03:52,406 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:03:52,406 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"ad0753eb-c3ab-4fec-9724-25dbf9054406","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411832390,after:undefined,callback:showToast_callback_1716411832390},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411832390,true]}}
[D 2024-05-22 17:03:52,411 minium.Conn3904 connection#653 __on_message] RECV < {"id":"ad0753eb-c3ab-4fec-9724-25dbf9054406","result":{}}
[D 2024-05-22 17:03:52,413 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"21adfe28-902f-420c-ad22-97359d08e9bb","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:03:52,421 minium.Conn3904 connection#653 __on_message] RECV < {"id":"21adfe28-902f-420c-ad22-97359d08e9bb","result":{"result":{"path":"pages/start/start","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:03:52,422 minium app#731 relaunch] ReLaunch: /pages/start/start
[D 2024-05-22 17:03:52,423 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"18bf0475-f37c-4e9e-b9df-3c6af62a108b","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:03:52,429 minium.Conn3904 connection#653 __on_message] RECV < {"id":"18bf0475-f37c-4e9e-b9df-3c6af62a108b","result":{"pageId":2,"path":"pages/start/start","query":{}}}
[D 2024-05-22 17:03:52,429 minium.Conn3904 connection#417 _safely_send] ASYNC_SEND > {"id":"c4d74a3a-0b97-47f5-9fec-5edaac858e9c","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/start/start"}]}}
[D 2024-05-22 17:03:52,531 minium.Conn3904 connection#653 __on_message] RECV < {"id":"c4d74a3a-0b97-47f5-9fec-5edaac858e9c","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:03:52,532 minium.Conn3904 connection#697 _handle_async_msg] received async msg: c4d74a3a-0b97-47f5-9fec-5edaac858e9c
[D 2024-05-22 17:03:53,063 minium.Conn3904 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/start/start","query":{},"openType":"reLaunch","__ts__":1716411833044},1716411833047]}}
[I 2024-05-22 17:03:53,072 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/start/start', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411833044}, 1716411833047]}
[D 2024-05-22 17:03:53,073 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"4e14054e-3162-4d40-8d5e-7673dc7ca7da","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:03:53,085 minium.Conn3904 connection#653 __on_message] RECV < {"id":"4e14054e-3162-4d40-8d5e-7673dc7ca7da","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:03:53,087 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"fdc39067-e879-475b-96cc-eb093fed18c3","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:03:53,097 minium.Conn3904 connection#653 __on_message] RECV < {"id":"fdc39067-e879-475b-96cc-eb093fed18c3","result":{"result":false}}
[D 2024-05-22 17:03:53,099 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:03:53,100 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"792162ab-3f4e-4d00-a5b7-13066f05c956","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:03:53,108 minium.Conn3904 connection#653 __on_message] RECV < {"id":"792162ab-3f4e-4d00-a5b7-13066f05c956","result":{}}
[D 2024-05-22 17:03:53,109 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"4e394c42-e5c3-4a13-85c6-b0c2f88d7815","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:03:53,835 minium.Conn3904 connection#653 __on_message] RECV < {"id":"4e394c42-e5c3-4a13-85c6-b0c2f88d7815","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:03:53,836 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"36e1ac8d-0617-4e00-a567-829545bae120","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:03:53,840 minium.Conn3904 connection#653 __on_message] RECV < {"id":"36e1ac8d-0617-4e00-a567-829545bae120","result":{}}
[D 2024-05-22 17:03:53,842 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"c27cad0e-a7b0-4856-8a41-9075e2898e70","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:03:53,846 minium.Conn3904 connection#653 __on_message] RECV < {"id":"c27cad0e-a7b0-4856-8a41-9075e2898e70","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:03:53,847 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"d148e8f1-bb81-44d9-bc98-1170d95130ba","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:03:53,854 minium.Conn3904 connection#651 __on_message] RECV < {"id":"d148e8f1-bb81-44d9-bc98-1170d95130ba","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:03:53,855 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:03:53,856 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:03:53,857 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:03:53,857 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:03:53,857 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:03:53,857 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:03:53,857 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:03:53,858 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 17:03:53,858 minium app#731 relaunch] ReLaunch: /pages/start/start
[D 2024-05-22 17:03:53,858 minium.Conn3904 connection#417 _safely_send] ASYNC_SEND > {"id":"16833d41-bd19-4e46-8225-a85deab0b8ce","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/start/start"}]}}
[D 2024-05-22 17:03:53,936 minium.Conn3904 connection#653 __on_message] RECV < {"id":"16833d41-bd19-4e46-8225-a85deab0b8ce","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:03:53,937 minium.Conn3904 connection#697 _handle_async_msg] received async msg: 16833d41-bd19-4e46-8225-a85deab0b8ce
[D 2024-05-22 17:03:54,342 minium.Conn3904 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":5,"path":"pages/start/start","query":{},"openType":"reLaunch","__ts__":1716411834329},1716411834331]}}
[I 2024-05-22 17:03:54,344 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 5, 'path': 'pages/start/start', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411834329}, 1716411834331]}
[I 2024-05-22 17:03:54,346 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:03:54,346 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:03:54,347 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"1a3b02ec-3cdd-442b-afa8-b30159ce8b4d","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:03:54,484 minium.Conn3904 connection#651 __on_message] RECV < {"id":"1a3b02ec-3cdd-442b-afa8-b30159ce8b4d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAE/xJREFUeJzt3X10FPW9x/HvzCZAIASQhyaIB4gPEQlSKg+BgkLFS4VUCnip5QioWFDQakHRc0ss9xxur95aH0o9mIu2tVBRVOCKDyANxAoRhCJCkGdQ5MGGADGJJGR353f/2MiTgItKkk/7fp38kczOzs6czTu/mdnZjbdv3z4DoMlzztX2OgD4mvzaXgEAXx8BA8IIGBBGwIAwAgaEEbCAuXPnPv7446dMPHjw4MyZM2PfO+cKCwunT5/+yCOPnHYJ+fn599xzj5nt2bNn2LBhQRCc1xVGjUmo7RXAqdauXbt27drY94mJiaNHj37ppZf69+9/ymyJiYmPPvpo48aNb7rppgkTJrz11lvXXXddjx49br/99mPzTJs2LT...
[I 2024-05-22 17:03:54,485 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:03:54,486 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:03:54,486 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"61f02164-afe0-46f6-881c-41fe229e2b99","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:03:54,492 minium.Conn3904 connection#653 __on_message] RECV < {"id":"61f02164-afe0-46f6-881c-41fe229e2b99","result":{"pageId":5,"path":"pages/start/start","query":{}}}
[I 2024-05-22 17:03:54,492 minium app#689 navigate_to] NavigateTo: Page(id=5, path=/pages/start/start, query={})
[D 2024-05-22 17:04:04,494 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:04:04,494 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:04:04,494 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:04:04,495 minium.Conn3904 connection#417 _safely_send] SEND > {"id":"02376b7e-f1b4-49a7-814e-a0a58ea9d8ef","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:04:04,575 minium.Conn3904 connection#651 __on_message] RECV < {"id":"02376b7e-f1b4-49a7-814e-a0a58ea9d8ef","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAE/xJREFUeJzt3X10FPW9x/HvzCZAIASQhyaIB4gPEQlSKg+BgkLFS4VUCnip5QioWFDQakHRc0ss9xxur95aH0o9mIu2tVBRVOCKDyANxAoRhCJCkGdQ5MGGADGJJGR353f/2MiTgItKkk/7fp38kczOzs6czTu/mdnZjbdv3z4DoMlzztX2OgD4mvzaXgEAXx8BA8IIGBBGwIAwAgaEEbCAuXPnPv7446dMPHjw4MyZM2PfO+cKCwunT5/+yCOPnHYJ+fn599xzj5nt2bNn2LBhQRCc1xVGjUmo7RXAqdauXbt27drY94mJiaNHj37ppZf69+9/ymyJiYmPPvpo48aNb7rppgkTJrz11lvXXXddjx49br/99mPzTJs2LT...
[I 2024-05-22 17:04:04,576 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:04:04,576 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:04:04,577 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:04:04,584 minium.Conn3904 connection#417 _safely_send] ASYNC_SEND > {"id":"57c7130a-566c-4218-b78e-7b021da4d1f4","method":"Tool.close","params":{}}
[D 2024-05-22 17:04:04,585 minium.Conn3904 connection#653 __on_message] RECV < {"id":"57c7130a-566c-4218-b78e-7b021da4d1f4","result":{}}
[I 2024-05-22 17:04:04,586 minium.Conn3904 connection#697 _handle_async_msg] received async msg: 57c7130a-566c-4218-b78e-7b021da4d1f4, maybe command ignore response
[E 2024-05-22 17:04:04,607 minium.Conn3904 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:04:04,607 minium.Conn3904 connection#697 _handle_async_msg] received async msg: ab001702-966d-488a-8ae2-703511ac7829
[I 2024-05-22 17:04:04,608 minium.Conn3904 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:04:05,895 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:04:05,895 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:04:05,895 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:04:05,896 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:04:05,896 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7ba1403e4ee38c6a" --auto-port 9420
[I 2024-05-22 17:04:11,589 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:04:11,590 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:04:16,595 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:04:17,799 minium.Conn3168 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:04:17,799 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"b33056bb-cbfa-4978-9bb0-0333e7e4b6fb","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:04:17,847 minium.Conn3168 connection#653 __on_message] RECV < {"id":"b33056bb-cbfa-4978-9bb0-0333e7e4b6fb","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:04:17,848 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"341bae3a-ab5b-4215-a369-68f526065a7a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:04:24,742 minium.Conn3168 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 17:04:24,742 minium.Conn3168 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:10088:21)\n    at Object.scriptLoaded (<anonymous>:10116:5)\n    at Object.<anonymous> (<anonymous>:10141:22)"}}
[D 2024-05-22 17:04:25,828 minium.Conn3168 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:04:25,833 minium.Conn3168 connection#651 __on_message] RECV < {"id":"341bae3a-ab5b-4215-a369-68f526065a7a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:04:25,834 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:04:25,835 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"b0c8adc4-6302-4297-abd8-771e8307c95e","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:04:25,842 minium.Conn3168 connection#653 __on_message] RECV < {"id":"b0c8adc4-6302-4297-abd8-771e8307c95e","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:04:25,843 minium.Conn3168 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:04:25,844 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"0655fb9a-2f0c-4fbf-afbf-555ec73661de","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:04:25,855 minium.Conn3168 connection#653 __on_message] RECV < {"id":"0655fb9a-2f0c-4fbf-afbf-555ec73661de","result":{}}
[D 2024-05-22 17:04:25,855 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"f06e5708-ad29-4139-985b-ad5e0cfa4b95","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:04:25,882 minium.Conn3168 connection#653 __on_message] RECV < {"id":"f06e5708-ad29-4139-985b-ad5e0cfa4b95","result":{}}
[D 2024-05-22 17:04:25,883 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:04:25,884 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"d5d8d6a8-e36d-42ab-9d1e-7080095e62b0","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:04:25,903 minium.Conn3168 connection#653 __on_message] RECV < {"id":"d5d8d6a8-e36d-42ab-9d1e-7080095e62b0","result":{}}
[D 2024-05-22 17:04:25,903 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:04:25,904 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"df748f65-c770-40e3-8593-0e89fdf43072","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:04:25,918 minium.Conn3168 connection#653 __on_message] RECV < {"id":"df748f65-c770-40e3-8593-0e89fdf43072","result":{}}
[D 2024-05-22 17:04:25,918 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:04:25,919 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"0d7938fb-5959-4385-9914-e00d30564fba","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:04:25,928 minium.Conn3168 connection#653 __on_message] RECV < {"id":"0d7938fb-5959-4385-9914-e00d30564fba","result":{"result":true}}
[D 2024-05-22 17:04:25,929 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"2003517c-722c-44b8-8114-eb818d898ea5","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:04:25,947 minium.Conn3168 connection#651 __on_message] RECV < {"id":"2003517c-722c-44b8-8114-eb818d898ea5","result":{"result":{"pages":["pages/home/dashboard/index","pages/template/getcouponlist/index","pages/template/shenfen/index","pages/usercenter/dashboard/index","pages/usercenter/issue/index","pages/usercenter/join/index","pages/usercenter/yuyue/index","pages/usercenter/rank/index","pages/usercenter/rank/ranking","pages/usercenter/recharge/index","pages/issue/issue","pages/detail/index","pages/about/about","pages/register/register","pages/usercenter/payorder/i...
[D 2024-05-22 17:04:25,948 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"fac42786-03cd-446a-af27-a0374fe32381","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:04:25,972 minium.Conn3168 connection#653 __on_message] RECV < {"id":"fac42786-03cd-446a-af27-a0374fe32381","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:04:25,973 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"bb897d47-e8a0-4970-9ceb-2fe89a6e45ab","method":"App.addBinding","params":{"name":"showModal_before_1716411865973"}}
[D 2024-05-22 17:04:25,979 minium.Conn3168 connection#653 __on_message] RECV < {"id":"bb897d47-e8a0-4970-9ceb-2fe89a6e45ab","result":{}}
[D 2024-05-22 17:04:25,979 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"8a740eb9-a314-4f3c-9959-af0ec089ef86","method":"App.addBinding","params":{"name":"showModal_callback_1716411865973"}}
[D 2024-05-22 17:04:25,984 minium.Conn3168 connection#653 __on_message] RECV < {"id":"8a740eb9-a314-4f3c-9959-af0ec089ef86","result":{}}
[D 2024-05-22 17:04:25,985 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:04:25,986 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"825aa497-a8fb-4a90-89d9-45028dccbf17","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411865973,after:undefined,callback:showModal_callback_1716411865973},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411865973,true]}}
[D 2024-05-22 17:04:25,991 minium.Conn3168 connection#653 __on_message] RECV < {"id":"825aa497-a8fb-4a90-89d9-45028dccbf17","result":{}}
[D 2024-05-22 17:04:25,992 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"230d328b-d0e3-44e9-8508-4eb1c504faff","method":"App.addBinding","params":{"name":"showToast_before_1716411865992"}}
[D 2024-05-22 17:04:25,996 minium.Conn3168 connection#653 __on_message] RECV < {"id":"230d328b-d0e3-44e9-8508-4eb1c504faff","result":{}}
[D 2024-05-22 17:04:25,997 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"b4480d23-f454-4383-af10-61a84bece015","method":"App.addBinding","params":{"name":"showToast_callback_1716411865992"}}
[D 2024-05-22 17:04:26,002 minium.Conn3168 connection#653 __on_message] RECV < {"id":"b4480d23-f454-4383-af10-61a84bece015","result":{}}
[D 2024-05-22 17:04:26,003 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:04:26,004 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"84aa3db6-46c9-45f1-bfab-c84f89b4683f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411865992,after:undefined,callback:showToast_callback_1716411865992},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411865992,true]}}
[D 2024-05-22 17:04:26,009 minium.Conn3168 connection#653 __on_message] RECV < {"id":"84aa3db6-46c9-45f1-bfab-c84f89b4683f","result":{}}
[D 2024-05-22 17:04:26,012 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"defd531f-c7b2-444a-82f4-f84ec1fc9dd9","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:04:26,027 minium.Conn3168 connection#653 __on_message] RECV < {"id":"defd531f-c7b2-444a-82f4-f84ec1fc9dd9","result":{"result":{"path":"pages/home/dashboard/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:04:26,029 minium app#731 relaunch] ReLaunch: /pages/home/dashboard/index
[D 2024-05-22 17:04:26,030 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"7eacc7e8-0274-4af4-827d-aa418bd18fb7","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:04:26,044 minium.Conn3168 connection#653 __on_message] RECV < {"id":"7eacc7e8-0274-4af4-827d-aa418bd18fb7","result":{"pageId":1,"path":"pages/home/dashboard/index","query":{}}}
[D 2024-05-22 17:04:26,045 minium.Conn3168 connection#417 _safely_send] ASYNC_SEND > {"id":"a1c1ec3b-ff19-44da-9a8b-c78512593d9d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 17:04:26,108 minium.Conn3168 connection#653 __on_message] RECV < {"id":"a1c1ec3b-ff19-44da-9a8b-c78512593d9d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:04:26,109 minium.Conn3168 connection#697 _handle_async_msg] received async msg: a1c1ec3b-ff19-44da-9a8b-c78512593d9d
[D 2024-05-22 17:04:27,325 minium.Conn3168 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/home/dashboard/index","query":{},"openType":"reLaunch","__ts__":1716411867283},1716411867286]}}
[I 2024-05-22 17:04:27,326 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/home/dashboard/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411867283}, 1716411867286]}
[D 2024-05-22 17:04:27,328 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"4e80b30f-bf01-41ca-968b-ee85ed9ad40d","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:04:27,332 minium.Conn3168 connection#653 __on_message] RECV < {"id":"4e80b30f-bf01-41ca-968b-ee85ed9ad40d","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:04:27,335 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"310fd363-6068-4814-b229-efa3f5b8ee81","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:04:27,350 minium.Conn3168 connection#653 __on_message] RECV < {"id":"310fd363-6068-4814-b229-efa3f5b8ee81","result":{"result":false}}
[D 2024-05-22 17:04:27,351 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:04:27,352 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"3f64f60c-d13c-45ab-a74e-3b788f6a91b6","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:04:27,369 minium.Conn3168 connection#653 __on_message] RECV < {"id":"3f64f60c-d13c-45ab-a74e-3b788f6a91b6","result":{}}
[D 2024-05-22 17:04:27,370 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"f5da6820-89d6-4229-a478-d8ba1eda48b8","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:04:28,087 minium.Conn3168 connection#653 __on_message] RECV < {"id":"f5da6820-89d6-4229-a478-d8ba1eda48b8","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:04:28,089 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"cffdf31b-a6da-46cc-8269-5a19d52d10c5","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:04:28,092 minium.Conn3168 connection#653 __on_message] RECV < {"id":"cffdf31b-a6da-46cc-8269-5a19d52d10c5","result":{}}
[D 2024-05-22 17:04:28,093 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"4bc121ff-a550-4ed3-b313-fab20c96e123","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:04:28,095 minium.Conn3168 connection#653 __on_message] RECV < {"id":"4bc121ff-a550-4ed3-b313-fab20c96e123","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:04:28,096 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"0dd4531b-db79-48d8-8d3b-980534a36057","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:04:28,100 minium.Conn3168 connection#651 __on_message] RECV < {"id":"0dd4531b-db79-48d8-8d3b-980534a36057","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":36,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:04:28,101 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:04:28,104 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:04:28,104 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:04:28,105 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:04:28,105 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:04:28,106 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:04:28,106 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:04:28,106 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:04:28,106 minium.Conn3168 connection#417 _safely_send] ASYNC_SEND > {"id":"f1ee2c49-386f-48f1-b9df-1142f0025952","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/home/dashboard/index"}]}}
[D 2024-05-22 17:04:28,149 minium.Conn3168 connection#653 __on_message] RECV < {"id":"f1ee2c49-386f-48f1-b9df-1142f0025952","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:04:28,150 minium.Conn3168 connection#697 _handle_async_msg] received async msg: f1ee2c49-386f-48f1-b9df-1142f0025952
[I 2024-05-22 17:04:28,151 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:04:28,152 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:04:28,153 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"37a177d5-8c18-437d-8f7c-72c9a265615e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:04:28,243 minium.Conn3168 connection#651 __on_message] RECV < {"id":"37a177d5-8c18-437d-8f7c-72c9a265615e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 17:04:28,244 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:04:28,245 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:04:28,245 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"0ede7afa-075f-4e08-970f-a4217f8f4572","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:04:28,249 minium.Conn3168 connection#653 __on_message] RECV < {"id":"0ede7afa-075f-4e08-970f-a4217f8f4572","result":{"pageId":2,"path":"pages/home/dashboard/index","query":{}}}
[I 2024-05-22 17:04:28,250 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/home/dashboard/index, query={})
[D 2024-05-22 17:04:38,251 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:04:38,252 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:04:38,253 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:04:38,253 minium.Conn3168 connection#417 _safely_send] SEND > {"id":"e84323c4-ac47-4f96-9898-74e2e0bba99e","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:04:38,306 minium.Conn3168 connection#651 __on_message] RECV < {"id":"e84323c4-ac47-4f96-9898-74e2e0bba99e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAABfZJREFUeJzt00ENACAQwDDAv+fDAx+ypFWwz/bMLKDp/A4A3hkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 17:04:38,307 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:04:38,308 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:04:38,308 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:04:38,327 minium.Conn3168 connection#417 _safely_send] ASYNC_SEND > {"id":"7a402a2e-e862-4a6f-84dc-df71d57fb7ac","method":"Tool.close","params":{}}
[D 2024-05-22 17:04:38,328 minium.Conn3168 connection#653 __on_message] RECV < {"id":"7a402a2e-e862-4a6f-84dc-df71d57fb7ac","result":{}}
[I 2024-05-22 17:04:38,329 minium.Conn3168 connection#697 _handle_async_msg] received async msg: 7a402a2e-e862-4a6f-84dc-df71d57fb7ac, maybe command ignore response
[E 2024-05-22 17:04:38,353 minium.Conn3168 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:04:38,354 minium.Conn3168 connection#697 _handle_async_msg] received async msg: a13af20d-5a2d-45f2-8d24-43fae6095e97
[I 2024-05-22 17:04:38,354 minium.Conn3168 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:04:39,613 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:04:39,614 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:04:39,614 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:04:39,615 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:04:39,615 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxa12867f7bb06a013" --auto-port 9420
[I 2024-05-22 17:04:45,199 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:04:45,200 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:04:50,205 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:04:50,263 minium.Conn5952 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:04:50,264 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"db85acd4-0384-472c-b0c7-4cce82923c19","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:04:50,597 minium.Conn5952 connection#653 __on_message] RECV < {"id":"db85acd4-0384-472c-b0c7-4cce82923c19","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:04:50,598 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"c370e0bf-4a11-4b70-9c1f-79ea2672b9f0","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:04:58,364 minium.Conn5952 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:04:58,370 minium.Conn5952 connection#651 __on_message] RECV < {"id":"c370e0bf-4a11-4b70-9c1f-79ea2672b9f0","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:04:58,371 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:04:58,372 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"adf02446-1bc0-4d8b-8ef6-ce2bcaae6dcf","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:04:58,380 minium.Conn5952 connection#653 __on_message] RECV < {"id":"adf02446-1bc0-4d8b-8ef6-ce2bcaae6dcf","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:04:58,381 minium.Conn5952 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:04:58,381 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"d1e00098-06d5-4c9a-9d9d-700d27f25379","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:04:58,385 minium.Conn5952 connection#653 __on_message] RECV < {"id":"d1e00098-06d5-4c9a-9d9d-700d27f25379","result":{}}
[D 2024-05-22 17:04:58,386 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"f4916f7a-3c0e-47e6-8fe7-5af58a17f064","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:04:58,411 minium.Conn5952 connection#653 __on_message] RECV < {"id":"f4916f7a-3c0e-47e6-8fe7-5af58a17f064","result":{}}
[D 2024-05-22 17:04:58,411 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:04:58,412 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"676dca9c-c729-4fab-9729-c390b016a7c9","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:04:58,430 minium.Conn5952 connection#653 __on_message] RECV < {"id":"676dca9c-c729-4fab-9729-c390b016a7c9","result":{}}
[D 2024-05-22 17:04:58,430 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:04:58,431 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"b3226d58-f4db-41f7-b773-4f2b3f1e8475","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:04:58,456 minium.Conn5952 connection#653 __on_message] RECV < {"id":"b3226d58-f4db-41f7-b773-4f2b3f1e8475","result":{}}
[D 2024-05-22 17:04:58,457 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:04:58,457 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"f4e88269-79b2-4793-adf7-89da4696e1b2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:04:58,501 minium.Conn5952 connection#653 __on_message] RECV < {"id":"f4e88269-79b2-4793-adf7-89da4696e1b2","result":{"result":true}}
[D 2024-05-22 17:04:58,502 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"c62f62a0-4153-4369-b587-6c4cede449c2","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:04:58,511 minium.Conn5952 connection#651 __on_message] RECV < {"id":"c62f62a0-4153-4369-b587-6c4cede449c2","result":{"result":{"pages":["pages/index/index","pages/category/index","pages/population/index","pages/population/add","pages/replace/connect","pages/heating/scouting","pages/property/index","pages/account/addr","pages/account/apply","pages/account/choose","pages/discover/index","pages/mall/index/index","pages/mall/address/index","pages/mall/address/create","pages/mall/address/detail","pages/mall/category/index","pages/mall/category/list","pages/mall/flow/ind...
[D 2024-05-22 17:04:58,512 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"8cee3649-934a-44d1-9f07-766dd389baab","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:04:58,518 minium.Conn5952 connection#653 __on_message] RECV < {"id":"8cee3649-934a-44d1-9f07-766dd389baab","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:04:58,519 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"683ea58f-1258-44cf-a380-c056685ba035","method":"App.addBinding","params":{"name":"showModal_before_1716411898519"}}
[D 2024-05-22 17:04:58,523 minium.Conn5952 connection#653 __on_message] RECV < {"id":"683ea58f-1258-44cf-a380-c056685ba035","result":{}}
[D 2024-05-22 17:04:58,524 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"b8b48568-9304-4561-93fe-c4296d7094d3","method":"App.addBinding","params":{"name":"showModal_callback_1716411898519"}}
[D 2024-05-22 17:04:58,530 minium.Conn5952 connection#653 __on_message] RECV < {"id":"b8b48568-9304-4561-93fe-c4296d7094d3","result":{}}
[D 2024-05-22 17:04:58,531 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:04:58,532 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"01bde63b-7c68-41db-bf5f-6c3803f66c42","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411898519,after:undefined,callback:showModal_callback_1716411898519},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411898519,true]}}
[D 2024-05-22 17:04:58,536 minium.Conn5952 connection#653 __on_message] RECV < {"id":"01bde63b-7c68-41db-bf5f-6c3803f66c42","result":{}}
[D 2024-05-22 17:04:58,537 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"09d69974-6b44-42f0-a04c-768b99ac677f","method":"App.addBinding","params":{"name":"showToast_before_1716411898537"}}
[D 2024-05-22 17:04:58,541 minium.Conn5952 connection#653 __on_message] RECV < {"id":"09d69974-6b44-42f0-a04c-768b99ac677f","result":{}}
[D 2024-05-22 17:04:58,542 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"cac80e9a-afeb-497c-bef7-98fdf2df2265","method":"App.addBinding","params":{"name":"showToast_callback_1716411898537"}}
[D 2024-05-22 17:04:58,546 minium.Conn5952 connection#653 __on_message] RECV < {"id":"cac80e9a-afeb-497c-bef7-98fdf2df2265","result":{}}
[D 2024-05-22 17:04:58,547 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:04:58,547 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"4bfab903-b997-4c9b-a451-c3591effa6ff","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411898537,after:undefined,callback:showToast_callback_1716411898537},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411898537,true]}}
[D 2024-05-22 17:04:58,551 minium.Conn5952 connection#653 __on_message] RECV < {"id":"4bfab903-b997-4c9b-a451-c3591effa6ff","result":{}}
[D 2024-05-22 17:04:58,552 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"68cc4b82-9c88-4c35-9188-612c8f3a8302","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:04:58,559 minium.Conn5952 connection#653 __on_message] RECV < {"id":"68cc4b82-9c88-4c35-9188-612c8f3a8302","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:04:58,560 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:04:58,561 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"1e4f340f-2662-46df-bfe9-dd10b33bd39a","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:04:58,565 minium.Conn5952 connection#653 __on_message] RECV < {"id":"1e4f340f-2662-46df-bfe9-dd10b33bd39a","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:04:58,566 minium.Conn5952 connection#417 _safely_send] ASYNC_SEND > {"id":"4e67d10c-c9e9-475d-abb2-0f19d6f29a5f","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:04:58,657 minium.Conn5952 connection#653 __on_message] RECV < {"id":"4e67d10c-c9e9-475d-abb2-0f19d6f29a5f","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:04:58,658 minium.Conn5952 connection#697 _handle_async_msg] received async msg: 4e67d10c-c9e9-475d-abb2-0f19d6f29a5f
[D 2024-05-22 17:04:58,917 minium.Conn5952 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716411898519","args":[{"title":"友情提示","content":"服务器异常,请稍后重试","showCancel":false},0.5023536385338563]}}
[D 2024-05-22 17:04:58,918 minium app#1074 super_before] showModal before hook result: [{'title': '友情提示', 'content': '服务器异常,请稍后重试', 'showCancel': False}, 0.5023536385338563]
[D 2024-05-22 17:04:58,948 minium.Conn5952 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showModal_before_1716411898519","args":[{"title":"友情提示","content":"服务器异常,请稍后重试","showCancel":false},0.7249027863848911]}}
[D 2024-05-22 17:04:58,949 minium app#1074 super_before] showModal before hook result: [{'title': '友情提示', 'content': '服务器异常,请稍后重试', 'showCancel': False}, 0.7249027863848911]
[D 2024-05-22 17:04:59,048 minium.Conn5952 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716411899005},1716411899007]}}
[I 2024-05-22 17:04:59,049 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411899005}, 1716411899007]}
[D 2024-05-22 17:04:59,050 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"902d985a-1c68-4380-8ad8-2ecd491c3a92","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:04:59,057 minium.Conn5952 connection#653 __on_message] RECV < {"id":"902d985a-1c68-4380-8ad8-2ecd491c3a92","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:04:59,058 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"4b197937-8970-4bc5-9e89-d95ed83a72cc","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:04:59,068 minium.Conn5952 connection#653 __on_message] RECV < {"id":"4b197937-8970-4bc5-9e89-d95ed83a72cc","result":{"result":false}}
[D 2024-05-22 17:04:59,069 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:04:59,069 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"41a2ec31-696c-4235-9c93-f63d867a362b","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:04:59,091 minium.Conn5952 connection#653 __on_message] RECV < {"id":"41a2ec31-696c-4235-9c93-f63d867a362b","result":{}}
[D 2024-05-22 17:04:59,092 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"044a641b-b714-40c5-8166-6471e5110021","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:04:59,699 minium.Conn5952 connection#653 __on_message] RECV < {"id":"044a641b-b714-40c5-8166-6471e5110021","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:04:59,700 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"17ce7fd9-4cc0-48d9-9dcf-57b2d08d0be2","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:04:59,704 minium.Conn5952 connection#653 __on_message] RECV < {"id":"17ce7fd9-4cc0-48d9-9dcf-57b2d08d0be2","result":{}}
[D 2024-05-22 17:04:59,705 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"b06dfb47-5a62-457e-9a6c-2545075e203b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:04:59,709 minium.Conn5952 connection#653 __on_message] RECV < {"id":"b06dfb47-5a62-457e-9a6c-2545075e203b","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:04:59,710 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"b7d48220-d2c8-45fe-a903-406c471dc452","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:04:59,716 minium.Conn5952 connection#651 __on_message] RECV < {"id":"b7d48220-d2c8-45fe-a903-406c471dc452","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:04:59,717 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:04:59,718 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:04:59,719 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:04:59,719 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:04:59,719 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:04:59,720 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:04:59,720 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:04:59,720 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:04:59,721 minium.Conn5952 connection#417 _safely_send] ASYNC_SEND > {"id":"facd0d62-1901-41a8-8b35-6e848bce3420","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:04:59,759 minium.Conn5952 connection#653 __on_message] RECV < {"id":"facd0d62-1901-41a8-8b35-6e848bce3420","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:04:59,760 minium.Conn5952 connection#697 _handle_async_msg] received async msg: facd0d62-1901-41a8-8b35-6e848bce3420
[I 2024-05-22 17:04:59,761 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:04:59,761 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:04:59,761 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"3cfd2c0b-f97e-4b01-ae03-52d95d787d66","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:04:59,822 minium.Conn5952 connection#651 __on_message] RECV < {"id":"3cfd2c0b-f97e-4b01-ae03-52d95d787d66","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAADiJJREFUeJzt3U+P3GhCx3HbVb35o0xG2tkMJCQgARIHhn0BK8GRM4uE2AviDfCC4DUwCAkOnLjCicOuYIXEYUeIJMzusPMvSXe6q2wOTp522y53d9Lp7t/m8zlE1a4qpzLSd57Hj13uuuu6ruuq1+q6Hv5Y9BuXn51V1/Wup+A9dN5YSnSzz66X6x29s/9xGnPXdbtCHe5w4aPDr7CzDGOzJY6SnJZct21bNi3H1lfaj9i7/oJd7wWmpmGPyqrrujyYfe+62jHwjgbY6Z/9a3b1D5yqJFMKWkivGgR/nPfoGLjaMQ7v2vgGR8VAtXjEOwx1+vqZKXRvGOQ03dH20bOjLdauYNmuUkZb+h+n9R5PocvuRvXONrw8XE/7B5...
[I 2024-05-22 17:04:59,823 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:04:59,824 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:04:59,824 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"84c06b9a-0b62-4558-a450-32050b49c65d","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:04:59,828 minium.Conn5952 connection#653 __on_message] RECV < {"id":"84c06b9a-0b62-4558-a450-32050b49c65d","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:04:59,829 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:05:09,830 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:05:09,831 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:05:09,832 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:05:09,832 minium.Conn5952 connection#417 _safely_send] SEND > {"id":"2540a2b3-0846-4c87-99ff-b87a82df121a","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:05:09,902 minium.Conn5952 connection#651 __on_message] RECV < {"id":"2540a2b3-0846-4c87-99ff-b87a82df121a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAADiJJREFUeJzt3U+P3GhCx3HbVb35o0xG2tkMJCQgARIHhn0BK8GRM4uE2AviDfCC4DUwCAkOnLjCicOuYIXEYUeIJMzusPMvSXe6q2wOTp522y53d9Lp7t/m8zlE1a4qpzLSd57Hj13uuuu6ruuq1+q6Hv5Y9BuXn51V1/Wup+A9dN5YSnSzz66X6x29s/9xGnPXdbtCHe5w4aPDr7CzDGOzJY6SnJZct21bNi3H1lfaj9i7/oJd7wWmpmGPyqrrujyYfe+62jHwjgbY6Z/9a3b1D5yqJFMKWkivGgR/nPfoGLjaMQ7v2vgGR8VAtXjEOwx1+vqZKXRvGOQ03dH20bOjLdauYNmuUkZb+h+n9R5PocvuRvXONrw8XE/7B5...
[I 2024-05-22 17:05:09,903 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:05:09,903 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:05:09,903 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:05:09,906 minium.Conn5952 connection#417 _safely_send] ASYNC_SEND > {"id":"73ff5af3-14fe-4d9c-a565-afaa25d0a101","method":"Tool.close","params":{}}
[D 2024-05-22 17:05:09,914 minium.Conn5952 connection#653 __on_message] RECV < {"id":"73ff5af3-14fe-4d9c-a565-afaa25d0a101","result":{}}
[I 2024-05-22 17:05:09,914 minium.Conn5952 connection#697 _handle_async_msg] received async msg: 73ff5af3-14fe-4d9c-a565-afaa25d0a101, maybe command ignore response
[E 2024-05-22 17:05:09,935 minium.Conn5952 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:05:09,936 minium.Conn5952 connection#697 _handle_async_msg] received async msg: 17ae89e0-d3a7-416b-a2ec-f631331beed2
[I 2024-05-22 17:05:09,936 minium.Conn5952 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:05:11,202 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:05:11,203 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:05:11,203 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:05:11,204 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:05:11,204 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx845e388dea1c6fe9" --auto-port 9420
[I 2024-05-22 17:05:16,622 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:05:16,622 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:05:21,626 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:05:21,877 minium.Conn7904 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:05:21,878 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"9bab5ee3-923d-4f21-ad5a-b22b6de66f96","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:05:22,045 minium.Conn7904 connection#653 __on_message] RECV < {"id":"9bab5ee3-923d-4f21-ad5a-b22b6de66f96","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:05:22,045 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"3ef32911-def7-41f7-affb-068dc04dd6a3","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:05:28,985 minium.Conn7904 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 17:05:28,986 minium.Conn7904 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22499:21)\n    at Object.scriptLoaded (<anonymous>:22527:5)\n    at Object.<anonymous> (<anonymous>:22552:22)"}}
[D 2024-05-22 17:05:30,360 minium.Conn7904 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:05:30,364 minium.Conn7904 connection#651 __on_message] RECV < {"id":"3ef32911-def7-41f7-affb-068dc04dd6a3","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:05:30,365 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:05:30,366 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"33f0d522-3c4c-4986-9031-94fd6f89f4bd","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:05:30,388 minium.Conn7904 connection#653 __on_message] RECV < {"id":"33f0d522-3c4c-4986-9031-94fd6f89f4bd","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:05:30,389 minium.Conn7904 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:05:30,389 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"f8338841-f245-4ab0-a1af-da48d344074b","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:05:30,397 minium.Conn7904 connection#653 __on_message] RECV < {"id":"f8338841-f245-4ab0-a1af-da48d344074b","result":{}}
[D 2024-05-22 17:05:30,398 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"f99e9351-2aa6-4261-9e17-db9b8a632f39","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:05:30,424 minium.Conn7904 connection#653 __on_message] RECV < {"id":"f99e9351-2aa6-4261-9e17-db9b8a632f39","result":{}}
[D 2024-05-22 17:05:30,424 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:05:30,425 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"ac607e71-0a28-4754-93fe-e7033482e9b3","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:05:30,430 minium.Conn7904 connection#653 __on_message] RECV < {"id":"ac607e71-0a28-4754-93fe-e7033482e9b3","result":{}}
[D 2024-05-22 17:05:30,432 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:05:30,432 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"79875468-ef67-4ea7-984d-9bea84fff341","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:05:30,441 minium.Conn7904 connection#653 __on_message] RECV < {"id":"79875468-ef67-4ea7-984d-9bea84fff341","result":{}}
[D 2024-05-22 17:05:30,445 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:05:30,445 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"3050ec4c-d262-4c9e-bddf-77f03ca02731","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:05:30,451 minium.Conn7904 connection#653 __on_message] RECV < {"id":"3050ec4c-d262-4c9e-bddf-77f03ca02731","result":{"result":true}}
[D 2024-05-22 17:05:30,451 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"6316675b-126d-4678-bf22-447b2cb70cf5","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:05:30,460 minium.Conn7904 connection#651 __on_message] RECV < {"id":"6316675b-126d-4678-bf22-447b2cb70cf5","result":{"result":{"pages":["pages/index/index","pages/auth/index","pages/custom/index","pages/rules/rules","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/...
[D 2024-05-22 17:05:30,461 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"282529a6-2359-4851-be14-006329ad6d5c","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:05:30,466 minium.Conn7904 connection#653 __on_message] RECV < {"id":"282529a6-2359-4851-be14-006329ad6d5c","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:05:30,468 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"6e412a0f-2b6a-47a9-9312-ccd93ba137dc","method":"App.addBinding","params":{"name":"showModal_before_1716411930468"}}
[D 2024-05-22 17:05:30,471 minium.Conn7904 connection#653 __on_message] RECV < {"id":"6e412a0f-2b6a-47a9-9312-ccd93ba137dc","result":{}}
[D 2024-05-22 17:05:30,472 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"5df0921f-2c23-4439-abbc-25e033a5cb27","method":"App.addBinding","params":{"name":"showModal_callback_1716411930468"}}
[D 2024-05-22 17:05:30,477 minium.Conn7904 connection#653 __on_message] RECV < {"id":"5df0921f-2c23-4439-abbc-25e033a5cb27","result":{}}
[D 2024-05-22 17:05:30,478 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:05:30,479 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"c4fd332d-ceb8-4018-ac1c-e800c624fbbf","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411930468,after:undefined,callback:showModal_callback_1716411930468},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411930468,true]}}
[D 2024-05-22 17:05:30,484 minium.Conn7904 connection#653 __on_message] RECV < {"id":"c4fd332d-ceb8-4018-ac1c-e800c624fbbf","result":{}}
[D 2024-05-22 17:05:30,486 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"308d46de-b147-4257-b46a-9714b470d772","method":"App.addBinding","params":{"name":"showToast_before_1716411930485"}}
[D 2024-05-22 17:05:30,490 minium.Conn7904 connection#653 __on_message] RECV < {"id":"308d46de-b147-4257-b46a-9714b470d772","result":{}}
[D 2024-05-22 17:05:30,491 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"e734355e-e3c1-400e-84b5-ca06c9eaaacf","method":"App.addBinding","params":{"name":"showToast_callback_1716411930485"}}
[D 2024-05-22 17:05:30,495 minium.Conn7904 connection#653 __on_message] RECV < {"id":"e734355e-e3c1-400e-84b5-ca06c9eaaacf","result":{}}
[D 2024-05-22 17:05:30,496 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:05:30,496 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"3d1fee4d-8a85-44df-956f-1c7b32f659ad","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411930485,after:undefined,callback:showToast_callback_1716411930485},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411930485,true]}}
[D 2024-05-22 17:05:30,500 minium.Conn7904 connection#653 __on_message] RECV < {"id":"3d1fee4d-8a85-44df-956f-1c7b32f659ad","result":{}}
[D 2024-05-22 17:05:30,502 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"d0df3deb-2e62-4f3d-91a3-7d5999855983","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:05:30,509 minium.Conn7904 connection#653 __on_message] RECV < {"id":"d0df3deb-2e62-4f3d-91a3-7d5999855983","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:05:30,510 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:05:30,511 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"6fd052aa-21f1-4966-8d7a-ecbe5e81df41","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:05:30,516 minium.Conn7904 connection#653 __on_message] RECV < {"id":"6fd052aa-21f1-4966-8d7a-ecbe5e81df41","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:05:30,517 minium.Conn7904 connection#417 _safely_send] ASYNC_SEND > {"id":"66706c86-b6a9-42e4-afcc-dec9c606fcf9","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:05:30,561 minium.Conn7904 connection#653 __on_message] RECV < {"id":"66706c86-b6a9-42e4-afcc-dec9c606fcf9","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:05:30,562 minium.Conn7904 connection#697 _handle_async_msg] received async msg: 66706c86-b6a9-42e4-afcc-dec9c606fcf9
[D 2024-05-22 17:05:31,743 minium.Conn7904 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716411931707},1716411931710]}}
[I 2024-05-22 17:05:31,744 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411931707}, 1716411931710]}
[D 2024-05-22 17:05:31,745 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"9561ee18-95fb-41d9-8649-f2ec69e142b0","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:05:31,752 minium.Conn7904 connection#653 __on_message] RECV < {"id":"9561ee18-95fb-41d9-8649-f2ec69e142b0","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:05:31,753 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"82515a4a-f66c-4aba-ac35-706923ca0097","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:05:31,777 minium.Conn7904 connection#653 __on_message] RECV < {"id":"82515a4a-f66c-4aba-ac35-706923ca0097","result":{"result":false}}
[D 2024-05-22 17:05:31,778 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:05:31,778 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"b4d20c86-5516-4cba-bcb8-29d25bcdfbab","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:05:31,785 minium.Conn7904 connection#653 __on_message] RECV < {"id":"b4d20c86-5516-4cba-bcb8-29d25bcdfbab","result":{}}
[D 2024-05-22 17:05:31,787 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"93831176-f65a-4e44-b813-a6ec37e55901","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:05:32,354 minium.Conn7904 connection#653 __on_message] RECV < {"id":"93831176-f65a-4e44-b813-a6ec37e55901","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:05:32,355 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"0b3054b1-acdb-4c2b-a245-e7f8e87a89c3","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:05:32,362 minium.Conn7904 connection#653 __on_message] RECV < {"id":"0b3054b1-acdb-4c2b-a245-e7f8e87a89c3","result":{}}
[D 2024-05-22 17:05:32,364 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"af6121de-822a-4556-b791-a5021e291c87","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:05:32,374 minium.Conn7904 connection#653 __on_message] RECV < {"id":"af6121de-822a-4556-b791-a5021e291c87","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:05:32,376 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"37b82a49-132d-4188-b880-649db5c13d08","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:05:32,384 minium.Conn7904 connection#651 __on_message] RECV < {"id":"37b82a49-132d-4188-b880-649db5c13d08","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":37,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:05:32,385 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:05:32,386 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:05:32,386 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:05:32,386 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:05:32,386 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:05:32,386 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:05:32,387 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:05:32,387 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:05:32,387 minium.Conn7904 connection#417 _safely_send] ASYNC_SEND > {"id":"9ac847fc-01c1-45fa-b01d-a8a549726079","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:05:32,434 minium.Conn7904 connection#653 __on_message] RECV < {"id":"9ac847fc-01c1-45fa-b01d-a8a549726079","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:05:32,434 minium.Conn7904 connection#697 _handle_async_msg] received async msg: 9ac847fc-01c1-45fa-b01d-a8a549726079
[I 2024-05-22 17:05:32,435 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:05:32,435 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:05:32,435 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"c1129b46-bbe7-47ae-82e5-453c45441bd9","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:05:32,501 minium.Conn7904 connection#651 __on_message] RECV < {"id":"c1129b46-bbe7-47ae-82e5-453c45441bd9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:05:32,502 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:05:32,503 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:05:32,504 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"af863ffc-41bb-42e5-a251-df914399f933","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:05:32,508 minium.Conn7904 connection#653 __on_message] RECV < {"id":"af863ffc-41bb-42e5-a251-df914399f933","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:05:32,509 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:05:42,511 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:05:42,512 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:05:42,513 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:05:42,513 minium.Conn7904 connection#417 _safely_send] SEND > {"id":"8ca029ef-b68d-423a-bd2e-17d1183657ed","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:05:42,564 minium.Conn7904 connection#651 __on_message] RECV < {"id":"8ca029ef-b68d-423a-bd2e-17d1183657ed","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:05:42,565 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:05:42,566 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:05:42,566 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:05:42,573 minium.Conn7904 connection#417 _safely_send] ASYNC_SEND > {"id":"8ce69f1b-d72e-4e32-a6c1-d7f5bfd9fdb8","method":"Tool.close","params":{}}
[D 2024-05-22 17:05:42,574 minium.Conn7904 connection#653 __on_message] RECV < {"id":"8ce69f1b-d72e-4e32-a6c1-d7f5bfd9fdb8","result":{}}
[I 2024-05-22 17:05:42,575 minium.Conn7904 connection#697 _handle_async_msg] received async msg: 8ce69f1b-d72e-4e32-a6c1-d7f5bfd9fdb8, maybe command ignore response
[E 2024-05-22 17:05:42,596 minium.Conn7904 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:05:42,596 minium.Conn7904 connection#697 _handle_async_msg] received async msg: acba65ec-fe0b-44e5-a8b1-df35dae64831
[I 2024-05-22 17:05:42,597 minium.Conn7904 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:05:43,893 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:05:43,895 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:05:43,895 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:05:43,896 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:05:43,897 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx7bf99600808c08a2" --auto-port 9420
[I 2024-05-22 17:05:49,538 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:05:49,538 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:05:54,543 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:05:55,469 minium.Conn6096 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:05:55,469 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"23472e23-e742-401b-89f9-f08613198f2a","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:05:55,486 minium.Conn6096 connection#653 __on_message] RECV < {"id":"23472e23-e742-401b-89f9-f08613198f2a","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:05:55,487 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"33d83eb9-97db-43ce-ae6c-bf6de6280b6a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:06:03,420 minium.Conn6096 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"regeneratorRuntime is not defined","stack":"ReferenceError: regeneratorRuntime is not defined\n    at http://127.0.0.1:14631/appservice/0A8426A1F476579C6CE24EA6B3766683.js?t=wechat&s=1716411950118&v=f2f0bf33bc78069247b84106703ad863:21:3\n    at http://127.0.0.1:14631/appservice/__dev__/WASubContext.js?t=wechat&s=1716411950118&v=3.4.3:1:520698\n    at p.runWith (http://127.0.0.1:14631/appservice/__dev__/WASubContext.js?t=wechat&s=1716411950118&v=3.4.3:1...
[D 2024-05-22 17:06:05,212 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:06:05,217 minium.Conn6096 connection#651 __on_message] RECV < {"id":"33d83eb9-97db-43ce-ae6c-bf6de6280b6a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":38,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:06:05,218 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:06:05,219 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"42240ff8-44fb-4bcb-9baf-4a05ea12ff9f","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:06:05,223 minium.Conn6096 connection#653 __on_message] RECV < {"id":"42240ff8-44fb-4bcb-9baf-4a05ea12ff9f","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:06:05,224 minium.Conn6096 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:06:05,224 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"44b990b1-9e1e-4ad5-ba06-3bcd34b6f529","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:06:05,227 minium.Conn6096 connection#653 __on_message] RECV < {"id":"44b990b1-9e1e-4ad5-ba06-3bcd34b6f529","result":{}}
[D 2024-05-22 17:06:05,228 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"57949dfe-b020-4313-8c6f-0e808225fc06","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:06:05,236 minium.Conn6096 connection#653 __on_message] RECV < {"id":"57949dfe-b020-4313-8c6f-0e808225fc06","result":{}}
[D 2024-05-22 17:06:05,237 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:06:05,238 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"c400e7c6-7565-42a1-98df-ea2b24d19fff","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:06:05,247 minium.Conn6096 connection#653 __on_message] RECV < {"id":"c400e7c6-7565-42a1-98df-ea2b24d19fff","result":{}}
[D 2024-05-22 17:06:05,248 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:06:05,249 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"32cdcdef-1d88-42ec-ae78-64f2dfb53fc7","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:06:05,263 minium.Conn6096 connection#653 __on_message] RECV < {"id":"32cdcdef-1d88-42ec-ae78-64f2dfb53fc7","result":{}}
[D 2024-05-22 17:06:05,264 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:06:05,265 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"5ba16651-03f4-4c35-be6b-8aaf267abce3","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:06:05,269 minium.Conn6096 connection#653 __on_message] RECV < {"id":"5ba16651-03f4-4c35-be6b-8aaf267abce3","result":{"result":true}}
[D 2024-05-22 17:06:05,270 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"7ab655f9-3170-4ac0-8ba8-7c781150c689","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:06:05,282 minium.Conn6096 connection#651 __on_message] RECV < {"id":"7ab655f9-3170-4ac0-8ba8-7c781150c689","result":{"result":{"pages":["pages/index/index","pages/fansrank/fansrank","pages/DIYcontent/DIYcontent","pages/luckydraw/luckydraw","pages/smashgoldeneggs/smashgoldeneggs","pages/fightgroupslist/fightgroupslist","pages/productdetail/productdetail","pages/category/category","pages/fightgroupsdetail/fightgroupsdetail","pages/cart/cart","pages/Flavorcho/Flavorcho","pages/Receivetails/Receivetails","pages/orderlist/orderlist","pages/search/search","pages/UserCent...
[D 2024-05-22 17:06:05,283 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"6a048302-b686-4d3c-a36d-aadb9eacd273","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:06:05,294 minium.Conn6096 connection#653 __on_message] RECV < {"id":"6a048302-b686-4d3c-a36d-aadb9eacd273","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:06:05,296 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"7a67d5c0-f036-4f57-b793-dc72b1cd84a3","method":"App.addBinding","params":{"name":"showModal_before_1716411965296"}}
[D 2024-05-22 17:06:05,299 minium.Conn6096 connection#653 __on_message] RECV < {"id":"7a67d5c0-f036-4f57-b793-dc72b1cd84a3","result":{}}
[D 2024-05-22 17:06:05,300 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"dbf2d7f4-87c8-43f5-8d05-4312ad09bd78","method":"App.addBinding","params":{"name":"showModal_callback_1716411965296"}}
[D 2024-05-22 17:06:05,304 minium.Conn6096 connection#653 __on_message] RECV < {"id":"dbf2d7f4-87c8-43f5-8d05-4312ad09bd78","result":{}}
[D 2024-05-22 17:06:05,305 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:06:05,306 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"3c92251f-7930-4593-bd80-136f51a81ff6","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411965296,after:undefined,callback:showModal_callback_1716411965296},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411965296,true]}}
[D 2024-05-22 17:06:05,310 minium.Conn6096 connection#653 __on_message] RECV < {"id":"3c92251f-7930-4593-bd80-136f51a81ff6","result":{}}
[D 2024-05-22 17:06:05,311 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"f39156e4-9823-47ab-b597-0782d4770e83","method":"App.addBinding","params":{"name":"showToast_before_1716411965311"}}
[D 2024-05-22 17:06:05,316 minium.Conn6096 connection#653 __on_message] RECV < {"id":"f39156e4-9823-47ab-b597-0782d4770e83","result":{}}
[D 2024-05-22 17:06:05,316 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"d8795e6e-98cb-4cb5-ab6d-a86edc79033d","method":"App.addBinding","params":{"name":"showToast_callback_1716411965311"}}
[D 2024-05-22 17:06:05,320 minium.Conn6096 connection#653 __on_message] RECV < {"id":"d8795e6e-98cb-4cb5-ab6d-a86edc79033d","result":{}}
[D 2024-05-22 17:06:05,320 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:06:05,321 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"cffe672f-06cc-4c14-a11c-b88226ca5a44","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411965311,after:undefined,callback:showToast_callback_1716411965311},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411965311,true]}}
[D 2024-05-22 17:06:05,325 minium.Conn6096 connection#653 __on_message] RECV < {"id":"cffe672f-06cc-4c14-a11c-b88226ca5a44","result":{}}
[D 2024-05-22 17:06:05,327 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"0887c7c6-a304-4a30-b4fa-e5d87345980c","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:06:05,332 minium.Conn6096 connection#653 __on_message] RECV < {"id":"0887c7c6-a304-4a30-b4fa-e5d87345980c","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:06:05,334 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:06:05,335 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"15fc5872-b551-4e3d-a1a9-698c84a33f44","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:06:05,341 minium.Conn6096 connection#653 __on_message] RECV < {"id":"15fc5872-b551-4e3d-a1a9-698c84a33f44","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:06:05,342 minium.Conn6096 connection#417 _safely_send] ASYNC_SEND > {"id":"c445619b-a6b2-4c74-bb29-6ffa5757c2e5","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:06:05,435 minium.Conn6096 connection#653 __on_message] RECV < {"id":"c445619b-a6b2-4c74-bb29-6ffa5757c2e5","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:06:05,436 minium.Conn6096 connection#697 _handle_async_msg] received async msg: c445619b-a6b2-4c74-bb29-6ffa5757c2e5
[D 2024-05-22 17:06:05,853 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716411965824},1716411965826]}}
[D 2024-05-22 17:06:05,856 minium.Conn6096 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'Id' of null","stack":"TypeError: Cannot read property 'Id' of null\n    at yi.onUnload (http://127.0.0.1:14631/appservice/pages/index/index.js?t=wechat&s=1716411950118&v=630a7c96fb003f4e4481cb0fe2dc9ed7:1357:47)\n    at yi.<anonymous> (http://127.0.0.1:14631/appservice/__dev__/WASubContext.js?t=wechat&s=1716411950118&v=3.4.3:1:478511)\n    at yi.c.__callPageLifeTime__ (http://127.0.0.1:14631/appservice/__dev__/WASubContext.js?t=we...
[I 2024-05-22 17:06:05,856 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411965824}, 1716411965826]}
[D 2024-05-22 17:06:05,859 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"561bd5bc-c1e5-4cd4-9c32-edcbacc4d194","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:06:05,883 minium.Conn6096 connection#653 __on_message] RECV < {"id":"561bd5bc-c1e5-4cd4-9c32-edcbacc4d194","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:06:05,885 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"484139ed-2fcc-4f26-b8b8-43465794fb02","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:06:05,909 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716411965311","args":[{"title":"{\"errMsg\":\"request:fail \"}","icon":"none","mask":true,"type":"none","content":"{\"errMsg\":\"request:fail \"}","duration":2000},0.4620787426497459]}}
[D 2024-05-22 17:06:05,910 minium app#1074 super_before] showToast before hook result: [{'title': '{"errMsg":"request:fail "}', 'icon': 'none', 'mask': True, 'type': 'none', 'content': '{"errMsg":"request:fail "}', 'duration': 2000}, 0.4620787426497459]
[D 2024-05-22 17:06:05,920 minium.Conn6096 connection#653 __on_message] RECV < {"id":"484139ed-2fcc-4f26-b8b8-43465794fb02","result":{"result":false}}
[D 2024-05-22 17:06:05,921 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:06:05,922 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"97aef2df-1adb-4804-89ce-d8638da157e4","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:06:05,924 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716411965311","args":[{"errMsg":"showToast:ok"},0.4620787426497459]}}
[D 2024-05-22 17:06:05,925 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.4620787426497459]
[D 2024-05-22 17:06:05,944 minium.Conn6096 connection#653 __on_message] RECV < {"id":"97aef2df-1adb-4804-89ce-d8638da157e4","result":{}}
[D 2024-05-22 17:06:05,946 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"38962895-5c5f-409c-9ebe-bea6a7a29b8c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:06:06,652 minium.Conn6096 connection#653 __on_message] RECV < {"id":"38962895-5c5f-409c-9ebe-bea6a7a29b8c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:06:06,654 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"fbc56527-f44a-4ec2-892b-b610a32e2b10","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:06:06,662 minium.Conn6096 connection#653 __on_message] RECV < {"id":"fbc56527-f44a-4ec2-892b-b610a32e2b10","result":{}}
[D 2024-05-22 17:06:06,664 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"59df073b-4461-4232-88f3-d33d7d1b63cb","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:06:06,676 minium.Conn6096 connection#653 __on_message] RECV < {"id":"59df073b-4461-4232-88f3-d33d7d1b63cb","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:06:06,677 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"22cf2db6-80d9-418e-8eac-484ed50d7f2c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:06:06,689 minium.Conn6096 connection#651 __on_message] RECV < {"id":"22cf2db6-80d9-418e-8eac-484ed50d7f2c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":38,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:06:06,689 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:06:06,691 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:06:06,692 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:06:06,692 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:06:06,693 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:06:06,693 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:06:06,694 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:06:06,695 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:06:06,696 minium.Conn6096 connection#417 _safely_send] ASYNC_SEND > {"id":"948df74c-a378-454f-8e52-d99463b3085d","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:06:06,750 minium.Conn6096 connection#653 __on_message] RECV < {"id":"948df74c-a378-454f-8e52-d99463b3085d","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:06:06,751 minium.Conn6096 connection#697 _handle_async_msg] received async msg: 948df74c-a378-454f-8e52-d99463b3085d
[I 2024-05-22 17:06:06,753 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:06:06,753 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:06:06,754 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"34f22a2a-1e98-4d2e-bac8-65b798f63c70","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:06:06,826 minium.Conn6096 connection#651 __on_message] RECV < {"id":"34f22a2a-1e98-4d2e-bac8-65b798f63c70","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAEiZJREFUeJzt3ctTU3mfx/FvQgLhjkQRB5X20q0CAiqWXBovLTpqq1NWzXSvpmcx/8Bs5qmaZzM1i1lOzWa2MzWrrprFY1s0UmiXCnjXRvQRELsVvKDcQoQkQCAkmcVxGLu79OlHg+2n6v1akZNDzi/Jeef8co4WrmQyaQA0uX/rAQB4ewQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAg...
[I 2024-05-22 17:06:06,829 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:06:06,830 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:06:06,831 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"cd5bc07b-b29d-4e3e-b33f-8f45ade7b3d3","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:06:06,834 minium.Conn6096 connection#653 __on_message] RECV < {"id":"cd5bc07b-b29d-4e3e-b33f-8f45ade7b3d3","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:06:06,836 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:06:07,182 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_before_1716411965311","args":[{"title":"{\"errMsg\":\"request:fail \"}","icon":"none","mask":true,"type":"none","content":"{\"errMsg\":\"request:fail \"}","duration":2000},0.18184536667277484]}}
[D 2024-05-22 17:06:07,183 minium app#1074 super_before] showToast before hook result: [{'title': '{"errMsg":"request:fail "}', 'icon': 'none', 'mask': True, 'type': 'none', 'content': '{"errMsg":"request:fail "}', 'duration': 2000}, 0.18184536667277484]
[D 2024-05-22 17:06:07,200 minium.Conn6096 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"showToast_callback_1716411965311","args":[{"errMsg":"showToast:ok"},0.18184536667277484]}}
[D 2024-05-22 17:06:07,201 minium app#1096 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.18184536667277484]
[D 2024-05-22 17:06:16,837 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:06:16,838 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:06:16,838 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:06:16,838 minium.Conn6096 connection#417 _safely_send] SEND > {"id":"ef698291-0a63-4a6c-83a1-3d5fd5aff0b4","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:06:16,886 minium.Conn6096 connection#651 __on_message] RECV < {"id":"ef698291-0a63-4a6c-83a1-3d5fd5aff0b4","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAH4CAIAAAC0a6PlAAAAAXNSR0IArs4c6QAAEiZJREFUeJzt3ctTU3mfx/FvQgLhjkQRB5X20q0CAiqWXBovLTpqq1NWzXSvpmcx/8Bs5qmaZzM1i1lOzWa2MzWrrprFY1s0UmiXCnjXRvQRELsVvKDcQoQkQCAkmcVxGLu79OlHg+2n6v1akZNDzi/Jeef8co4WrmQyaQA0uX/rAQB4ewQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAg...
[I 2024-05-22 17:06:16,887 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:06:16,888 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:06:16,888 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:06:16,893 minium.Conn6096 connection#417 _safely_send] ASYNC_SEND > {"id":"1a0f3fe4-26a8-440a-a3c7-018613118645","method":"Tool.close","params":{}}
[D 2024-05-22 17:06:16,895 minium.Conn6096 connection#653 __on_message] RECV < {"id":"1a0f3fe4-26a8-440a-a3c7-018613118645","result":{}}
[I 2024-05-22 17:06:16,895 minium.Conn6096 connection#697 _handle_async_msg] received async msg: 1a0f3fe4-26a8-440a-a3c7-018613118645, maybe command ignore response
[E 2024-05-22 17:06:16,917 minium.Conn6096 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:06:16,918 minium.Conn6096 connection#697 _handle_async_msg] received async msg: 44b3e3d2-add2-489b-a9c4-0f731fd0bb6d
[I 2024-05-22 17:06:16,918 minium.Conn6096 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:06:18,260 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:06:18,261 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:06:18,261 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:06:18,261 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:06:18,262 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx99717e68e6fc4244" --auto-port 9420
[I 2024-05-22 17:06:24,443 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:06:24,443 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:06:29,449 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:06:29,478 minium.Conn9296 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:06:29,479 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"4bf87414-d153-4f1c-8944-d4d0b68cff02","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:06:29,528 minium.Conn9296 connection#653 __on_message] RECV < {"id":"4bf87414-d153-4f1c-8944-d4d0b68cff02","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:06:29,530 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"0da00a6f-bcfd-4682-bd79-d8131a80146a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:06:36,181 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:06:36,186 minium.Conn9296 connection#651 __on_message] RECV < {"id":"0da00a6f-bcfd-4682-bd79-d8131a80146a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":504,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":38,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:06:36,187 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:06:36,187 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"08209e62-8498-414e-8cff-6cb479468e8a","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:06:36,192 minium.Conn9296 connection#653 __on_message] RECV < {"id":"08209e62-8498-414e-8cff-6cb479468e8a","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:06:36,193 minium.Conn9296 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:06:36,193 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"63242ae7-51ce-4dac-99ce-2e27078aa89c","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:06:36,196 minium.Conn9296 connection#653 __on_message] RECV < {"id":"63242ae7-51ce-4dac-99ce-2e27078aa89c","result":{}}
[D 2024-05-22 17:06:36,196 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"2ccbb9eb-4056-49eb-8c5a-5c687e68be37","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:06:36,202 minium.Conn9296 connection#653 __on_message] RECV < {"id":"2ccbb9eb-4056-49eb-8c5a-5c687e68be37","result":{}}
[D 2024-05-22 17:06:36,203 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:06:36,203 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"bd47ffeb-13a8-413c-a7fd-e9a77efc20e0","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:06:36,230 minium.Conn9296 connection#653 __on_message] RECV < {"id":"bd47ffeb-13a8-413c-a7fd-e9a77efc20e0","result":{}}
[D 2024-05-22 17:06:36,235 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:06:36,236 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"5884b19e-98a1-4499-b10b-cb3819941c99","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:06:36,262 minium.Conn9296 connection#653 __on_message] RECV < {"id":"5884b19e-98a1-4499-b10b-cb3819941c99","result":{}}
[D 2024-05-22 17:06:36,263 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:06:36,264 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"54ad725b-2e79-43ec-b488-172251fad1fe","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:06:36,282 minium.Conn9296 connection#653 __on_message] RECV < {"id":"54ad725b-2e79-43ec-b488-172251fad1fe","result":{"result":true}}
[D 2024-05-22 17:06:36,283 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"6dc34640-09e4-4bc1-bd40-6098149e2784","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:06:36,316 minium.Conn9296 connection#651 __on_message] RECV < {"id":"6dc34640-09e4-4bc1-bd40-6098149e2784","result":{"result":{"pages":["pages/scanCode/index","pages/consumers/consumers","pages/shopIndex/shopIndex","pages/index/index","pages/login/login","pages/shopCar/index","pages/submitOrder/submitOrder","pages/central/index","pages/dfk/dfk","pages/dfh/dfh","pages/yfh/yfh","pages/yqx/yqx","pages/tksh/tksh","pages/orderDetail/orderDetail","pages/order/order","pages/couponList/couponList","pages/newAddress/newAddress","pages/address/address","pages/collectShop/col...
[D 2024-05-22 17:06:36,317 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"ca6ea7ac-8133-44bb-8146-00c585beb0c8","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:06:36,323 minium.Conn9296 connection#653 __on_message] RECV < {"id":"ca6ea7ac-8133-44bb-8146-00c585beb0c8","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:06:36,324 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"b988b16c-6110-40d1-8779-185140e0484f","method":"App.addBinding","params":{"name":"showModal_before_1716411996324"}}
[D 2024-05-22 17:06:36,331 minium.Conn9296 connection#653 __on_message] RECV < {"id":"b988b16c-6110-40d1-8779-185140e0484f","result":{}}
[D 2024-05-22 17:06:36,332 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"765593d0-a7f5-42dc-8a4a-e2d175b698c2","method":"App.addBinding","params":{"name":"showModal_callback_1716411996324"}}
[D 2024-05-22 17:06:36,341 minium.Conn9296 connection#653 __on_message] RECV < {"id":"765593d0-a7f5-42dc-8a4a-e2d175b698c2","result":{}}
[D 2024-05-22 17:06:36,342 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:06:36,342 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"932eef53-2d49-4eb1-af78-94fed2b5a0c6","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716411996324,after:undefined,callback:showModal_callback_1716411996324},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716411996324,true]}}
[D 2024-05-22 17:06:36,346 minium.Conn9296 connection#653 __on_message] RECV < {"id":"932eef53-2d49-4eb1-af78-94fed2b5a0c6","result":{}}
[D 2024-05-22 17:06:36,347 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"b27d92bb-1ed6-48b6-9612-444ea1631775","method":"App.addBinding","params":{"name":"showToast_before_1716411996347"}}
[D 2024-05-22 17:06:36,352 minium.Conn9296 connection#653 __on_message] RECV < {"id":"b27d92bb-1ed6-48b6-9612-444ea1631775","result":{}}
[D 2024-05-22 17:06:36,353 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"bb58cbc7-0717-4343-a621-142eb14f28d6","method":"App.addBinding","params":{"name":"showToast_callback_1716411996347"}}
[D 2024-05-22 17:06:36,356 minium.Conn9296 connection#653 __on_message] RECV < {"id":"bb58cbc7-0717-4343-a621-142eb14f28d6","result":{}}
[D 2024-05-22 17:06:36,357 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:06:36,358 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"b23bad15-60a2-4c12-b47a-d06267e64f9a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716411996347,after:undefined,callback:showToast_callback_1716411996347},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716411996347,true]}}
[D 2024-05-22 17:06:36,362 minium.Conn9296 connection#653 __on_message] RECV < {"id":"b23bad15-60a2-4c12-b47a-d06267e64f9a","result":{}}
[D 2024-05-22 17:06:36,364 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"a3c42af0-59aa-4f02-aef5-6ce8cbd956f0","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:06:36,368 minium.Conn9296 connection#653 __on_message] RECV < {"id":"a3c42af0-59aa-4f02-aef5-6ce8cbd956f0","result":{"result":{"path":"pages/scanCode/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:06:36,369 minium app#731 relaunch] ReLaunch: /pages/scanCode/index
[D 2024-05-22 17:06:36,371 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"6b9c9d06-6b21-4515-bc95-a2297a6765ff","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:06:36,376 minium.Conn9296 connection#653 __on_message] RECV < {"id":"6b9c9d06-6b21-4515-bc95-a2297a6765ff","result":{"pageId":1,"path":"pages/scanCode/index","query":{}}}
[D 2024-05-22 17:06:36,377 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"b900a3c7-742d-4945-b6c4-a22f12a3cd31","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanCode/index"}]}}
[D 2024-05-22 17:06:36,455 minium.Conn9296 connection#653 __on_message] RECV < {"id":"b900a3c7-742d-4945-b6c4-a22f12a3cd31","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:06:36,456 minium.Conn9296 connection#697 _handle_async_msg] received async msg: b900a3c7-742d-4945-b6c4-a22f12a3cd31
[D 2024-05-22 17:06:36,844 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/scanCode/index","query":{},"openType":"reLaunch","__ts__":1716411996832},1716411996835]}}
[I 2024-05-22 17:06:36,845 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/scanCode/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716411996832}, 1716411996835]}
[D 2024-05-22 17:06:36,847 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"47fd22d9-a106-485d-b508-3df0db55a73a","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:06:36,861 minium.Conn9296 connection#653 __on_message] RECV < {"id":"47fd22d9-a106-485d-b508-3df0db55a73a","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:06:36,863 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"efca7f9d-dd61-4536-b404-dffcd91910df","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:06:36,870 minium.Conn9296 connection#653 __on_message] RECV < {"id":"efca7f9d-dd61-4536-b404-dffcd91910df","result":{"result":false}}
[D 2024-05-22 17:06:36,871 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:06:36,872 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"1a9b1575-7ec2-4f67-90ca-d2401ea70e39","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:06:36,883 minium.Conn9296 connection#653 __on_message] RECV < {"id":"1a9b1575-7ec2-4f67-90ca-d2401ea70e39","result":{}}
[D 2024-05-22 17:06:36,884 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"cae56b72-3855-43ca-90f3-5006493d9d56","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:06:37,583 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/shopIndex/shopIndex","query":{},"openType":"switchTab","__ts__":1716411997545},1716411997546]}}
[I 2024-05-22 17:06:37,584 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/shopIndex/shopIndex', 'query': {}, 'openType': 'switchTab', '__ts__': 1716411997545}, 1716411997546]}
[D 2024-05-22 17:06:37,658 minium.Conn9296 connection#653 __on_message] RECV < {"id":"cae56b72-3855-43ca-90f3-5006493d9d56","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:06:37,659 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"8f0cd395-fed2-4456-919d-ec3de0945829","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:06:37,667 minium.Conn9296 connection#653 __on_message] RECV < {"id":"8f0cd395-fed2-4456-919d-ec3de0945829","result":{}}
[D 2024-05-22 17:06:37,669 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"19a88fac-551d-4586-b7ac-00b8d92934c2","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:06:37,674 minium.Conn9296 connection#653 __on_message] RECV < {"id":"19a88fac-551d-4586-b7ac-00b8d92934c2","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:06:37,675 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"cf6b63b4-63ad-4f82-b531-6329d3316f37","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:06:37,681 minium.Conn9296 connection#651 __on_message] RECV < {"id":"cf6b63b4-63ad-4f82-b531-6329d3316f37","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":38,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:06:37,682 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:06:37,684 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:06:37,684 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:06:37,684 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:06:37,684 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:06:37,685 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:06:37,685 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:06:37,685 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 17:06:37,685 minium app#731 relaunch] ReLaunch: /pages/scanCode/index
[D 2024-05-22 17:06:37,686 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"589c9f93-656e-4e55-85c7-536f4980547e","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/scanCode/index"}]}}
[D 2024-05-22 17:06:37,719 minium.Conn9296 connection#653 __on_message] RECV < {"id":"589c9f93-656e-4e55-85c7-536f4980547e","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:06:37,720 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 589c9f93-656e-4e55-85c7-536f4980547e
[D 2024-05-22 17:06:38,933 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":6,"path":"pages/shopIndex/shopIndex","query":{},"openType":"switchTab","__ts__":1716411998893},1716411998896]}}
[I 2024-05-22 17:06:38,935 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 6, 'path': 'pages/shopIndex/shopIndex', 'query': {}, 'openType': 'switchTab', '__ts__': 1716411998893}, 1716411998896]}
[W 2024-05-22 17:06:38,935 minium app#734 relaunch] ReLaunch(/pages/scanCode/index) but(/pages/shopIndex/shopIndex)
[I 2024-05-22 17:06:38,937 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:06:38,937 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:06:38,937 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"1a75599f-8037-4d0e-ae88-ca7f119a5172","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:06:39,121 minium.Conn9296 connection#651 __on_message] RECV < {"id":"1a75599f-8037-4d0e-ae88-ca7f119a5172","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABUBJREFUeJzt07ENwCAAwLDS/7+FgZEfWFAk+4IsGXPtD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 17:06:39,122 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:06:39,123 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:06:39,123 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"81f106b9-3f5b-4128-9b1e-49050f45257b","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:06:39,136 minium.Conn9296 connection#653 __on_message] RECV < {"id":"81f106b9-3f5b-4128-9b1e-49050f45257b","result":{"pageId":6,"path":"pages/shopIndex/shopIndex","query":{}}}
[I 2024-05-22 17:06:39,137 minium app#689 navigate_to] NavigateTo: Page(id=6, path=/pages/shopIndex/shopIndex, query={})
[D 2024-05-22 17:06:49,140 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:06:49,141 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:06:49,141 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:06:49,142 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"955fc490-6b32-4a59-8709-1d05f9447155","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:06:49,196 minium.Conn9296 connection#651 __on_message] RECV < {"id":"955fc490-6b32-4a59-8709-1d05f9447155","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABUBJREFUeJzt07ENwCAAwLDS/7+FgZEfWFAk+4IsGXPtD2j6XwcA9wwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYA...
[I 2024-05-22 17:06:49,197 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:06:49,197 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:06:49,197 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:06:49,201 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"7b9471fd-a890-460b-a540-19267e478284","method":"Tool.close","params":{}}
[D 2024-05-22 17:06:49,204 minium.Conn9296 connection#653 __on_message] RECV < {"id":"7b9471fd-a890-460b-a540-19267e478284","result":{}}
[I 2024-05-22 17:06:49,204 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 7b9471fd-a890-460b-a540-19267e478284, maybe command ignore response
[E 2024-05-22 17:06:49,226 minium.Conn9296 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:06:49,226 minium.Conn9296 connection#697 _handle_async_msg] received async msg: f00a7393-6cb6-4603-ab1f-3bcacd0ac65d
[I 2024-05-22 17:06:49,226 minium.Conn9296 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:06:50,480 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:06:50,481 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:06:50,482 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:06:50,483 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:06:50,483 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxa5fdc87cebc35faa" --auto-port 9420
[I 2024-05-22 17:06:55,753 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:06:55,754 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:07:00,756 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:07:01,508 minium.Conn7536 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:07:01,509 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"2809e204-dffa-43d0-b0b4-64a952289f45","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:07:01,538 minium.Conn7536 connection#653 __on_message] RECV < {"id":"2809e204-dffa-43d0-b0b4-64a952289f45","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:07:01,539 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"a32db226-876e-45f2-82e2-1631e73afe5d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:07:08,002 minium.Conn7536 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 17:07:08,003 minium.Conn7536 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:22427:21)\n    at Object.scriptLoaded (<anonymous>:22455:5)\n    at Object.<anonymous> (<anonymous>:22480:22)"}}
[D 2024-05-22 17:07:09,661 minium.Conn7536 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:07:09,667 minium.Conn7536 connection#651 __on_message] RECV < {"id":"a32db226-876e-45f2-82e2-1631e73afe5d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:07:09,668 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:07:09,669 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"c7462bc2-ee0c-4831-ac1d-507dd401ab02","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:07:09,693 minium.Conn7536 connection#653 __on_message] RECV < {"id":"c7462bc2-ee0c-4831-ac1d-507dd401ab02","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:07:09,694 minium.Conn7536 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:07:09,694 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"91757824-718a-4330-a3aa-2c214a881e07","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:07:09,699 minium.Conn7536 connection#653 __on_message] RECV < {"id":"91757824-718a-4330-a3aa-2c214a881e07","result":{}}
[D 2024-05-22 17:07:09,700 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"e18fd215-e3d1-417d-a787-087adf7997cf","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:07:09,711 minium.Conn7536 connection#653 __on_message] RECV < {"id":"e18fd215-e3d1-417d-a787-087adf7997cf","result":{}}
[D 2024-05-22 17:07:09,712 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:07:09,713 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"2a6a9a91-fdf5-4b19-ba98-1e5320a361e6","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:07:09,726 minium.Conn7536 connection#653 __on_message] RECV < {"id":"2a6a9a91-fdf5-4b19-ba98-1e5320a361e6","result":{}}
[D 2024-05-22 17:07:09,727 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:07:09,727 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"f274c90d-207b-4d27-82cb-d85f00580e8b","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:07:09,748 minium.Conn7536 connection#653 __on_message] RECV < {"id":"f274c90d-207b-4d27-82cb-d85f00580e8b","result":{}}
[D 2024-05-22 17:07:09,749 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:07:09,750 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"dafe3dbf-1be3-44e5-ac60-dbae9a96865b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:07:09,766 minium.Conn7536 connection#653 __on_message] RECV < {"id":"dafe3dbf-1be3-44e5-ac60-dbae9a96865b","result":{"result":true}}
[D 2024-05-22 17:07:09,766 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"f0c5cc19-6b7c-4729-a48f-6f5269a6b7d6","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:07:09,774 minium.Conn7536 connection#651 __on_message] RECV < {"id":"f0c5cc19-6b7c-4729-a48f-6f5269a6b7d6","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/order/index","pages/orde...
[D 2024-05-22 17:07:09,775 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"37108e1a-6ecb-47fc-b039-30782af37daa","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:07:09,782 minium.Conn7536 connection#653 __on_message] RECV < {"id":"37108e1a-6ecb-47fc-b039-30782af37daa","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:07:09,783 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"80f256e8-596f-45e6-9e26-e9f047e3d5bf","method":"App.addBinding","params":{"name":"showModal_before_1716412029783"}}
[D 2024-05-22 17:07:09,787 minium.Conn7536 connection#653 __on_message] RECV < {"id":"80f256e8-596f-45e6-9e26-e9f047e3d5bf","result":{}}
[D 2024-05-22 17:07:09,788 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"1d61ad1f-2530-4c15-8c74-107c921d8b53","method":"App.addBinding","params":{"name":"showModal_callback_1716412029783"}}
[D 2024-05-22 17:07:09,793 minium.Conn7536 connection#653 __on_message] RECV < {"id":"1d61ad1f-2530-4c15-8c74-107c921d8b53","result":{}}
[D 2024-05-22 17:07:09,793 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:07:09,794 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"a2f48679-d677-4899-8b26-1d66e1b2f9ed","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716412029783,after:undefined,callback:showModal_callback_1716412029783},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716412029783,true]}}
[D 2024-05-22 17:07:09,798 minium.Conn7536 connection#653 __on_message] RECV < {"id":"a2f48679-d677-4899-8b26-1d66e1b2f9ed","result":{}}
[D 2024-05-22 17:07:09,800 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"78d1a21f-cf80-49a1-8317-a218ddab332b","method":"App.addBinding","params":{"name":"showToast_before_1716412029799"}}
[D 2024-05-22 17:07:09,804 minium.Conn7536 connection#653 __on_message] RECV < {"id":"78d1a21f-cf80-49a1-8317-a218ddab332b","result":{}}
[D 2024-05-22 17:07:09,805 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"5aec6429-676e-42fe-898c-4b925711b131","method":"App.addBinding","params":{"name":"showToast_callback_1716412029799"}}
[D 2024-05-22 17:07:09,808 minium.Conn7536 connection#653 __on_message] RECV < {"id":"5aec6429-676e-42fe-898c-4b925711b131","result":{}}
[D 2024-05-22 17:07:09,809 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:07:09,810 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"8f89b5ce-ef42-431d-bdec-e6a95681b74c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716412029799,after:undefined,callback:showToast_callback_1716412029799},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716412029799,true]}}
[D 2024-05-22 17:07:09,814 minium.Conn7536 connection#653 __on_message] RECV < {"id":"8f89b5ce-ef42-431d-bdec-e6a95681b74c","result":{}}
[D 2024-05-22 17:07:09,816 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"53c77299-2a3c-4b4b-a0f3-4212c85de5c6","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:07:09,821 minium.Conn7536 connection#653 __on_message] RECV < {"id":"53c77299-2a3c-4b4b-a0f3-4212c85de5c6","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:07:09,822 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:07:09,823 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"bb8648d5-aa7a-4117-8945-aa97be06bf6c","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:07:09,828 minium.Conn7536 connection#653 __on_message] RECV < {"id":"bb8648d5-aa7a-4117-8945-aa97be06bf6c","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:07:09,829 minium.Conn7536 connection#417 _safely_send] ASYNC_SEND > {"id":"f3070152-7e79-484f-894d-cb4a7b21cddf","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:07:09,876 minium.Conn7536 connection#653 __on_message] RECV < {"id":"f3070152-7e79-484f-894d-cb4a7b21cddf","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:07:09,877 minium.Conn7536 connection#697 _handle_async_msg] received async msg: f3070152-7e79-484f-894d-cb4a7b21cddf
[D 2024-05-22 17:07:11,096 minium.Conn7536 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412031052},1716412031054]}}
[I 2024-05-22 17:07:11,102 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412031052}, 1716412031054]}
[D 2024-05-22 17:07:11,103 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"3c21ea3d-5d5b-4158-8f3b-8ab30664370a","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:07:11,110 minium.Conn7536 connection#653 __on_message] RECV < {"id":"3c21ea3d-5d5b-4158-8f3b-8ab30664370a","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:07:11,118 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"23585038-561f-4713-92ce-f0c930f89ef5","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:07:11,132 minium.Conn7536 connection#653 __on_message] RECV < {"id":"23585038-561f-4713-92ce-f0c930f89ef5","result":{"result":false}}
[D 2024-05-22 17:07:11,133 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:07:11,134 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"5ce1fd61-a6a6-49c2-99c8-edd66f9da330","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:07:11,171 minium.Conn7536 connection#653 __on_message] RECV < {"id":"5ce1fd61-a6a6-49c2-99c8-edd66f9da330","result":{}}
[D 2024-05-22 17:07:11,173 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"40e4288d-e48f-4283-a28e-fbf917ff9086","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:07:11,938 minium.Conn7536 connection#653 __on_message] RECV < {"id":"40e4288d-e48f-4283-a28e-fbf917ff9086","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:07:11,940 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"e83459b9-43a4-4c9f-935b-71c8165e8351","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:07:11,943 minium.Conn7536 connection#653 __on_message] RECV < {"id":"e83459b9-43a4-4c9f-935b-71c8165e8351","result":{}}
[D 2024-05-22 17:07:11,944 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"c25ae70b-a4e4-42b9-9715-687d06fe8a86","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:07:11,948 minium.Conn7536 connection#653 __on_message] RECV < {"id":"c25ae70b-a4e4-42b9-9715-687d06fe8a86","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:07:11,949 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"71ed9e64-3e27-41f7-92aa-42813087d786","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:07:11,959 minium.Conn7536 connection#651 __on_message] RECV < {"id":"71ed9e64-3e27-41f7-92aa-42813087d786","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:07:11,959 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:07:11,960 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:07:11,961 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:07:11,961 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:07:11,961 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:07:11,961 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:07:11,961 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:07:11,961 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:07:11,962 minium.Conn7536 connection#417 _safely_send] ASYNC_SEND > {"id":"0ebcf086-19cc-4d95-9bb9-0b4cfb07761e","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:07:12,000 minium.Conn7536 connection#653 __on_message] RECV < {"id":"0ebcf086-19cc-4d95-9bb9-0b4cfb07761e","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:07:12,000 minium.Conn7536 connection#697 _handle_async_msg] received async msg: 0ebcf086-19cc-4d95-9bb9-0b4cfb07761e
[I 2024-05-22 17:07:12,003 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:07:12,004 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:07:12,004 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"a489849b-8687-4b60-910c-23de5d3eb9a4","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:07:12,067 minium.Conn7536 connection#651 __on_message] RECV < {"id":"a489849b-8687-4b60-910c-23de5d3eb9a4","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:07:12,068 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:07:12,068 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:07:12,069 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"5a628454-daff-4944-9409-92ca1ac27420","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:07:12,073 minium.Conn7536 connection#653 __on_message] RECV < {"id":"5a628454-daff-4944-9409-92ca1ac27420","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:07:12,074 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:07:22,076 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:07:22,078 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:07:22,078 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:07:22,079 minium.Conn7536 connection#417 _safely_send] SEND > {"id":"33be1cbe-b016-4f67-bf0e-8881e5009fa0","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:07:22,141 minium.Conn7536 connection#651 __on_message] RECV < {"id":"33be1cbe-b016-4f67-bf0e-8881e5009fa0","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:07:22,142 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:07:22,142 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:07:22,143 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:07:22,150 minium.Conn7536 connection#417 _safely_send] ASYNC_SEND > {"id":"a13a62de-9045-458c-96f0-3d262cbbb4ad","method":"Tool.close","params":{}}
[D 2024-05-22 17:07:22,158 minium.Conn7536 connection#653 __on_message] RECV < {"id":"a13a62de-9045-458c-96f0-3d262cbbb4ad","result":{}}
[I 2024-05-22 17:07:22,159 minium.Conn7536 connection#697 _handle_async_msg] received async msg: a13a62de-9045-458c-96f0-3d262cbbb4ad, maybe command ignore response
[E 2024-05-22 17:07:22,179 minium.Conn7536 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:07:22,179 minium.Conn7536 connection#697 _handle_async_msg] received async msg: a1218553-f2f9-4c7f-8560-70e311bc9efc
[I 2024-05-22 17:07:22,179 minium.Conn7536 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:07:23,472 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:07:23,473 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:07:23,474 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:07:23,475 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:07:23,476 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4aab7ae2aacd0ea7" --auto-port 9420
[I 2024-05-22 17:07:29,046 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:07:29,047 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:07:34,052 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:07:34,619 minium.Conn2432 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:07:34,620 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"ceef9451-ae19-4030-9796-32b7d5732bb4","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:07:34,657 minium.Conn2432 connection#653 __on_message] RECV < {"id":"ceef9451-ae19-4030-9796-32b7d5732bb4","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:07:34,658 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"2159120c-b5da-4e65-863d-4af91eb8e54c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:07:44,699 minium.Conn2432 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 17:07:44,700 minium.Conn2432 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:27102:21)\n    at Object.scriptLoaded (<anonymous>:27130:5)\n    at Object.<anonymous> (<anonymous>:27155:22)"}}
[D 2024-05-22 17:07:45,780 minium.Conn2432 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:07:45,783 minium.Conn2432 connection#651 __on_message] RECV < {"id":"2159120c-b5da-4e65-863d-4af91eb8e54c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:07:45,785 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:07:45,785 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"c22cc833-0905-437a-94ba-728b01deb765","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:07:45,790 minium.Conn2432 connection#653 __on_message] RECV < {"id":"c22cc833-0905-437a-94ba-728b01deb765","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:07:45,790 minium.Conn2432 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:07:45,791 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"cd34afea-fbef-4aa1-b976-961fa548dd9f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:07:45,794 minium.Conn2432 connection#653 __on_message] RECV < {"id":"cd34afea-fbef-4aa1-b976-961fa548dd9f","result":{}}
[D 2024-05-22 17:07:45,795 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"63cf4c0c-ef87-4577-927d-abe75f660fec","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:07:45,801 minium.Conn2432 connection#653 __on_message] RECV < {"id":"63cf4c0c-ef87-4577-927d-abe75f660fec","result":{}}
[D 2024-05-22 17:07:45,801 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:07:45,802 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"e2d120b5-93a0-420f-b02a-cb91938e5a55","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:07:45,806 minium.Conn2432 connection#653 __on_message] RECV < {"id":"e2d120b5-93a0-420f-b02a-cb91938e5a55","result":{}}
[D 2024-05-22 17:07:45,807 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:07:45,808 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"33a2da9f-2391-4b85-acb0-632cfb67df80","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:07:45,817 minium.Conn2432 connection#653 __on_message] RECV < {"id":"33a2da9f-2391-4b85-acb0-632cfb67df80","result":{}}
[D 2024-05-22 17:07:45,818 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:07:45,819 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"ea07d2c0-f615-4987-9b2b-220b3954b239","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:07:45,824 minium.Conn2432 connection#653 __on_message] RECV < {"id":"ea07d2c0-f615-4987-9b2b-220b3954b239","result":{"result":true}}
[D 2024-05-22 17:07:45,824 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"b3c80bbf-6a51-422e-8c6f-f731f7313ae8","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:07:45,844 minium.Conn2432 connection#651 __on_message] RECV < {"id":"b3c80bbf-6a51-422e-8c6f-f731f7313ae8","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/custom1/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/shop/notice/index/index","pages/shop/notice/detail/detail","pages/shop/caregory/index","pages/goods/index/index","pages/goods/region/index","pages/goods/detail/index","pages/goods/package/index","pages/goods/package/detail/index","pages/goods/poster/poster","pages/or...
[D 2024-05-22 17:07:45,845 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"de46de1d-9bfc-47e6-a948-25783e18705c","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:07:45,853 minium.Conn2432 connection#653 __on_message] RECV < {"id":"de46de1d-9bfc-47e6-a948-25783e18705c","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:07:45,854 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"738c25e2-9d80-4008-b204-300c88fff032","method":"App.addBinding","params":{"name":"showModal_before_1716412065854"}}
[D 2024-05-22 17:07:45,858 minium.Conn2432 connection#653 __on_message] RECV < {"id":"738c25e2-9d80-4008-b204-300c88fff032","result":{}}
[D 2024-05-22 17:07:45,859 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"068dfc23-2448-4a29-956f-1bc76461639f","method":"App.addBinding","params":{"name":"showModal_callback_1716412065854"}}
[D 2024-05-22 17:07:45,862 minium.Conn2432 connection#653 __on_message] RECV < {"id":"068dfc23-2448-4a29-956f-1bc76461639f","result":{}}
[D 2024-05-22 17:07:45,863 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:07:45,863 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"6b602fcc-1e73-477a-ad9d-5c624b694766","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716412065854,after:undefined,callback:showModal_callback_1716412065854},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716412065854,true]}}
[D 2024-05-22 17:07:45,867 minium.Conn2432 connection#653 __on_message] RECV < {"id":"6b602fcc-1e73-477a-ad9d-5c624b694766","result":{}}
[D 2024-05-22 17:07:45,868 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"f4f14bc6-6fe7-49ee-935b-e75e5d867053","method":"App.addBinding","params":{"name":"showToast_before_1716412065868"}}
[D 2024-05-22 17:07:45,875 minium.Conn2432 connection#653 __on_message] RECV < {"id":"f4f14bc6-6fe7-49ee-935b-e75e5d867053","result":{}}
[D 2024-05-22 17:07:45,876 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"19ca26f0-2889-4e74-a6f1-dc9b5a19ee7b","method":"App.addBinding","params":{"name":"showToast_callback_1716412065868"}}
[D 2024-05-22 17:07:45,879 minium.Conn2432 connection#653 __on_message] RECV < {"id":"19ca26f0-2889-4e74-a6f1-dc9b5a19ee7b","result":{}}
[D 2024-05-22 17:07:45,880 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:07:45,880 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"7b00fdbe-9b7c-41fe-b888-6be6a5850e32","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716412065868,after:undefined,callback:showToast_callback_1716412065868},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716412065868,true]}}
[D 2024-05-22 17:07:45,884 minium.Conn2432 connection#653 __on_message] RECV < {"id":"7b00fdbe-9b7c-41fe-b888-6be6a5850e32","result":{}}
[D 2024-05-22 17:07:45,886 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"ac967367-2964-4260-9af3-e4211b8563c7","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:07:45,891 minium.Conn2432 connection#653 __on_message] RECV < {"id":"ac967367-2964-4260-9af3-e4211b8563c7","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:07:45,892 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:07:45,893 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"363d779c-3de6-45a0-a97e-8d1b4f655ea5","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:07:45,897 minium.Conn2432 connection#653 __on_message] RECV < {"id":"363d779c-3de6-45a0-a97e-8d1b4f655ea5","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:07:45,898 minium.Conn2432 connection#417 _safely_send] ASYNC_SEND > {"id":"f81d0f7a-4c1a-4067-861f-8fed4bf0ae9a","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:07:45,986 minium.Conn2432 connection#653 __on_message] RECV < {"id":"f81d0f7a-4c1a-4067-861f-8fed4bf0ae9a","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:07:45,986 minium.Conn2432 connection#697 _handle_async_msg] received async msg: f81d0f7a-4c1a-4067-861f-8fed4bf0ae9a
[D 2024-05-22 17:07:46,830 minium.Conn2432 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412066793},1716412066794]}}
[I 2024-05-22 17:07:46,831 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412066793}, 1716412066794]}
[D 2024-05-22 17:07:46,834 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"f689557e-7106-4891-b593-ce95b0bf043e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:07:46,836 minium.Conn2432 connection#653 __on_message] RECV < {"id":"f689557e-7106-4891-b593-ce95b0bf043e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:07:46,836 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"09eb64bf-a4bd-40e7-a245-a592e45f8480","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:07:46,849 minium.Conn2432 connection#653 __on_message] RECV < {"id":"09eb64bf-a4bd-40e7-a245-a592e45f8480","result":{"result":false}}
[D 2024-05-22 17:07:46,851 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:07:46,851 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"47b90e08-83da-4aac-b477-5d07528c1650","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:07:46,864 minium.Conn2432 connection#653 __on_message] RECV < {"id":"47b90e08-83da-4aac-b477-5d07528c1650","result":{}}
[D 2024-05-22 17:07:46,865 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"181959af-3ed6-4846-bee3-969eb159c53b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:07:47,694 minium.Conn2432 connection#653 __on_message] RECV < {"id":"181959af-3ed6-4846-bee3-969eb159c53b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:07:47,695 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"6ef7f0b2-3400-45ab-8bb4-19bf73084da2","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:07:47,704 minium.Conn2432 connection#653 __on_message] RECV < {"id":"6ef7f0b2-3400-45ab-8bb4-19bf73084da2","result":{}}
[D 2024-05-22 17:07:47,705 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"21c3b975-546b-4568-a14d-e2a5e5eb6f3b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:07:47,713 minium.Conn2432 connection#653 __on_message] RECV < {"id":"21c3b975-546b-4568-a14d-e2a5e5eb6f3b","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:07:47,714 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"7ba9ca27-2845-4f08-83e8-e49266161b8b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:07:47,718 minium.Conn2432 connection#651 __on_message] RECV < {"id":"7ba9ca27-2845-4f08-83e8-e49266161b8b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:07:47,724 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:07:47,725 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:07:47,725 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:07:47,725 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:07:47,726 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:07:47,726 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:07:47,726 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:07:47,726 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:07:47,726 minium.Conn2432 connection#417 _safely_send] ASYNC_SEND > {"id":"11dea559-d220-4dcb-805a-6564e7bfeaad","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:07:47,766 minium.Conn2432 connection#653 __on_message] RECV < {"id":"11dea559-d220-4dcb-805a-6564e7bfeaad","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:07:47,767 minium.Conn2432 connection#697 _handle_async_msg] received async msg: 11dea559-d220-4dcb-805a-6564e7bfeaad
[I 2024-05-22 17:07:47,769 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:07:47,769 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:07:47,770 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"3200195e-f383-4ae0-8bca-5a577cdc5559","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:07:47,839 minium.Conn2432 connection#651 __on_message] RECV < {"id":"3200195e-f383-4ae0-8bca-5a577cdc5559","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:07:47,839 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:07:47,840 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:07:47,840 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"1c6d9a97-80a4-44bf-85fe-5e688b3ece2b","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:07:47,844 minium.Conn2432 connection#653 __on_message] RECV < {"id":"1c6d9a97-80a4-44bf-85fe-5e688b3ece2b","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:07:47,845 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:07:57,847 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:07:57,848 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:07:57,849 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:07:57,849 minium.Conn2432 connection#417 _safely_send] SEND > {"id":"e9bf599f-e2e0-41fc-b1ce-a1dc9b2a75da","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:07:57,910 minium.Conn2432 connection#651 __on_message] RECV < {"id":"e9bf599f-e2e0-41fc-b1ce-a1dc9b2a75da","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:07:57,911 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:07:57,911 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:07:57,911 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:07:57,915 minium.Conn2432 connection#417 _safely_send] ASYNC_SEND > {"id":"1e3b5bd0-6eab-4161-ae3a-b2dfa1a1bf28","method":"Tool.close","params":{}}
[D 2024-05-22 17:07:57,917 minium.Conn2432 connection#653 __on_message] RECV < {"id":"1e3b5bd0-6eab-4161-ae3a-b2dfa1a1bf28","result":{}}
[I 2024-05-22 17:07:57,917 minium.Conn2432 connection#697 _handle_async_msg] received async msg: 1e3b5bd0-6eab-4161-ae3a-b2dfa1a1bf28, maybe command ignore response
[E 2024-05-22 17:07:57,938 minium.Conn2432 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:07:57,939 minium.Conn2432 connection#697 _handle_async_msg] received async msg: 1a3e1b9c-bd90-49e6-8ba1-b6865d4e0189
[I 2024-05-22 17:07:57,945 minium.Conn2432 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:07:59,221 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:07:59,222 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:07:59,222 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:07:59,223 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:07:59,224 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wxa4b60583d43106a5" --auto-port 9420
[I 2024-05-22 17:08:05,168 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:08:05,168 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:08:10,174 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:08:10,396 minium.Conn6544 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:08:10,397 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"60f8e15e-e3c8-4b2e-b96c-496f2abebdae","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:08:10,400 minium.Conn6544 connection#653 __on_message] RECV < {"id":"60f8e15e-e3c8-4b2e-b96c-496f2abebdae","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:08:10,404 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"0da135c1-3c7c-423e-bf6c-1b4fddf1c229","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:08:16,664 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'"}}
[D 2024-05-22 17:08:16,664 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Unexpected token ']'","stack":"SyntaxError: Unexpected token ']'\n    at doWhenAllScriptLoaded (<anonymous>:21643:21)\n    at Object.scriptLoaded (<anonymous>:21671:5)\n    at Object.<anonymous> (<anonymous>:21696:22)"}}
[D 2024-05-22 17:08:18,163 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:08:18,167 minium.Conn6544 connection#651 __on_message] RECV < {"id":"0da135c1-3c7c-423e-bf6c-1b4fddf1c229","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:08:18,168 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:08:18,169 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"61518c11-43ac-45c0-aca0-56c88a0d111e","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:08:18,175 minium.Conn6544 connection#653 __on_message] RECV < {"id":"61518c11-43ac-45c0-aca0-56c88a0d111e","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:08:18,176 minium.Conn6544 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:08:18,178 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"d08711f5-71ca-497f-ac50-aa331cee762a","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:08:18,188 minium.Conn6544 connection#653 __on_message] RECV < {"id":"d08711f5-71ca-497f-ac50-aa331cee762a","result":{}}
[D 2024-05-22 17:08:18,189 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ef14db28-18b8-42bd-a42b-a5c0d0ce5856","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:08:18,194 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ef14db28-18b8-42bd-a42b-a5c0d0ce5856","result":{}}
[D 2024-05-22 17:08:18,195 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:08:18,196 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a5d77e36-7332-435e-b1c6-414be41a4d9d","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:08:18,216 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a5d77e36-7332-435e-b1c6-414be41a4d9d","result":{}}
[D 2024-05-22 17:08:18,217 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:08:18,218 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"7a75fa11-6d40-45e4-8d7b-aed539790a1b","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:08:18,254 minium.Conn6544 connection#653 __on_message] RECV < {"id":"7a75fa11-6d40-45e4-8d7b-aed539790a1b","result":{}}
[D 2024-05-22 17:08:18,255 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:08:18,256 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"a73f0619-d806-440d-9f00-e03effe51ff2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:08:18,265 minium.Conn6544 connection#653 __on_message] RECV < {"id":"a73f0619-d806-440d-9f00-e03effe51ff2","result":{"result":true}}
[D 2024-05-22 17:08:18,266 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"4027d116-5d74-4c8a-b117-ffa55720558b","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:08:18,284 minium.Conn6544 connection#651 __on_message] RECV < {"id":"4027d116-5d74-4c8a-b117-ffa55720558b","result":{"result":{"pages":["pages/index/index","pages/custom/index","pages/creditshop/detail/index","pages/creditshop/comment/index","pages/creditshop/express/index","pages/creditshop/log/index","pages/creditshop/log/detail/index","pages/creditshop/lists/index","pages/creditshop/creditlog/index","pages/creditshop/create/index","pages/creditshop/verify/index","pages/creditshop/index","pages/commission/poster/index","pages/commission/qrcode/index","pages/commi...
[D 2024-05-22 17:08:18,284 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"7f6f23a2-682c-4188-90e8-590fd090d1b4","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:08:18,290 minium.Conn6544 connection#653 __on_message] RECV < {"id":"7f6f23a2-682c-4188-90e8-590fd090d1b4","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:08:18,291 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"cae8570a-04ca-4bae-93ab-057c159be6b4","method":"App.addBinding","params":{"name":"showModal_before_1716412098291"}}
[D 2024-05-22 17:08:18,296 minium.Conn6544 connection#653 __on_message] RECV < {"id":"cae8570a-04ca-4bae-93ab-057c159be6b4","result":{}}
[D 2024-05-22 17:08:18,297 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"abbca293-b565-40b8-a352-db9559e29dac","method":"App.addBinding","params":{"name":"showModal_callback_1716412098291"}}
[D 2024-05-22 17:08:18,302 minium.Conn6544 connection#653 __on_message] RECV < {"id":"abbca293-b565-40b8-a352-db9559e29dac","result":{}}
[D 2024-05-22 17:08:18,303 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:08:18,307 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"f824a7c6-4d78-49be-913e-64b229157934","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716412098291,after:undefined,callback:showModal_callback_1716412098291},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716412098291,true]}}
[D 2024-05-22 17:08:18,314 minium.Conn6544 connection#653 __on_message] RECV < {"id":"f824a7c6-4d78-49be-913e-64b229157934","result":{}}
[D 2024-05-22 17:08:18,315 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"eb8b7afd-01bc-4ce7-a7aa-3ecdf8133fa9","method":"App.addBinding","params":{"name":"showToast_before_1716412098315"}}
[D 2024-05-22 17:08:18,334 minium.Conn6544 connection#653 __on_message] RECV < {"id":"eb8b7afd-01bc-4ce7-a7aa-3ecdf8133fa9","result":{}}
[D 2024-05-22 17:08:18,334 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"8131b6cc-eeeb-4f57-b19f-3c3413bbf805","method":"App.addBinding","params":{"name":"showToast_callback_1716412098315"}}
[D 2024-05-22 17:08:18,338 minium.Conn6544 connection#653 __on_message] RECV < {"id":"8131b6cc-eeeb-4f57-b19f-3c3413bbf805","result":{}}
[D 2024-05-22 17:08:18,338 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:08:18,339 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"c4f7266c-4ec5-4b83-b7af-41eda6e1c16a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716412098315,after:undefined,callback:showToast_callback_1716412098315},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716412098315,true]}}
[D 2024-05-22 17:08:18,344 minium.Conn6544 connection#653 __on_message] RECV < {"id":"c4f7266c-4ec5-4b83-b7af-41eda6e1c16a","result":{}}
[D 2024-05-22 17:08:18,345 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"c6950d53-7928-4517-becd-c78e2411f77e","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:08:18,350 minium.Conn6544 connection#653 __on_message] RECV < {"id":"c6950d53-7928-4517-becd-c78e2411f77e","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:08:18,351 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:08:18,352 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"426fe786-61b3-4dac-aba2-38661f56c532","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:08:18,356 minium.Conn6544 connection#653 __on_message] RECV < {"id":"426fe786-61b3-4dac-aba2-38661f56c532","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:08:18,357 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"9d825604-2a32-4cd5-b939-62d4698cff2c","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:08:18,398 minium.Conn6544 connection#653 __on_message] RECV < {"id":"9d825604-2a32-4cd5-b939-62d4698cff2c","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:08:18,399 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 9d825604-2a32-4cd5-b939-62d4698cff2c
[D 2024-05-22 17:08:19,576 minium.Conn6544 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412099525},1716412099527]}}
[I 2024-05-22 17:08:19,585 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412099525}, 1716412099527]}
[D 2024-05-22 17:08:19,586 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"18a0cbfd-1fc3-43b0-8015-5e66aa5f2d4e","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:08:19,607 minium.Conn6544 connection#653 __on_message] RECV < {"id":"18a0cbfd-1fc3-43b0-8015-5e66aa5f2d4e","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:08:19,608 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"4ef7119d-85ff-4bab-bf61-2af108913e89","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:08:19,630 minium.Conn6544 connection#653 __on_message] RECV < {"id":"4ef7119d-85ff-4bab-bf61-2af108913e89","result":{"result":false}}
[D 2024-05-22 17:08:19,631 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:08:19,633 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"13504f7a-5814-44e7-8cce-6df47ab37db9","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:08:19,648 minium.Conn6544 connection#653 __on_message] RECV < {"id":"13504f7a-5814-44e7-8cce-6df47ab37db9","result":{}}
[D 2024-05-22 17:08:19,649 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"19c17672-2dd4-4fc0-a4e6-ddfde104f7d7","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:08:20,457 minium.Conn6544 connection#653 __on_message] RECV < {"id":"19c17672-2dd4-4fc0-a4e6-ddfde104f7d7","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:08:20,459 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"1b721f91-bc0a-4d37-be89-6ee8c4063713","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:08:20,465 minium.Conn6544 connection#653 __on_message] RECV < {"id":"1b721f91-bc0a-4d37-be89-6ee8c4063713","result":{}}
[D 2024-05-22 17:08:20,466 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"be70f506-30b6-481c-aa55-a5e76bc12138","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:08:20,469 minium.Conn6544 connection#653 __on_message] RECV < {"id":"be70f506-30b6-481c-aa55-a5e76bc12138","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:08:20,470 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"34ceb6f5-51f2-44cb-8b5d-68a0e6d8b58b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:08:20,474 minium.Conn6544 connection#651 __on_message] RECV < {"id":"34ceb6f5-51f2-44cb-8b5d-68a0e6d8b58b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:08:20,475 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:08:20,476 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:08:20,477 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:08:20,477 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:08:20,477 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:08:20,477 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:08:20,477 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:08:20,477 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:08:20,478 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"9af6c847-83ab-49e5-93e7-53e7f4ea0f95","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:08:20,520 minium.Conn6544 connection#653 __on_message] RECV < {"id":"9af6c847-83ab-49e5-93e7-53e7f4ea0f95","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:08:20,521 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 9af6c847-83ab-49e5-93e7-53e7f4ea0f95
[I 2024-05-22 17:08:20,523 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:08:20,523 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:08:20,524 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"551119a7-2c6d-4b06-9bff-c373bac1aa96","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:08:20,590 minium.Conn6544 connection#651 __on_message] RECV < {"id":"551119a7-2c6d-4b06-9bff-c373bac1aa96","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:08:20,591 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:08:20,592 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:08:20,592 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"ddb60357-b15a-497e-929b-836f9e52bd95","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:08:20,595 minium.Conn6544 connection#653 __on_message] RECV < {"id":"ddb60357-b15a-497e-929b-836f9e52bd95","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:08:20,596 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:08:30,598 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:08:30,599 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:08:30,599 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:08:30,599 minium.Conn6544 connection#417 _safely_send] SEND > {"id":"89948b35-d93d-4f21-8dc2-74d2bc950189","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:08:30,658 minium.Conn6544 connection#651 __on_message] RECV < {"id":"89948b35-d93d-4f21-8dc2-74d2bc950189","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAABT9JREFUeJzt00ENACAQwDDAv9szgAc+ZEmrYJ/tmVlA0/kdALwzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzMAQZmAIMzCEGRjCDAxhBoYwA0OYgSHMwBBmYAgzMIQZGMIMDGEGhjADQ5iBIczAEGZgCDMwhBkYwgwMYQaGMANDmIEhzM...
[I 2024-05-22 17:08:30,659 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:08:30,660 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:08:30,660 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:08:30,663 minium.Conn6544 connection#417 _safely_send] ASYNC_SEND > {"id":"51ac2caf-3c5b-4760-acba-2d963f791401","method":"Tool.close","params":{}}
[D 2024-05-22 17:08:30,664 minium.Conn6544 connection#653 __on_message] RECV < {"id":"51ac2caf-3c5b-4760-acba-2d963f791401","result":{}}
[I 2024-05-22 17:08:30,665 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 51ac2caf-3c5b-4760-acba-2d963f791401, maybe command ignore response
[E 2024-05-22 17:08:30,686 minium.Conn6544 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:08:30,687 minium.Conn6544 connection#697 _handle_async_msg] received async msg: 807bf0fa-ad9a-4d28-85bb-3fb87ed9817c
[I 2024-05-22 17:08:30,687 minium.Conn6544 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:08:31,973 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:08:31,975 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:08:31,975 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:08:31,976 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:08:31,977 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx8b0d722749666d1c" --auto-port 9420
[I 2024-05-22 17:08:37,628 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:64298
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:08:37,628 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:08:42,634 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:08:42,884 minium.Conn9296 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:08:42,885 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"958587fe-7243-4fce-b5b5-12a6f9a0c9c7","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:08:42,894 minium.Conn9296 connection#653 __on_message] RECV < {"id":"958587fe-7243-4fce-b5b5-12a6f9a0c9c7","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:08:42,895 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"ccd09f61-a821-45a8-be2d-a8d3f83d175f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:08:48,849 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:08:48,859 minium.Conn9296 connection#651 __on_message] RECV < {"id":"ccd09f61-a821-45a8-be2d-a8d3f83d175f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:08:48,860 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:08:48,861 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"6635b0a9-3979-46bd-9d88-ac0136ad8c2b","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:08:48,887 minium.Conn9296 connection#653 __on_message] RECV < {"id":"6635b0a9-3979-46bd-9d88-ac0136ad8c2b","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:08:48,887 minium.Conn9296 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:08:48,888 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"6bf84f89-12f3-4c4c-a51b-a94ce2416452","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:08:48,894 minium.Conn9296 connection#653 __on_message] RECV < {"id":"6bf84f89-12f3-4c4c-a51b-a94ce2416452","result":{}}
[D 2024-05-22 17:08:48,895 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"1d2a121a-b73d-4d12-a7d0-0710c3830322","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:08:48,910 minium.Conn9296 connection#653 __on_message] RECV < {"id":"1d2a121a-b73d-4d12-a7d0-0710c3830322","result":{}}
[D 2024-05-22 17:08:48,911 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:08:48,912 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"e2ed2a53-a953-4ab4-8b21-2732ce3a116f","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:08:48,917 minium.Conn9296 connection#653 __on_message] RECV < {"id":"e2ed2a53-a953-4ab4-8b21-2732ce3a116f","result":{}}
[D 2024-05-22 17:08:48,918 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:08:48,919 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"d4e743fe-e554-42de-bf4c-d7f4f26d9644","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:08:48,927 minium.Conn9296 connection#653 __on_message] RECV < {"id":"d4e743fe-e554-42de-bf4c-d7f4f26d9644","result":{}}
[D 2024-05-22 17:08:48,928 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:08:48,929 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"34863287-a45a-4f46-bdd3-f215146d5c8f","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:08:48,939 minium.Conn9296 connection#653 __on_message] RECV < {"id":"34863287-a45a-4f46-bdd3-f215146d5c8f","result":{"result":true}}
[D 2024-05-22 17:08:48,940 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"12b774cb-77c2-46e0-ae21-c7f722b5830d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:08:48,948 minium.Conn9296 connection#651 __on_message] RECV < {"id":"12b774cb-77c2-46e0-ae21-c7f722b5830d","result":{"result":{"pages":["pages/index/index","pages/classchoice/classchoice","pages/editclass/editclass","pages/isWare/isware","pages/faceenter/faceenter","pages/result/result","pages/result3/result3","pages/userinfo1/userinfo1","pages/member/member","pages/mylist/mylist","pages/success/success","pages/share/share","pages/checkuser/checkuser","pages/etext/etext","pages/teach/teach","pages/result2/result2","pages/eyetype/eyetype","pages/query/query","pages/...
[D 2024-05-22 17:08:48,949 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"38d9fce8-417d-4c79-8fc9-400a34e4ad88","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:08:48,955 minium.Conn9296 connection#653 __on_message] RECV < {"id":"38d9fce8-417d-4c79-8fc9-400a34e4ad88","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:08:48,956 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"0be161dc-f2c7-4d05-9cb2-a13dd88a92e0","method":"App.addBinding","params":{"name":"showModal_before_1716412128956"}}
[D 2024-05-22 17:08:48,960 minium.Conn9296 connection#653 __on_message] RECV < {"id":"0be161dc-f2c7-4d05-9cb2-a13dd88a92e0","result":{}}
[D 2024-05-22 17:08:48,961 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"8cc61a6d-bf5f-438a-a527-942a5d43af75","method":"App.addBinding","params":{"name":"showModal_callback_1716412128956"}}
[D 2024-05-22 17:08:48,965 minium.Conn9296 connection#653 __on_message] RECV < {"id":"8cc61a6d-bf5f-438a-a527-942a5d43af75","result":{}}
[D 2024-05-22 17:08:48,966 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:08:48,967 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"20837a9e-3d01-4c35-9d19-91ef553fb367","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716412128956,after:undefined,callback:showModal_callback_1716412128956},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716412128956,true]}}
[D 2024-05-22 17:08:48,972 minium.Conn9296 connection#653 __on_message] RECV < {"id":"20837a9e-3d01-4c35-9d19-91ef553fb367","result":{}}
[D 2024-05-22 17:08:48,973 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"5518abb1-4f02-4b27-b0a9-30f10729ec34","method":"App.addBinding","params":{"name":"showToast_before_1716412128972"}}
[D 2024-05-22 17:08:48,983 minium.Conn9296 connection#653 __on_message] RECV < {"id":"5518abb1-4f02-4b27-b0a9-30f10729ec34","result":{}}
[D 2024-05-22 17:08:48,984 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"9250cfd1-d895-4e3d-b5f9-b20ab962d14a","method":"App.addBinding","params":{"name":"showToast_callback_1716412128972"}}
[D 2024-05-22 17:08:48,990 minium.Conn9296 connection#653 __on_message] RECV < {"id":"9250cfd1-d895-4e3d-b5f9-b20ab962d14a","result":{}}
[D 2024-05-22 17:08:48,991 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:08:48,993 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"85231f16-ce67-47f6-a3c4-59e51a45b7db","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716412128972,after:undefined,callback:showToast_callback_1716412128972},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716412128972,true]}}
[D 2024-05-22 17:08:48,998 minium.Conn9296 connection#653 __on_message] RECV < {"id":"85231f16-ce67-47f6-a3c4-59e51a45b7db","result":{}}
[D 2024-05-22 17:08:49,000 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"9b6c7e42-f37d-4cba-ba3e-62364502e008","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:08:49,018 minium.Conn9296 connection#653 __on_message] RECV < {"id":"9b6c7e42-f37d-4cba-ba3e-62364502e008","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:08:49,019 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:08:49,020 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"033c41bd-e290-43d0-ad43-4bb892a1a377","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:08:49,025 minium.Conn9296 connection#653 __on_message] RECV < {"id":"033c41bd-e290-43d0-ad43-4bb892a1a377","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:08:49,027 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"84021c02-a69d-44d6-b6b7-f287c4754ca7","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:08:49,072 minium.Conn9296 connection#653 __on_message] RECV < {"id":"84021c02-a69d-44d6-b6b7-f287c4754ca7","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:08:49,073 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 84021c02-a69d-44d6-b6b7-f287c4754ca7
[D 2024-05-22 17:08:49,849 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412129834},1716412129836]}}
[I 2024-05-22 17:08:49,851 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412129834}, 1716412129836]}
[D 2024-05-22 17:08:49,852 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"da5f1e3a-610a-474c-87d9-38a1400c04a3","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:08:49,856 minium.Conn9296 connection#653 __on_message] RECV < {"id":"da5f1e3a-610a-474c-87d9-38a1400c04a3","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:08:49,857 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"fc7c5744-419b-4afc-af55-57249653d904","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:08:49,881 minium.Conn9296 connection#653 __on_message] RECV < {"id":"fc7c5744-419b-4afc-af55-57249653d904","result":{"result":false}}
[D 2024-05-22 17:08:49,882 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:08:49,883 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"bee211e6-d1a2-43ee-afe2-c8f6546fd105","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:08:49,889 minium.Conn9296 connection#653 __on_message] RECV < {"id":"bee211e6-d1a2-43ee-afe2-c8f6546fd105","result":{}}
[D 2024-05-22 17:08:49,890 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"77f7b4ea-a1d6-4180-8c5b-95a87121415b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:08:50,235 minium.Conn9296 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'openid' of null","stack":"TypeError: Cannot read property 'openid' of null\n    at success (http://127.0.0.1:38056/appservice/pages/index/index.js?t=wechat&s=1716412118199&v=3b9a30d6e17b8cd9caa896ec483c8c66:44:53)\n    at Object.success (http://127.0.0.1:38056/appservice/__dev__/WASubContext.js?t=wechat&s=1716412118199&v=3.4.3:1:140098)\n    at Object.success (http://127.0.0.1:38056/appservice/__dev__/WASubContext.js?t=wechat&s=17...
[D 2024-05-22 17:08:50,586 minium.Conn9296 connection#653 __on_message] RECV < {"id":"77f7b4ea-a1d6-4180-8c5b-95a87121415b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:08:50,587 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"d6348019-0d15-4fcd-a4b7-90a36d45255e","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:08:50,593 minium.Conn9296 connection#653 __on_message] RECV < {"id":"d6348019-0d15-4fcd-a4b7-90a36d45255e","result":{}}
[D 2024-05-22 17:08:50,594 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"07ac8889-8560-40fe-9fb6-7cfc234e4718","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:08:50,597 minium.Conn9296 connection#653 __on_message] RECV < {"id":"07ac8889-8560-40fe-9fb6-7cfc234e4718","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:08:50,598 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"649cf71e-242c-46b8-975f-8e88c9feed84","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:08:50,604 minium.Conn9296 connection#651 __on_message] RECV < {"id":"649cf71e-242c-46b8-975f-8e88c9feed84","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":568,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":39,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:08:50,606 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:08:50,611 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:08:50,612 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:08:50,612 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:08:50,612 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:08:50,613 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:08:50,613 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:08:50,613 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[I 2024-05-22 17:08:50,613 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:08:50,614 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"5163ee80-7cab-4110-9593-28c1ec27a44b","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:08:50,701 minium.Conn9296 connection#653 __on_message] RECV < {"id":"5163ee80-7cab-4110-9593-28c1ec27a44b","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:08:50,702 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 5163ee80-7cab-4110-9593-28c1ec27a44b
[D 2024-05-22 17:08:51,137 minium.Conn9296 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412131125},1716412131127]}}
[I 2024-05-22 17:08:51,139 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412131125}, 1716412131127]}
[I 2024-05-22 17:08:51,140 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:08:51,142 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:08:51,143 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"737a8451-3868-4554-bc9f-512f28ed7315","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:08:51,337 minium.Conn9296 connection#651 __on_message] RECV < {"id":"737a8451-3868-4554-bc9f-512f28ed7315","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzMfXecG8X1+JuZLeq63s/n3m2MK9hgUxyIKQFCJ6GGhEAgCYEAoYQASWihJvReQ3PoHQIGG/eCbdzb+Wxf7zq13Z35/bHSarVNq7tzft/3kc/S1Lez8+aVefMGvV/PAIEl2CQ7Qb5V2KCUZ05NGdOtCluWsUtgdhnmNO0bAsZA0aUYEdD9ZoYvVlX0WQxAxJl0Q5ZFs/osll1LV1ihQHW/nUeMMadcc3WMLLIYADI/vk0XdmWYlu74Ep2y7Mvp3icQbMxiDGi+E1oHdrST9SJMwKU6t6ptk+wEA8B/QM26pV6rxIHgjNxURwAAyFVRW3BfFeUqn4VI+oczdoP7Wu0mFcrCCHQ0noWBA6pM93dA+OVqApmeYW...
[I 2024-05-22 17:08:51,346 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:08:51,346 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:08:51,346 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"95064764-9fd6-4c61-9271-b3d5d3555470","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:08:51,349 minium.Conn9296 connection#653 __on_message] RECV < {"id":"95064764-9fd6-4c61-9271-b3d5d3555470","result":{"pageId":4,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:08:51,350 minium app#689 navigate_to] NavigateTo: Page(id=4, path=/pages/index/index, query={})
[D 2024-05-22 17:08:51,396 minium.Conn9296 connection#651 __on_message] RECV < {"method":"App.exceptionThrown","params":{"message":"Cannot read property 'openid' of null","stack":"TypeError: Cannot read property 'openid' of null\n    at success (http://127.0.0.1:38056/appservice/pages/index/index.js?t=wechat&s=1716412118199&v=3b9a30d6e17b8cd9caa896ec483c8c66:44:53)\n    at Object.success (http://127.0.0.1:38056/appservice/__dev__/WASubContext.js?t=wechat&s=1716412118199&v=3.4.3:1:140098)\n    at Object.success (http://127.0.0.1:38056/appservice/__dev__/WASubContext.js?t=wechat&s=17...
[D 2024-05-22 17:08:51,398 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:08:51,398 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:08:51,398 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:08:51,399 minium.Conn9296 connection#417 _safely_send] SEND > {"id":"e069f096-8936-4934-b7f3-2a112f609bed","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:08:51,567 minium.Conn9296 connection#651 __on_message] RECV < {"id":"e069f096-8936-4934-b7f3-2a112f609bed","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAI4CAIAAACUa6fMAAAAAXNSR0IArs4c6QAAIABJREFUeJzMfXecG8X1+JuZLeq63s/n3m2MK9hgUxyIKQFCJ6GGhEAgCYEAoYQASWihJvReQ3PoHQIGG/eCbdzb+Wxf7zq13Z35/bHSarVNq7tzft/3kc/S1Lez8+aVefMGvV/PAIEl2CQ7Qb5V2KCUZ05NGdOtCluWsUtgdhnmNO0bAsZA0aUYEdD9ZoYvVlX0WQxAxJl0Q5ZFs/osll1LV1ihQHW/nUeMMadcc3WMLLIYADI/vk0XdmWYlu74Ep2y7Mvp3icQbMxiDGi+E1oHdrST9SJMwKU6t6ptk+wEA8B/QM26pV6rxIHgjNxURwAAyFVRW3BfFeUqn4VI+oczdoP7Wu0mFcrCCHQ0noWBA6pM93dA+OVqApmeYW...
[I 2024-05-22 17:08:51,569 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:08:51,569 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:08:51,569 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:08:51,573 minium.Conn9296 connection#417 _safely_send] ASYNC_SEND > {"id":"2855bcaf-3427-42db-aa6f-a6b909f389f6","method":"Tool.close","params":{}}
[D 2024-05-22 17:08:51,574 minium.Conn9296 connection#653 __on_message] RECV < {"id":"2855bcaf-3427-42db-aa6f-a6b909f389f6","result":{}}
[I 2024-05-22 17:08:51,574 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 2855bcaf-3427-42db-aa6f-a6b909f389f6, maybe command ignore response
[E 2024-05-22 17:08:51,596 minium.Conn9296 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:08:51,596 minium.Conn9296 connection#697 _handle_async_msg] received async msg: 547f530e-d792-4e5e-94ad-5f6cd7e7c5b4
[I 2024-05-22 17:08:51,596 minium.Conn9296 connection#367 _ws_run_forever] websocket run forever shutdown
[I 2024-05-22 17:14:01,751 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-05-22 17:14:01,752 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-05-22 17:14:01,752 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-05-22 17:14:01,753 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-05-22 17:14:01,754 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/groundtruth/wx4e1b2aca85a4de6d" --auto-port 9420
[I 2024-05-22 17:14:12,340 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 45942, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:25553
- preparing
- Fetching AppID (wxc26bf025c84ef3b7) permissions
✔ Using AppID: wxc26bf025c84ef3b7
✔ auto

[I 2024-05-22 17:14:12,341 minium minium_object#102 _do_shell] out:

[I 2024-05-22 17:14:17,346 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-05-22 17:14:17,547 minium.Conn5824 connection#342 _connect] connect to WebChatTools successfully
[D 2024-05-22 17:14:17,547 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"bf365dbc-f9d3-481d-93b3-4d9cedb10990","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:14:17,559 minium.Conn5824 connection#653 __on_message] RECV < {"id":"bf365dbc-f9d3-481d-93b3-4d9cedb10990","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:14:17,560 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"30031534-4e77-4c42-955c-0e5712413625","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:14:24,986 minium.Conn5824 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-05-22 17:14:24,992 minium.Conn5824 connection#651 __on_message] RECV < {"id":"30031534-4e77-4c42-955c-0e5712413625","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[D 2024-05-22 17:14:24,992 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-05-22 17:14:24,993 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"dc70c75b-b5e1-4bb2-9211-538800a10d60","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-05-22 17:14:24,999 minium.Conn5824 connection#653 __on_message] RECV < {"id":"dc70c75b-b5e1-4bb2-9211-538800a10d60","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-05-22 17:14:24,999 minium.Conn5824 connection#283 remove] remove key which is not in observers
[D 2024-05-22 17:14:25,000 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"0b19c60d-0b4d-4a3a-8d5c-b67259f4f49e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-05-22 17:14:25,004 minium.Conn5824 connection#653 __on_message] RECV < {"id":"0b19c60d-0b4d-4a3a-8d5c-b67259f4f49e","result":{}}
[D 2024-05-22 17:14:25,005 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"6adc7048-7589-4983-a97e-0abb0fbf3b5b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-05-22 17:14:25,010 minium.Conn5824 connection#653 __on_message] RECV < {"id":"6adc7048-7589-4983-a97e-0abb0fbf3b5b","result":{}}
[D 2024-05-22 17:14:25,011 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-05-22 17:14:25,012 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"2916345c-6335-4f81-b2df-d26d73410291","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-05-22 17:14:25,016 minium.Conn5824 connection#653 __on_message] RECV < {"id":"2916345c-6335-4f81-b2df-d26d73410291","result":{}}
[D 2024-05-22 17:14:25,017 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-05-22 17:14:25,017 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"afe3a1e7-13ff-4860-b627-2d5d7bea0200","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-05-22 17:14:25,022 minium.Conn5824 connection#653 __on_message] RECV < {"id":"afe3a1e7-13ff-4860-b627-2d5d7bea0200","result":{}}
[D 2024-05-22 17:14:25,022 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-05-22 17:14:25,023 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"42d98a17-5981-429a-a632-3060e4d872be","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-05-22 17:14:25,027 minium.Conn5824 connection#653 __on_message] RECV < {"id":"42d98a17-5981-429a-a632-3060e4d872be","result":{"result":true}}
[D 2024-05-22 17:14:25,028 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"d4d95bd4-d46a-416f-adc7-dd263c25381c","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-05-22 17:14:25,036 minium.Conn5824 connection#651 __on_message] RECV < {"id":"d4d95bd4-d46a-416f-adc7-dd263c25381c","result":{"result":{"pages":["pages/index/index","pages/index/search","pages/shopIndex/shopIndex","pages/home/home3","pages/discover/discover","pages/order/order","pages/my/my","pages/tradearea/tradearea","pages/secondhand/secondhand","pages/secondhand/secondhandPublish","pages/secondhand/secondhandDetail","pages/secondhand/secondhandSearch","pages/logs/logs","pages/common/error/error","components/dsselectobj"],"tabBar":[{"pagePath":"pages/index/index.html","t...
[D 2024-05-22 17:14:25,037 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"59f1f8a4-f296-47c7-af7a-ce4e3231dda0","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-05-22 17:14:25,042 minium.Conn5824 connection#653 __on_message] RECV < {"id":"59f1f8a4-f296-47c7-af7a-ce4e3231dda0","result":{"result":{"miniProgram":{"appId":"wxc26bf025c84ef3b7","envVersion":"develop","version":""}}}}
[D 2024-05-22 17:14:25,043 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"e068f7b6-1ac0-494c-b12c-5e7119e9475c","method":"App.addBinding","params":{"name":"showModal_before_1716412465043"}}
[D 2024-05-22 17:14:25,049 minium.Conn5824 connection#653 __on_message] RECV < {"id":"e068f7b6-1ac0-494c-b12c-5e7119e9475c","result":{}}
[D 2024-05-22 17:14:25,050 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"83aaceb8-aa36-4ada-982e-fcae99a3e3e7","method":"App.addBinding","params":{"name":"showModal_callback_1716412465043"}}
[D 2024-05-22 17:14:25,054 minium.Conn5824 connection#653 __on_message] RECV < {"id":"83aaceb8-aa36-4ada-982e-fcae99a3e3e7","result":{}}
[D 2024-05-22 17:14:25,055 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:14:25,056 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"63b9b3f9-5958-41bd-b62e-0ee2112eea7d","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1716412465043,after:undefined,callback:showModal_callback_1716412465043},!0):global.__minium__.delCall(_,l)}","args":["showModal",1716412465043,true]}}
[D 2024-05-22 17:14:25,061 minium.Conn5824 connection#653 __on_message] RECV < {"id":"63b9b3f9-5958-41bd-b62e-0ee2112eea7d","result":{}}
[D 2024-05-22 17:14:25,062 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"70678f34-8c19-464a-ad61-32efd9a9095f","method":"App.addBinding","params":{"name":"showToast_before_1716412465061"}}
[D 2024-05-22 17:14:25,065 minium.Conn5824 connection#653 __on_message] RECV < {"id":"70678f34-8c19-464a-ad61-32efd9a9095f","result":{}}
[D 2024-05-22 17:14:25,066 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"3cc1938a-945b-4d0f-8150-4a2c05a7fad4","method":"App.addBinding","params":{"name":"showToast_callback_1716412465061"}}
[D 2024-05-22 17:14:25,069 minium.Conn5824 connection#653 __on_message] RECV < {"id":"3cc1938a-945b-4d0f-8150-4a2c05a7fad4","result":{}}
[D 2024-05-22 17:14:25,070 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-05-22 17:14:25,071 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"8f418486-9c2d-4c46-8452-59d4bcf70909","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1716412465061,after:undefined,callback:showToast_callback_1716412465061},!0):global.__minium__.delCall(_,l)}","args":["showToast",1716412465061,true]}}
[D 2024-05-22 17:14:25,075 minium.Conn5824 connection#653 __on_message] RECV < {"id":"8f418486-9c2d-4c46-8452-59d4bcf70909","result":{}}
[D 2024-05-22 17:14:25,076 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"c56d085a-37c3-4df6-9818-c0dd1ab1b277","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-05-22 17:14:25,081 minium.Conn5824 connection#653 __on_message] RECV < {"id":"c56d085a-37c3-4df6-9818-c0dd1ab1b277","result":{"result":{"path":"pages/index/index","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-05-22 17:14:25,082 minium app#731 relaunch] ReLaunch: /pages/index/index
[D 2024-05-22 17:14:25,083 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"d8e787d2-fe13-4df1-ae91-3b4421cdf0f8","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:14:25,088 minium.Conn5824 connection#653 __on_message] RECV < {"id":"d8e787d2-fe13-4df1-ae91-3b4421cdf0f8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
[D 2024-05-22 17:14:25,089 minium.Conn5824 connection#417 _safely_send] ASYNC_SEND > {"id":"560920f5-0f3c-4c4f-82a7-0933b3ed04d7","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:14:25,159 minium.Conn5824 connection#653 __on_message] RECV < {"id":"560920f5-0f3c-4c4f-82a7-0933b3ed04d7","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-05-22 17:14:25,159 minium.Conn5824 connection#697 _handle_async_msg] received async msg: 560920f5-0f3c-4c4f-82a7-0933b3ed04d7
[D 2024-05-22 17:14:25,498 minium.Conn5824 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/index/index","query":{},"openType":"reLaunch","__ts__":1716412465447},1716412465449]}}
[I 2024-05-22 17:14:25,499 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/index/index', 'query': {}, 'openType': 'reLaunch', '__ts__': 1716412465447}, 1716412465449]}
[D 2024-05-22 17:14:25,501 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"3abdec1a-de1d-48a7-877b-2d6df304b8cc","method":"Tool.getInfo","params":{}}
[D 2024-05-22 17:14:25,507 minium.Conn5824 connection#653 __on_message] RECV < {"id":"3abdec1a-de1d-48a7-877b-2d6df304b8cc","result":{"version":"1.06.2308310","SDKVersion":"3.4.3"}}
[D 2024-05-22 17:14:25,509 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"1ae9b9af-d7e0-4666-86cc-7898473a2539","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-05-22 17:14:25,517 minium.Conn5824 connection#653 __on_message] RECV < {"id":"1ae9b9af-d7e0-4666-86cc-7898473a2539","result":{"result":false}}
[D 2024-05-22 17:14:25,518 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-05-22 17:14:25,519 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"b0232bf1-d323-420c-98e3-e3b776dd964e","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-05-22 17:14:25,534 minium.Conn5824 connection#653 __on_message] RECV < {"id":"b0232bf1-d323-420c-98e3-e3b776dd964e","result":{}}
[D 2024-05-22 17:14:25,535 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"d04a5245-d274-4229-8376-2b1a7ad35c91","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-05-22 17:14:26,748 minium.Conn5824 connection#653 __on_message] RECV < {"id":"d04a5245-d274-4229-8376-2b1a7ad35c91","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-05-22 17:14:26,750 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"4139736a-66e2-45da-8b92-948e317413b1","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-05-22 17:14:26,753 minium.Conn5824 connection#653 __on_message] RECV < {"id":"4139736a-66e2-45da-8b92-948e317413b1","result":{}}
[D 2024-05-22 17:14:26,754 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"e1e48723-6c9c-4667-b8e8-51e7334d275f","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-05-22 17:14:26,758 minium.Conn5824 connection#653 __on_message] RECV < {"id":"e1e48723-6c9c-4667-b8e8-51e7334d275f","result":{"result":{"accountInfo":{"appId":"wxc26bf025c84ef3b7","nickname":"axiong3630的接口测试号","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-05-22 17:14:26,759 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"2b3ec6e3-8bac-45f5-92c9-86979fbfc250","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-05-22 17:14:26,763 minium.Conn5824 connection#651 __on_message] RECV < {"id":"2b3ec6e3-8bac-45f5-92c9-86979fbfc250","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"3.4.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":44,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphone...
[I 2024-05-22 17:14:26,764 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-05-22 17:14:26,765 minium minitest#370 _miniSetUp] =========Current case: test_work=========
[I 2024-05-22 17:14:26,765 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test7_check_if_id_works.tests, case info: baseTest.test_work
[I 2024-05-22 17:14:26,765 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-05-22 17:14:26,766 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-05-22 17:14:26,766 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-05-22 17:14:26,766 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-05-22 17:14:26,767 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-05-22 17:14:26,767 minium.Conn5824 connection#417 _safely_send] ASYNC_SEND > {"id":"1e1261ce-86aa-4064-843c-5dd3da61cab0","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/index/index"}]}}
[D 2024-05-22 17:14:26,811 minium.Conn5824 connection#653 __on_message] RECV < {"id":"1e1261ce-86aa-4064-843c-5dd3da61cab0","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-05-22 17:14:26,811 minium.Conn5824 connection#697 _handle_async_msg] received async msg: 1e1261ce-86aa-4064-843c-5dd3da61cab0
[I 2024-05-22 17:14:26,813 minium minitest#717 capture] capture setup.png
[I 2024-05-22 17:14:26,813 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:14:26,813 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"941b100f-239b-4892-80ce-a9b222bb9821","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:14:26,944 minium.Conn5824 connection#651 __on_message] RECV < {"id":"941b100f-239b-4892-80ce-a9b222bb9821","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3Xd8FGX+B/DvlN3Z3fQGAUITBFFQFAuIUUCEs53YEKzIDxALTfEQFBQEREUURJRmA/RANKBwGikB7gAPpVchICUklPRs3ym/PwbHvSRkU5k8yef9yh9bZme+O5nP1Gee5bSdkQQAbOLNLgAAKg8BBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMAwBBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMAwBBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMEysyoc1EgJqmE+JUjSrollVzWq8xXN+gfMLnF8SCiy8iyOlyqUCQHGVDLCiWd1yQ68Sq8n5quzU1GzSVE3xGANwgp04nu...
[I 2024-05-22 17:14:26,945 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:14:26,945 minium minitest#424 _miniSetUp] =========case: test_work start=========
[D 2024-05-22 17:14:26,946 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"e8880ce7-f281-4861-bc2f-eb358cadf867","method":"App.getCurrentPage","params":{}}
[D 2024-05-22 17:14:26,949 minium.Conn5824 connection#653 __on_message] RECV < {"id":"e8880ce7-f281-4861-bc2f-eb358cadf867","result":{"pageId":2,"path":"pages/index/index","query":{}}}
[I 2024-05-22 17:14:26,949 minium app#689 navigate_to] NavigateTo: Page(id=2, path=/pages/index/index, query={})
[D 2024-05-22 17:14:36,951 minium minitest#620 _miniTearDown] =========Current case Down: test_work=========
[I 2024-05-22 17:14:36,952 minium minitest#717 capture] capture teardown.png
[I 2024-05-22 17:14:36,952 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-05-22 17:14:36,953 minium.Conn5824 connection#417 _safely_send] SEND > {"id":"3c63d7a5-e52c-45e1-98f9-ea8ed42c7f89","method":"App.captureScreenshot","params":{}}
[D 2024-05-22 17:14:37,023 minium.Conn5824 connection#651 __on_message] RECV < {"id":"3c63d7a5-e52c-45e1-98f9-ea8ed42c7f89","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAIICAIAAACQEaBhAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3Xd8FGX+B/DvlN3Z3fQGAUITBFFQFAuIUUCEs53YEKzIDxALTfEQFBQEREUURJRmA/RANKBwGikB7gAPpVchICUklPRs3ym/PwbHvSRkU5k8yef9yh9bZme+O5nP1Gee5bSdkQQAbOLNLgAAKg8BBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMAwBBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMAwBBmAYAgzAMAQYgGEIMADDEGAAhiHAAAxDgAEYhgADMEysyoc1EgJqmE+JUjSrollVzWq8xXN+gfMLnF8SCiy8iyOlyqUCQHGVDLCiWd1yQ68Sq8n5quzU1GzSVE3xGANwgp04nu...
[I 2024-05-22 17:14:37,024 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-05-22 17:14:37,024 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-05-22 17:14:37,024 minium basenative#29 wrapper] call BaseNative.get_start_up end
[D 2024-05-22 17:14:37,028 minium.Conn5824 connection#417 _safely_send] ASYNC_SEND > {"id":"711356c6-2322-46b9-9478-da77447f86cb","method":"Tool.close","params":{}}
[D 2024-05-22 17:14:37,030 minium.Conn5824 connection#653 __on_message] RECV < {"id":"711356c6-2322-46b9-9478-da77447f86cb","result":{}}
[I 2024-05-22 17:14:37,030 minium.Conn5824 connection#697 _handle_async_msg] received async msg: 711356c6-2322-46b9-9478-da77447f86cb, maybe command ignore response
[E 2024-05-22 17:14:37,051 minium.Conn5824 connection#632 _on_error] Connection to remote host was lost.
[I 2024-05-22 17:14:37,051 minium.Conn5824 connection#697 _handle_async_msg] received async msg: a7d1a8fa-88fc-437e-9030-a24d266beb7d
[I 2024-05-22 17:14:37,052 minium.Conn5824 connection#367 _ws_run_forever] websocket run forever shutdown
