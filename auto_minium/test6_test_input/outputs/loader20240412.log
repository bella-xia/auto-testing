[I 2024-04-12 10:58:58,172 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-04-12 10:58:58,176 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-04-12 10:58:58,176 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-04-12 10:58:58,177 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-04-12 10:58:58,178 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/wechat-weapp-movie" --auto-port 9420
[I 2024-04-12 10:59:02,658 minium minium_object#101 _do_shell] err:
- initialize

✔ IDE server has started, listening on http://127.0.0.1:55535
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
✔ Using AppID: wx02da6f6037f28c99
✔ auto

[I 2024-04-12 10:59:02,658 minium minium_object#102 _do_shell] out:

[I 2024-04-12 10:59:07,662 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-04-12 10:59:08,962 minium.Conn2736 connection#342 _connect] connect to WebChatTools successfully
[D 2024-04-12 10:59:08,963 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"f90f4e9a-75f4-463d-8306-f30b73b434c6","method":"Tool.getInfo","params":{}}
[D 2024-04-12 10:59:09,501 minium.Conn2736 connection#653 __on_message] RECV < {"id":"f90f4e9a-75f4-463d-8306-f30b73b434c6","result":{"version":"1.06.2308310","SDKVersion":"2.25.3"}}
[D 2024-04-12 10:59:09,502 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"0b2ca5dd-1ea4-4dad-b7a5-bdd77f345ea4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-04-12 10:59:20,530 minium.Conn2736 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-04-12 10:59:20,548 minium.Conn2736 connection#651 __on_message] RECV < {"id":"0b2ca5dd-1ea4-4dad-b7a5-bdd77f345ea4","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.25.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":54,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[D 2024-04-12 10:59:20,549 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-04-12 10:59:20,550 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"d4bf56e8-b6f3-4e8a-9d11-3faa994e09f8","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-04-12 10:59:20,576 minium.Conn2736 connection#653 __on_message] RECV < {"id":"d4bf56e8-b6f3-4e8a-9d11-3faa994e09f8","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-04-12 10:59:20,577 minium.Conn2736 connection#283 remove] remove key which is not in observers
[D 2024-04-12 10:59:20,578 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"27316bf4-b59d-4987-9990-7ac867fc4b5d","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-04-12 10:59:20,596 minium.Conn2736 connection#653 __on_message] RECV < {"id":"27316bf4-b59d-4987-9990-7ac867fc4b5d","result":{}}
[D 2024-04-12 10:59:20,597 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"8ea332d2-423e-4a56-bd26-96f06231692c","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-04-12 10:59:20,606 minium.Conn2736 connection#653 __on_message] RECV < {"id":"8ea332d2-423e-4a56-bd26-96f06231692c","result":{}}
[D 2024-04-12 10:59:20,607 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-04-12 10:59:20,609 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"b354d4c4-558b-465c-9cb7-1998fb327f51","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-04-12 10:59:20,618 minium.Conn2736 connection#653 __on_message] RECV < {"id":"b354d4c4-558b-465c-9cb7-1998fb327f51","result":{}}
[D 2024-04-12 10:59:20,619 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-04-12 10:59:20,620 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"3cb5a703-ad50-4e86-b90b-2239a4903a71","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-04-12 10:59:20,657 minium.Conn2736 connection#653 __on_message] RECV < {"id":"3cb5a703-ad50-4e86-b90b-2239a4903a71","result":{}}
[D 2024-04-12 10:59:20,659 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-04-12 10:59:20,659 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"7215b36b-36b4-40fa-b0bb-de6dc375c79a","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-04-12 10:59:20,678 minium.Conn2736 connection#653 __on_message] RECV < {"id":"7215b36b-36b4-40fa-b0bb-de6dc375c79a","result":{"result":true}}
[D 2024-04-12 10:59:20,679 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"0ee1d787-7669-4c7c-9e1d-4e0d4d173a7d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-04-12 10:59:20,702 minium.Conn2736 connection#651 __on_message] RECV < {"id":"0ee1d787-7669-4c7c-9e1d-4e0d4d173a7d","result":{"result":{"pages":["pages/popular/popular","pages/coming/coming","pages/top/top","pages/search/search","pages/filmDetail/filmDetail","pages/personDetail/personDetail","pages/searchResult/searchResult","pages/my/my","pages/favorite/favorite","pages/history/history","pages/shake/shake","pages/gallery/gallery","pages/setting/setting","pages/skin/skin","pages/personInfo/personInfo","pages/editPersonInfo/editPersonInfo","pages/systemInfo/systemInfo","page...
[D 2024-04-12 10:59:20,703 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"8549c683-8b9f-4510-9569-48ee66039f5e","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-04-12 10:59:20,718 minium.Conn2736 connection#653 __on_message] RECV < {"id":"8549c683-8b9f-4510-9569-48ee66039f5e","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2024-04-12 10:59:20,720 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"c3205549-e18e-49fb-9d58-fef80ecef044","method":"App.addBinding","params":{"name":"showModal_before_1712933960719"}}
[D 2024-04-12 10:59:20,726 minium.Conn2736 connection#653 __on_message] RECV < {"id":"c3205549-e18e-49fb-9d58-fef80ecef044","result":{}}
[D 2024-04-12 10:59:20,727 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"6bd08e79-a07c-48d7-a39d-32bea68f7e13","method":"App.addBinding","params":{"name":"showModal_callback_1712933960719"}}
[D 2024-04-12 10:59:20,732 minium.Conn2736 connection#653 __on_message] RECV < {"id":"6bd08e79-a07c-48d7-a39d-32bea68f7e13","result":{}}
[D 2024-04-12 10:59:20,732 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-04-12 10:59:20,733 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"d9cf542f-3b57-4003-95b9-8b004c9b3508","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1712933960719,after:undefined,callback:showModal_callback_1712933960719},!0):global.__minium__.delCall(_,l)}","args":["showModal",1712933960719,true]}}
[D 2024-04-12 10:59:20,743 minium.Conn2736 connection#653 __on_message] RECV < {"id":"d9cf542f-3b57-4003-95b9-8b004c9b3508","result":{}}
[D 2024-04-12 10:59:20,745 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"313ade5e-e14a-40be-b48e-5816b3a3d729","method":"App.addBinding","params":{"name":"showToast_before_1712933960744"}}
[D 2024-04-12 10:59:20,751 minium.Conn2736 connection#653 __on_message] RECV < {"id":"313ade5e-e14a-40be-b48e-5816b3a3d729","result":{}}
[D 2024-04-12 10:59:20,752 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"72fe8462-6022-400f-bae6-d696854a0376","method":"App.addBinding","params":{"name":"showToast_callback_1712933960744"}}
[D 2024-04-12 10:59:20,764 minium.Conn2736 connection#653 __on_message] RECV < {"id":"72fe8462-6022-400f-bae6-d696854a0376","result":{}}
[D 2024-04-12 10:59:20,765 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-04-12 10:59:20,767 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"f6c62df8-3907-4eca-b0f7-be3be11d1109","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1712933960744,after:undefined,callback:showToast_callback_1712933960744},!0):global.__minium__.delCall(_,l)}","args":["showToast",1712933960744,true]}}
[D 2024-04-12 10:59:20,777 minium.Conn2736 connection#653 __on_message] RECV < {"id":"f6c62df8-3907-4eca-b0f7-be3be11d1109","result":{}}
[D 2024-04-12 10:59:20,780 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"ee68ecd1-3a00-42ed-a7f8-af042d23e853","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-04-12 10:59:20,789 minium.Conn2736 connection#653 __on_message] RECV < {"id":"ee68ecd1-3a00-42ed-a7f8-af042d23e853","result":{"result":{"path":"pages/popular/popular","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-04-12 10:59:20,791 minium app#731 relaunch] ReLaunch: /pages/popular/popular
[D 2024-04-12 10:59:20,792 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"24bb2d92-950a-469f-9648-e739a428afff","method":"App.getCurrentPage","params":{}}
[D 2024-04-12 10:59:20,797 minium.Conn2736 connection#653 __on_message] RECV < {"id":"24bb2d92-950a-469f-9648-e739a428afff","result":{"pageId":1,"path":"pages/popular/popular","query":{}}}
[D 2024-04-12 10:59:20,799 minium.Conn2736 connection#417 _safely_send] ASYNC_SEND > {"id":"14a39531-2714-447a-b9c4-655ad1e614aa","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/popular/popular"}]}}
[D 2024-04-12 10:59:20,881 minium.Conn2736 connection#653 __on_message] RECV < {"id":"14a39531-2714-447a-b9c4-655ad1e614aa","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-04-12 10:59:20,882 minium.Conn2736 connection#697 _handle_async_msg] received async msg: 14a39531-2714-447a-b9c4-655ad1e614aa
[D 2024-04-12 10:59:21,715 minium.Conn2736 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/popular/popular","query":{},"openType":"reLaunch","__ts__":1712933961635},1712933961637]}}
[I 2024-04-12 10:59:21,716 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/popular/popular', 'query': {}, 'openType': 'reLaunch', '__ts__': 1712933961635}, 1712933961637]}
[D 2024-04-12 10:59:21,719 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"e249d064-0a80-4978-8c6b-facafd65360e","method":"Tool.getInfo","params":{}}
[D 2024-04-12 10:59:21,736 minium.Conn2736 connection#653 __on_message] RECV < {"id":"e249d064-0a80-4978-8c6b-facafd65360e","result":{"version":"1.06.2308310","SDKVersion":"2.25.3"}}
[D 2024-04-12 10:59:21,739 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"610465c2-2205-44f4-830a-f61ef5df7169","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-04-12 10:59:21,766 minium.Conn2736 connection#653 __on_message] RECV < {"id":"610465c2-2205-44f4-830a-f61ef5df7169","result":{"result":false}}
[D 2024-04-12 10:59:21,768 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-04-12 10:59:21,769 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"83020a3b-fa6b-4fca-a2f2-f3713f2548c8","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-04-12 10:59:21,786 minium.Conn2736 connection#653 __on_message] RECV < {"id":"83020a3b-fa6b-4fca-a2f2-f3713f2548c8","result":{}}
[D 2024-04-12 10:59:21,787 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"e2a9b6b2-3c04-4157-85d7-fee0461283e9","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-04-12 10:59:22,371 minium.Conn2736 connection#653 __on_message] RECV < {"id":"e2a9b6b2-3c04-4157-85d7-fee0461283e9","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-04-12 10:59:22,373 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"1bbbdfe2-0503-4c3e-bb96-ab7d6abb12f2","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-04-12 10:59:22,379 minium.Conn2736 connection#653 __on_message] RECV < {"id":"1bbbdfe2-0503-4c3e-bb96-ab7d6abb12f2","result":{}}
[D 2024-04-12 10:59:22,381 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"c13fda8e-cd71-4d69-aee3-b80237980168","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-04-12 10:59:22,392 minium.Conn2736 connection#653 __on_message] RECV < {"id":"c13fda8e-cd71-4d69-aee3-b80237980168","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-04-12 10:59:22,393 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"8150f3b5-a4a0-4397-a535-9d7d9cdd1993","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-04-12 10:59:22,404 minium.Conn2736 connection#651 __on_message] RECV < {"id":"8150f3b5-a4a0-4397-a535-9d7d9cdd1993","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.25.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":54,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[I 2024-04-12 10:59:22,405 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-04-12 10:59:22,408 minium minitest#370 _miniSetUp] =========Current case: test_make_and_check_form=========
[I 2024-04-12 10:59:22,409 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test6_test_input.minium_test, case info: TestInput.test_make_and_check_form
[I 2024-04-12 10:59:22,410 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-04-12 10:59:22,410 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-04-12 10:59:22,411 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-04-12 10:59:22,411 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-04-12 10:59:22,412 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-04-12 10:59:22,414 minium.Conn2736 connection#417 _safely_send] ASYNC_SEND > {"id":"5bd21686-33ec-4510-9e87-22945bb77549","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/popular/popular"}]}}
[D 2024-04-12 10:59:22,496 minium.Conn2736 connection#653 __on_message] RECV < {"id":"5bd21686-33ec-4510-9e87-22945bb77549","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-04-12 10:59:22,497 minium.Conn2736 connection#697 _handle_async_msg] received async msg: 5bd21686-33ec-4510-9e87-22945bb77549
[I 2024-04-12 10:59:22,499 minium minitest#717 capture] capture setup.png
[I 2024-04-12 10:59:22,500 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-04-12 10:59:22,501 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"222fe97a-05d3-42e1-827e-021d12776751","method":"App.captureScreenshot","params":{}}
[D 2024-04-12 10:59:22,625 minium.Conn2736 connection#651 __on_message] RECV < {"id":"222fe97a-05d3-42e1-827e-021d12776751","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAENhJREFUeJzt3X9MVfUfx/EPcIHLRVFkEQqCiD8moa5hWkrMpmjYTHTIhs3JUjb9S5e2zDRNK3NmNqmGy7nVyhbGJppSUyordW6ZM0vwR6AoKSJMEBCQH98/zsaYlmFfz728Ls/HH+56Pef6Prrn7j3n3vvBp6OjwwDQ5OvpAQD8dwQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEET...
[I 2024-04-12 10:59:22,627 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-04-12 10:59:22,628 minium minitest#424 _miniSetUp] =========case: test_make_and_check_form start=========
[I 2024-04-12 10:59:22,628 minium app#689 navigate_to] NavigateTo: /pages/editPersonInfo/editPersonInfo
[D 2024-04-12 10:59:22,629 minium.Conn2736 connection#417 _safely_send] ASYNC_SEND > {"id":"d0eb193e-b534-47b5-9908-e2ef448163f8","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/editPersonInfo/editPersonInfo"}]}}
[D 2024-04-12 10:59:22,776 minium.Conn2736 connection#653 __on_message] RECV < {"id":"d0eb193e-b534-47b5-9908-e2ef448163f8","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-04-12 10:59:22,777 minium.Conn2736 connection#697 _handle_async_msg] received async msg: d0eb193e-b534-47b5-9908-e2ef448163f8
[D 2024-04-12 10:59:23,422 minium.Conn2736 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/editPersonInfo/editPersonInfo","query":{},"openType":"navigateTo","__ts__":1712933963374},1712933963375]}}
[I 2024-04-12 10:59:23,425 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/editPersonInfo/editPersonInfo', 'query': {}, 'openType': 'navigateTo', '__ts__': 1712933963374}, 1712933963375]}
[I 2024-04-12 10:59:23,426 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-04-12 10:59:23,428 minium.Conn2736 connection#417 _safely_send] SEND > {"id":"0412a53f-f016-4932-8946-52b60108fb8a","method":"Page.getElements","params":{"selector":"form","pageId":4}}
[D 2024-04-12 10:59:23,468 minium.Conn2736 connection#653 __on_message] RECV < {"id":"0412a53f-f016-4932-8946-52b60108fb8a","result":{"elements":[{"elementId":"92032d53-7450-4f7f-b620-14b5aa93756d","tagName":"form"}]}}
[I 2024-04-12 10:59:23,469 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x7fc5389a8640>]
[I 2024-04-12 10:59:23,470 minium element#480 _get_elements_by_css] try to get elements: <built-in function input>
[D 2024-04-12 10:59:23,470 minium.Conn2736 connection#417 _safely_send] ASYNC_SEND > {"id":"470db0a0-85bb-4b3d-8d60-20ac682b30d3","method":"Tool.close","params":{}}
[D 2024-04-12 10:59:23,474 minium.Conn2736 connection#653 __on_message] RECV < {"id":"470db0a0-85bb-4b3d-8d60-20ac682b30d3","result":{}}
[I 2024-04-12 10:59:23,475 minium.Conn2736 connection#697 _handle_async_msg] received async msg: 470db0a0-85bb-4b3d-8d60-20ac682b30d3, maybe command ignore response
[E 2024-04-12 10:59:23,502 minium.Conn2736 connection#632 _on_error] Connection to remote host was lost.
[I 2024-04-12 10:59:23,503 minium.Conn2736 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-04-12 10:59:24,472 minium minitest#620 _miniTearDown] =========Current case Down: test_make_and_check_form=========
[I 2024-04-12 10:59:24,473 minium minitest#717 capture] capture teardown.png
[I 2024-04-12 10:59:24,474 minium basenative#25 wrapper] call IdeNative.screen_shot
[I 2024-04-12 10:59:24,474 minium basenative#29 wrapper] call IdeNative.screen_shot end
[W 2024-04-12 10:59:24,475 minium minitest#728 capture] /home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs/20240412105858/test_make_and_check_form/20240412105922406674/images/teardown.png not exists
[I 2024-04-12 10:59:24,476 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-04-12 10:59:24,476 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-04-12 10:59:24,483 minium assertbase#349 _get_stack_info] <bound method TestInput.test_make_and_check_form of <minium_test.TestInput testMethod=test_make_and_check_form>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test6_test_input/minium_test.py", line 89, in test_make_and_check_form
    self.try_form_through_trigger(form, "string")
  File "/home/bella-xia/auto-testing/auto_minium/test6_test_input/minium_test.py", line 38, in try_form_through_trigger
    inputElements = self.find_all_inputs_from_component(form_ele)
  File "/home/bella-xia/auto-testing/auto_minium/test6_test_input/minium_test.py", line 34, in find_all_inputs_from_component
    all_inputs = component.get_elements(input)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/element.py", line 394, in get_elements
    return self._get_elements_by_css(selector, max_timeout, index=index)
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/element.py", line 481, in _get_elements_by_css
    _selector_list = selector.split(">>>")
AttributeError: 'builtin_function_or_method' object has no attribute 'split'
[W 2024-04-12 10:59:24,484 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test6_test_input', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/wechat-weapp-movie', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240412105858', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs/20240412105858/test_make_and_check_form/20240412105922406674'}
[W 2024-04-12 10:59:24,485 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-04-12 10:59:24,485 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7fc539b77820>
[I 2024-04-12 11:03:01,999 minium minitest#173 init_miniprogram] start init miniprogram
[I 2024-04-12 11:03:02,001 minium basenative#25 wrapper] call IdeNative.start_wechat
[I 2024-04-12 11:03:02,001 minium basenative#29 wrapper] call IdeNative.start_wechat end
[I 2024-04-12 11:03:02,001 minium wx_minium#583 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2024-04-12 11:03:02,001 minium minium_object#83 _do_shell] de shell: /home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli auto --project "/home/bella-xia/auto-testing/data/wechat-weapp-movie" --auto-port 9420
[I 2024-04-12 11:03:10,776 minium minium_object#101 _do_shell] err:
- initialize

✖ IDE may already started at port 55535, trying to connect

✔ IDE server started successfully, listening on http://127.0.0.1:35446
- preparing
- Fetching AppID (wx02da6f6037f28c99) permissions
✔ Using AppID: wx02da6f6037f28c99
✔ auto

[I 2024-04-12 11:03:10,776 minium minium_object#102 _do_shell] out:

[I 2024-04-12 11:03:15,781 minium wx_minium#679 connect_dev_tool] Trying to connect Dev tool ...
[I 2024-04-12 11:03:16,282 minium.Conn3040 connection#342 _connect] connect to WebChatTools successfully
[D 2024-04-12 11:03:16,283 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"6cb751b9-62be-4ef2-8c5b-5bfac3305d22","method":"Tool.getInfo","params":{}}
[D 2024-04-12 11:03:16,296 minium.Conn3040 connection#653 __on_message] RECV < {"id":"6cb751b9-62be-4ef2-8c5b-5bfac3305d22","result":{"version":"1.06.2308310","SDKVersion":"2.25.3"}}
[D 2024-04-12 11:03:16,297 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"39ffd70c-5d65-4881-9487-cd3f1482d209","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-04-12 11:03:22,331 minium.Conn3040 connection#653 __on_message] RECV < {"method":"App.initialized","params":{"from":"devtools"}}
[D 2024-04-12 11:03:22,335 minium.Conn3040 connection#651 __on_message] RECV < {"id":"39ffd70c-5d65-4881-9487-cd3f1482d209","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.25.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":56,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[D 2024-04-12 11:03:22,336 minium app#433 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2024-04-12 11:03:22,337 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"36d7ae33-5d6e-4d4c-9fb7-2c607ec9865c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2024-04-12 11:03:22,341 minium.Conn3040 connection#653 __on_message] RECV < {"id":"36d7ae33-5d6e-4d4c-9fb7-2c607ec9865c","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2024-04-12 11:03:22,342 minium.Conn3040 connection#283 remove] remove key which is not in observers
[D 2024-04-12 11:03:22,342 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"9fb370af-294f-4700-8360-7dc88a5c85a3","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2024-04-12 11:03:22,346 minium.Conn3040 connection#653 __on_message] RECV < {"id":"9fb370af-294f-4700-8360-7dc88a5c85a3","result":{}}
[D 2024-04-12 11:03:22,347 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"b827bc93-92f6-4b80-b612-906e152d0b1d","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2024-04-12 11:03:22,352 minium.Conn3040 connection#653 __on_message] RECV < {"id":"b827bc93-92f6-4b80-b612-906e152d0b1d","result":{}}
[D 2024-04-12 11:03:22,353 minium app#433 _evaluate_js] evaluate js file utils [ALL]
[D 2024-04-12 11:03:22,355 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"9a3175e5-9623-4083-b171-f7b787979a4c","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),c=Object.getOwnPropertyDescriptor(t,r);let l=!1;if(n[r])o[r]&&(l=!0);else{let e,i=!1;c?c.get?(l=!0,e=c.get):(i=!0,e=c.value):e=t[r],e&&(s[r]=i,o[r]=l,n[r]=e)}return l?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),c=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),c?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":return!!new RegExp(e).exec(t);case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(e){for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,e))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2024-04-12 11:03:22,363 minium.Conn3040 connection#653 __on_message] RECV < {"id":"9a3175e5-9623-4083-b171-f7b787979a4c","result":{}}
[D 2024-04-12 11:03:22,364 minium app#433 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2024-04-12 11:03:22,365 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"6e6a3c39-314e-41db-b686-d1fd76840bc9","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);g||(g=global.__minium__.setSrcMethod(n,c));global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2024-04-12 11:03:22,371 minium.Conn3040 connection#653 __on_message] RECV < {"id":"6e6a3c39-314e-41db-b686-d1fd76840bc9","result":{}}
[D 2024-04-12 11:03:22,372 minium app#433 _evaluate_js] evaluate js file requestStack [ALL]
[D 2024-04-12 11:03:22,373 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"7b1d1cd0-73f7-4be3-99cc-246e3f7e4e0b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var n=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(n)?e.get(n).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),r(!0)):s<=0&&(clearInterval(i),r(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,n){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var r,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?r=e.get(s):(r=new Map,e.set(s,r)),r.set(n,Date.now()),t.set(n,{pageId:s,requestMap:r})}},callback:function(a,n){if(!t.has(n))return;const{pageId:r,requestMap:s}=t.get(n);t.delete(n),s.delete(n),0===s.size&&e.delete(r)}},!0),!0}return!1}","args":[]}}
[D 2024-04-12 11:03:22,379 minium.Conn3040 connection#653 __on_message] RECV < {"id":"7b1d1cd0-73f7-4be3-99cc-246e3f7e4e0b","result":{"result":true}}
[D 2024-04-12 11:03:22,380 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"3ca6663f-927c-4ab1-b4d7-d2d7ce3bebec","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2024-04-12 11:03:22,386 minium.Conn3040 connection#651 __on_message] RECV < {"id":"3ca6663f-927c-4ab1-b4d7-d2d7ce3bebec","result":{"result":{"pages":["pages/popular/popular","pages/coming/coming","pages/top/top","pages/search/search","pages/filmDetail/filmDetail","pages/personDetail/personDetail","pages/searchResult/searchResult","pages/my/my","pages/favorite/favorite","pages/history/history","pages/shake/shake","pages/gallery/gallery","pages/setting/setting","pages/skin/skin","pages/personInfo/personInfo","pages/editPersonInfo/editPersonInfo","pages/systemInfo/systemInfo","page...
[D 2024-04-12 11:03:22,387 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"37af6f1c-e2ae-4a79-b271-4b697094cfe7","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2024-04-12 11:03:22,393 minium.Conn3040 connection#653 __on_message] RECV < {"id":"37af6f1c-e2ae-4a79-b271-4b697094cfe7","result":{"result":{"miniProgram":{"appId":"wx02da6f6037f28c99","envVersion":"develop","version":""}}}}
[D 2024-04-12 11:03:22,394 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"6c9d4543-2a45-44aa-b0c6-25b98dc41b00","method":"App.addBinding","params":{"name":"showModal_before_1712934202394"}}
[D 2024-04-12 11:03:22,398 minium.Conn3040 connection#653 __on_message] RECV < {"id":"6c9d4543-2a45-44aa-b0c6-25b98dc41b00","result":{}}
[D 2024-04-12 11:03:22,399 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"7425930c-e2ab-4882-beb4-facabb618664","method":"App.addBinding","params":{"name":"showModal_callback_1712934202394"}}
[D 2024-04-12 11:03:22,402 minium.Conn3040 connection#653 __on_message] RECV < {"id":"7425930c-e2ab-4882-beb4-facabb618664","result":{}}
[D 2024-04-12 11:03:22,403 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-04-12 11:03:22,404 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"91262541-674b-4a58-9e62-0a0beb2700bf","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1712934202394,after:undefined,callback:showModal_callback_1712934202394},!0):global.__minium__.delCall(_,l)}","args":["showModal",1712934202394,true]}}
[D 2024-04-12 11:03:22,408 minium.Conn3040 connection#653 __on_message] RECV < {"id":"91262541-674b-4a58-9e62-0a0beb2700bf","result":{}}
[D 2024-04-12 11:03:22,409 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"c600ba83-905f-4572-a6c1-6d8d8491cdad","method":"App.addBinding","params":{"name":"showToast_before_1712934202409"}}
[D 2024-04-12 11:03:22,414 minium.Conn3040 connection#653 __on_message] RECV < {"id":"c600ba83-905f-4572-a6c1-6d8d8491cdad","result":{}}
[D 2024-04-12 11:03:22,415 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"c74d7dce-24ee-4b82-8a2c-a4daa886f8eb","method":"App.addBinding","params":{"name":"showToast_callback_1712934202409"}}
[D 2024-04-12 11:03:22,418 minium.Conn3040 connection#653 __on_message] RECV < {"id":"c74d7dce-24ee-4b82-8a2c-a4daa886f8eb","result":{}}
[D 2024-04-12 11:03:22,418 minium app#433 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2024-04-12 11:03:22,419 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"87069579-b166-4f95-a165-31cafa60deb7","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1712934202409,after:undefined,callback:showToast_callback_1712934202409},!0):global.__minium__.delCall(_,l)}","args":["showToast",1712934202409,true]}}
[D 2024-04-12 11:03:22,423 minium.Conn3040 connection#653 __on_message] RECV < {"id":"87069579-b166-4f95-a165-31cafa60deb7","result":{}}
[D 2024-04-12 11:03:22,425 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"e1abd5d3-6638-4a9d-8c14-0c3e10f7d4a2","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2024-04-12 11:03:22,430 minium.Conn3040 connection#653 __on_message] RECV < {"id":"e1abd5d3-6638-4a9d-8c14-0c3e10f7d4a2","result":{"result":{"path":"pages/popular/popular","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2024-04-12 11:03:22,431 minium app#731 relaunch] ReLaunch: /pages/popular/popular
[D 2024-04-12 11:03:22,432 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"b5c39e37-2582-49a3-8a58-b0c3d24ac61f","method":"App.getCurrentPage","params":{}}
[D 2024-04-12 11:03:22,437 minium.Conn3040 connection#653 __on_message] RECV < {"id":"b5c39e37-2582-49a3-8a58-b0c3d24ac61f","result":{"pageId":1,"path":"pages/popular/popular","query":{}}}
[D 2024-04-12 11:03:22,439 minium.Conn3040 connection#417 _safely_send] ASYNC_SEND > {"id":"6e800039-f3d0-49b7-a42f-f873425f57a1","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/popular/popular"}]}}
[D 2024-04-12 11:03:22,525 minium.Conn3040 connection#653 __on_message] RECV < {"id":"6e800039-f3d0-49b7-a42f-f873425f57a1","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2024-04-12 11:03:22,525 minium.Conn3040 connection#697 _handle_async_msg] received async msg: 6e800039-f3d0-49b7-a42f-f873425f57a1
[D 2024-04-12 11:03:22,748 minium.Conn3040 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/popular/popular","query":{},"openType":"reLaunch","__ts__":1712934202704},1712934202705]}}
[I 2024-04-12 11:03:22,749 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/popular/popular', 'query': {}, 'openType': 'reLaunch', '__ts__': 1712934202704}, 1712934202705]}
[D 2024-04-12 11:03:22,751 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"ed5efcb1-e157-4572-a81d-2da912262eb6","method":"Tool.getInfo","params":{}}
[D 2024-04-12 11:03:22,758 minium.Conn3040 connection#653 __on_message] RECV < {"id":"ed5efcb1-e157-4572-a81d-2da912262eb6","result":{"version":"1.06.2308310","SDKVersion":"2.25.3"}}
[D 2024-04-12 11:03:22,759 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"c1b78237-ef5b-4884-855d-362fdfe6941e","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2024-04-12 11:03:22,764 minium.Conn3040 connection#653 __on_message] RECV < {"id":"c1b78237-ef5b-4884-855d-362fdfe6941e","result":{"result":false}}
[D 2024-04-12 11:03:22,764 minium app#433 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2024-04-12 11:03:22,765 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"e22c7d1e-4fc0-4ce3-a94e-dba6d72761a7","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2024-04-12 11:03:22,781 minium.Conn3040 connection#653 __on_message] RECV < {"id":"e22c7d1e-4fc0-4ce3-a94e-dba6d72761a7","result":{}}
[D 2024-04-12 11:03:22,782 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"ba283c90-a53c-4fbf-856c-0f356d001756","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2024-04-12 11:03:23,459 minium.Conn3040 connection#653 __on_message] RECV < {"id":"ba283c90-a53c-4fbf-856c-0f356d001756","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2024-04-12 11:03:23,460 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"1a899b82-830e-4a85-9fb8-ed8fe61012fc","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const i=c.search(e);return i?(console.log(\"@@@@rule match\",i),e.__miniumMocked=!0,i.success?new s(i.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):i.fail?new s(void 0,i.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2024-04-12 11:03:23,463 minium.Conn3040 connection#653 __on_message] RECV < {"id":"1a899b82-830e-4a85-9fb8-ed8fe61012fc","result":{}}
[D 2024-04-12 11:03:23,465 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"06814278-a86b-4cbe-98d9-1eb51fc1d78b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2024-04-12 11:03:23,469 minium.Conn3040 connection#653 __on_message] RECV < {"id":"06814278-a86b-4cbe-98d9-1eb51fc1d78b","result":{"result":{"accountInfo":{"appId":"wx02da6f6037f28c99","nickname":"sandbox account of wxid_yalgzp87d9zt12","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2024-04-12 11:03:23,470 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"95994184-ee81-4bd8-8c36-2e13342a0529","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2024-04-12 11:03:23,477 minium.Conn3040 connection#651 __on_message] RECV < {"id":"95994184-ee81-4bd8-8c36-2e13342a0529","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.25.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":56,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"microphon...
[I 2024-04-12 11:03:23,477 minium minitest#189 init_miniprogram] end init miniprogram
[I 2024-04-12 11:03:23,479 minium minitest#370 _miniSetUp] =========Current case: test_make_and_check_form=========
[I 2024-04-12 11:03:23,479 minium minitest#373 _miniSetUp] package info: .home.bella-xia.auto-testing.auto_minium.test6_test_input.minium_test, case info: TestInput.test_make_and_check_form
[I 2024-04-12 11:03:23,479 minium basenative#25 wrapper] call BaseNative.check_connection
[I 2024-04-12 11:03:23,480 minium basenative#29 wrapper] call BaseNative.check_connection end
[I 2024-04-12 11:03:23,480 minium basenative#25 wrapper] call BaseNative.back_to_miniprogram
[I 2024-04-12 11:03:23,480 minium basenative#595 back_to_miniprogram] try back_to_miniprogram 3
[I 2024-04-12 11:03:23,481 minium basenative#29 wrapper] call BaseNative.back_to_miniprogram end
[D 2024-04-12 11:03:23,481 minium.Conn3040 connection#417 _safely_send] ASYNC_SEND > {"id":"93c8408a-965b-4d01-b41c-a11f583f8a0e","method":"App.callWxMethod","params":{"method":"switchTab","args":[{"url":"/pages/popular/popular"}]}}
[D 2024-04-12 11:03:23,536 minium.Conn3040 connection#653 __on_message] RECV < {"id":"93c8408a-965b-4d01-b41c-a11f583f8a0e","result":{"result":{"errMsg":"switchTab:ok"}}}
[I 2024-04-12 11:03:23,537 minium.Conn3040 connection#697 _handle_async_msg] received async msg: 93c8408a-965b-4d01-b41c-a11f583f8a0e
[I 2024-04-12 11:03:23,538 minium minitest#717 capture] capture setup.png
[I 2024-04-12 11:03:23,538 minium basenative#25 wrapper] call IdeNative.screen_shot
[D 2024-04-12 11:03:23,539 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"a3d88c5e-8180-41ee-9584-2faf8c120e93","method":"App.captureScreenshot","params":{}}
[D 2024-04-12 11:03:23,647 minium.Conn3040 connection#651 __on_message] RECV < {"id":"a3d88c5e-8180-41ee-9584-2faf8c120e93","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAUAAAAHICAIAAACwEaRIAAAAAXNSR0IArs4c6QAAENNJREFUeJzt3X9MVfUfx/EPeL1cLgoSCzHIq15/JCKuaVpKLIdk2pzkkIblZKlLW5tr2jLSWZqZU7O0GqZr1ZZtOJpYgk2pXKlzy5xmgj9S0VARcYKA/Ob7x9kY075+sa/nXl7X5+MPd72ec31f3NNzf53PDWprazMANAX7ewAA/x4BA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8IIGBBGwIAwAgaEETAgjIABYQ...
[I 2024-04-12 11:03:23,648 minium basenative#29 wrapper] call IdeNative.screen_shot end
[I 2024-04-12 11:03:23,649 minium minitest#424 _miniSetUp] =========case: test_make_and_check_form start=========
[I 2024-04-12 11:03:23,649 minium app#689 navigate_to] NavigateTo: /pages/editPersonInfo/editPersonInfo
[D 2024-04-12 11:03:23,650 minium.Conn3040 connection#417 _safely_send] ASYNC_SEND > {"id":"444aeb01-b6a1-4832-85ff-1347036a1ac2","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/editPersonInfo/editPersonInfo"}]}}
[D 2024-04-12 11:03:23,720 minium.Conn3040 connection#653 __on_message] RECV < {"id":"444aeb01-b6a1-4832-85ff-1347036a1ac2","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
[I 2024-04-12 11:03:23,721 minium.Conn3040 connection#697 _handle_async_msg] received async msg: 444aeb01-b6a1-4832-85ff-1347036a1ac2
[D 2024-04-12 11:03:24,167 minium.Conn3040 connection#653 __on_message] RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/editPersonInfo/editPersonInfo","query":{},"openType":"navigateTo","__ts__":1712934204148},1712934204149]}}
[I 2024-04-12 11:03:24,168 minium app#960 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/editPersonInfo/editPersonInfo', 'query': {}, 'openType': 'navigateTo', '__ts__': 1712934204148}, 1712934204149]}
[I 2024-04-12 11:03:24,169 minium page#557 _get_elements_by_css] try to get elements: form
[D 2024-04-12 11:03:24,171 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"8b8b0dcb-f3a2-44f4-ae00-2e525f4ffc66","method":"Page.getElements","params":{"selector":"form","pageId":4}}
[D 2024-04-12 11:03:24,206 minium.Conn3040 connection#653 __on_message] RECV < {"id":"8b8b0dcb-f3a2-44f4-ae00-2e525f4ffc66","result":{"elements":[{"elementId":"d22fe692-50da-4a67-bd30-13e3afc6c31e","tagName":"form"}]}}
[I 2024-04-12 11:03:24,208 minium page#564 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x7fa04c5143a0>]
[I 2024-04-12 11:03:24,209 minium element#480 _get_elements_by_css] try to get elements: input
[D 2024-04-12 11:03:24,209 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"d345156e-9002-4123-9f7a-3bd9a8729e50","method":"Element.getElements","params":{"selector":"input","elementId":"d22fe692-50da-4a67-bd30-13e3afc6c31e","pageId":4}}
[D 2024-04-12 11:03:24,224 minium.Conn3040 connection#651 __on_message] RECV < {"id":"d345156e-9002-4123-9f7a-3bd9a8729e50","result":{"elements":[{"elementId":"a7e9832f-4bd9-4bad-8fb9-26b0d8ce71bc","tagName":"input"},{"elementId":"09e4ce76-00b4-45d4-9d3a-8c75a779c4ad","tagName":"input"},{"elementId":"082e1afc-2f17-4333-95ce-4b751de6bbea","tagName":"input"},{"elementId":"ea95e4f1-29d5-4834-babe-04b472b8a06d","tagName":"input"},{"elementId":"947c1fdc-2459-48a0-aa8e-27a5b0208dbd","tagName":"input"},{"elementId":"72f44968-f507-4ced-bc69-04843afeaf45","tagName":"input"},{"elementId":"b9...
[D 2024-04-12 11:03:24,225 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"70da227f-d1e7-40f3-908c-ade47146ff5c","method":"Element.getProperties","params":{"names":["node_id"],"elementId":"d22fe692-50da-4a67-bd30-13e3afc6c31e","pageId":4}}
[D 2024-04-12 11:03:24,236 minium.Conn3040 connection#653 __on_message] RECV < {"id":"70da227f-d1e7-40f3-908c-ade47146ff5c","result":{"properties":[null]}}
[D 2024-04-12 11:03:24,237 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"89d75dac-c0dd-4434-b982-bc24f8630e82","method":"Element.getAttributes","params":{"names":["node_id"],"elementId":"d22fe692-50da-4a67-bd30-13e3afc6c31e","pageId":4}}
[D 2024-04-12 11:03:24,249 minium.Conn3040 connection#653 __on_message] RECV < {"id":"89d75dac-c0dd-4434-b982-bc24f8630e82","result":{"attributes":[null]}}
[I 2024-04-12 11:03:24,250 minium element#487 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c514400>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c514670>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5144c0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c514520>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5143d0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5145e0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5146d0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5146a0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c5142b0>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c514700>, <minium.miniprogram.base_driver.element.FormElement object at 0x7fa04c514370>]
[D 2024-04-12 11:03:24,251 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"665b6743-0dd5-4a25-945b-4b6cb3aaaca2","method":"Element.getProperties","params":{"names":["property"],"elementId":"a7e9832f-4bd9-4bad-8fb9-26b0d8ce71bc","pageId":4}}
[D 2024-04-12 11:03:24,265 minium.Conn3040 connection#653 __on_message] RECV < {"id":"665b6743-0dd5-4a25-945b-4b6cb3aaaca2","result":{"properties":[null]}}
[D 2024-04-12 11:03:24,266 minium.Conn3040 connection#417 _safely_send] SEND > {"id":"76e9a1ab-1687-4f5f-8421-9a7ac70c770c","method":"Element.getAttributes","params":{"names":["property"],"elementId":"a7e9832f-4bd9-4bad-8fb9-26b0d8ce71bc","pageId":4}}
[D 2024-04-12 11:03:24,295 minium.Conn3040 connection#653 __on_message] RECV < {"id":"76e9a1ab-1687-4f5f-8421-9a7ac70c770c","result":{"attributes":[null]}}
[D 2024-04-12 11:03:24,297 minium.Conn3040 connection#417 _safely_send] ASYNC_SEND > {"id":"f947da6e-5d15-4cc0-86e8-7c6ebd70baab","method":"Tool.close","params":{}}
[D 2024-04-12 11:03:24,300 minium.Conn3040 connection#653 __on_message] RECV < {"id":"f947da6e-5d15-4cc0-86e8-7c6ebd70baab","result":{}}
[I 2024-04-12 11:03:24,301 minium.Conn3040 connection#697 _handle_async_msg] received async msg: f947da6e-5d15-4cc0-86e8-7c6ebd70baab, maybe command ignore response
[E 2024-04-12 11:03:24,322 minium.Conn3040 connection#632 _on_error] Connection to remote host was lost.
[I 2024-04-12 11:03:24,323 minium.Conn3040 connection#367 _ws_run_forever] websocket run forever shutdown
[D 2024-04-12 11:03:25,299 minium minitest#620 _miniTearDown] =========Current case Down: test_make_and_check_form=========
[I 2024-04-12 11:03:25,300 minium minitest#717 capture] capture teardown.png
[I 2024-04-12 11:03:25,300 minium basenative#25 wrapper] call IdeNative.screen_shot
[I 2024-04-12 11:03:25,300 minium basenative#29 wrapper] call IdeNative.screen_shot end
[W 2024-04-12 11:03:25,301 minium minitest#728 capture] /home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs/20240412110301/test_make_and_check_form/20240412110323478239/images/teardown.png not exists
[I 2024-04-12 11:03:25,301 minium basenative#25 wrapper] call BaseNative.get_start_up
[I 2024-04-12 11:03:25,301 minium basenative#29 wrapper] call BaseNative.get_start_up end
[E 2024-04-12 11:03:25,306 minium assertbase#349 _get_stack_info] <bound method TestInput.test_make_and_check_form of <minium_test.TestInput testMethod=test_make_and_check_form>>
Traceback (most recent call last):
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 265, in testPartExecutor
    yield
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/framework/libs/unittest/case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "/usr/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/home/bella-xia/auto-testing/auto_minium/test6_test_input/minium_test.py", line 89, in test_make_and_check_form
    self.try_form_through_trigger(form, "string")
  File "/home/bella-xia/auto-testing/auto_minium/test6_test_input/minium_test.py", line 41, in try_form_through_trigger
    inputArrays[inputElement.property("name")] = text;
  File "/home/bella-xia/.local/lib/python3.10/site-packages/minium/miniprogram/base_driver/element.py", line 92, in __getattribute__
    return super(BaseElement, self).__getattribute__(item)
AttributeError: 'FormElement' object has no attribute 'property'
[W 2024-04-12 11:03:25,306 minium assertbase#331 _log_info_when_error] config: {'debug': False, 'base_dir': '/home/bella-xia/auto-testing/auto_minium/test6_test_input', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': '/home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': '/home/bella-xia/auto-testing/data/wechat-weapp-movie', 'dev_tool_path': '/home/bella-xia/wechat-web-devtools-linux/bin/wechat-devtools-cli', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20240412110301', 'case_output': '/home/bella-xia/auto-testing/auto_minium/test6_test_input/outputs/20240412110301/test_make_and_check_form/20240412110323478239'}
[W 2024-04-12 11:03:25,306 minium assertbase#332 _log_info_when_error] build info: {'version': '1.4.6', 'revision': 'b389ff4b1d94cc73bb5363fc602f5823512df292', 'branch': 'master', 'update_at': '2023-08-28 17:46:51'}
[W 2024-04-12 11:03:25,307 minium minitest#828 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x7fa04c6df850>
